<!DOCTYPE html>
<html>
<head>
    <title>
    Generating non-repeating strings â€“ jverkamp.com
</title>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

    <link rel="alternate" type="application/atom+xml" title="jverkamp.com (Atom 2.0)" href="//blog.jverkamp.com/feed/">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/nanogallery/4.4.2/css/themes/light/nanogallery_light.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.css" integrity="sha384-exe4Ak6B0EoJI0ogGxjJ8rn+RN3ftPnEQrGwX59KTCl5ybGzvHGKjhPKk/KC3abb" crossorigin="anonymous">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bigfoot/2.1.4/bigfoot-default.min.css">

<link href="https://fonts.googleapis.com/css?family=Spectral+SC|Lato|Share+Tech+Mono" rel="stylesheet">

<link rel="stylesheet" href="/custom.css" defer />


    
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
</head>
<body>
    <div id="wrapper">
        <header id="page-header" role="banner">
    <h1><a href="/">JP's Blog</a></h1>

    <ul id="page-header-links">
        <li>
            <a href="https://twitter.com/jpverkamp">Twitter</a> *
            <a href="https://github.com/jpverkamp">GitHub</a> *
            <a href="https://www.flickr.com/photos/jpverkamp">Flickr</a>
        </li>
        <li>
            <form action="//www.google.com/search" method="get" onsubmit="(function(obj){obj.q.value='site:blog.jverkamp.com '+obj.qfront.value;})(this)" class="navbar-form navbar-right" role="search" _lpchecked="1">
                <div class="form-group">
                    <input name="q" type="hidden">
                    <input name="qfront" type="text" class="form-control" placeholder="Search">
                    <button type="submit" class="btn btn-default" value="Search">Search</button>
                </div>
            </form>
        </li>

    </ul>

    <nav id="header-navigation" role="navigation" class="ribbon">
        <ul class="main-navigation">
        
            
        
            
            <li><a href="https://blog.jverkamp.com/photography/">Photography</a></li>
            
        
            
            <li><a href="https://blog.jverkamp.com/programming/">Programming</a></li>
            
        
            
            <li><a href="https://blog.jverkamp.com/research/">Research</a></li>
            
        
            
            <li><a href="https://blog.jverkamp.com/reviews/">Reviews</a></li>
            
        
            
            <li><a href="https://blog.jverkamp.com/writing/">Writing</a></li>
            
        
            <li class="subscription" data-subscription="rss"><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
        </ul>
    </nav>
</header>


        <div id="page-content-wrapper">
            <div id="page-content">
            
<article>
	<header>
		<h1 class="entry-title">Generating non-repeating strings</h1>

        <div class="entry-meta">
            
            <span class="entry-date">2012-12-12</span>
            
            
        </div>

        <div class="entry-tags">
    
    

    <ul class="taxonomy-keys">
    
        
        

        
        

        
    
        
        

        
        

        
        <li>
            <a class="taxonomy-key" href="/programming/languages/">Languages</a>
            <ul class="taxonomy-values">
            
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    

                    
                    

                    <li>
                        <a href="https://blog.jverkamp.com/2012/12/10/numbers-of-wirth/" class="previous-link"></a>
                        <a class="taxonomy-value" href="/programming/languages/python">Python</a>
                        <a href="https://blog.jverkamp.com/2013/01/17/decoding-escaped-unicode-strings/" class="next-link"></a>
                    </li>
                
            
                

                
                

                
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    

                    
                    

                    <li>
                        <a href="https://blog.jverkamp.com/2012/12/10/numbers-of-wirth/" class="previous-link"></a>
                        <a class="taxonomy-value" href="/programming/languages/racket">Racket</a>
                        <a href="https://blog.jverkamp.com/2012/12/14/narcissistic-numbers/" class="next-link"></a>
                    </li>
                
            
                

                
                

                
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    

                    
                    

                    <li>
                        <a href="https://blog.jverkamp.com/2012/12/10/numbers-of-wirth/" class="previous-link"></a>
                        <a class="taxonomy-value" href="/programming/languages/scheme">Scheme</a>
                        <a href="https://blog.jverkamp.com/2012/12/14/narcissistic-numbers/" class="next-link"></a>
                    </li>
                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
            
            </ul>
        </li>
        
    
        
        

        
        

        
        <li>
            <a class="taxonomy-key" href="/programming/sources/">Sources</a>
            <ul class="taxonomy-values">
            
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    

                    
                    

                    <li>
                        <a href="https://blog.jverkamp.com/2012/12/10/numbers-of-wirth/" class="previous-link"></a>
                        <a class="taxonomy-value" href="/programming/sources/programming-praxis">Programming Praxis</a>
                        <a href="https://blog.jverkamp.com/2012/12/14/narcissistic-numbers/" class="next-link"></a>
                    </li>
                
            
                

                
                

                
            
                

                
                

                
            
            
            </ul>
        </li>
        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
    

    
        
        <li><a class="taxonomy-key" href="/programming">programming</a>
            <ul>
                <li>
                
                <a href="https://blog.jverkamp.com/2012/12/10/numbers-of-wirth/" class="previous-link">Prev</a>
                

                
                <a href="https://blog.jverkamp.com/2012/12/14/narcissistic-numbers/" class="next-link">Next</a>
                
            </ul>
        </li>
        

        
        <li><a class="taxonomy-key" href="/">All Posts</a>
            <ul>
                <li>
                
                <a href="https://blog.jverkamp.com/2012/12/12/confession---day-41/" class="previous-link">Prev</a>
                

                
                <a href="https://blog.jverkamp.com/2012/12/13/confession---day-42/" class="next-link">Next</a>
                
            </ul>
        </li>
        
    
    </ul>
</div>

    </header>

	<div class="entry-content">
		<p>Based on <a title="Programming Praxis: Stepwise Program Development: A Heuristic Algorithm" href="http://programmingpraxis.com/2012/12/11/stepwise-program-development-a-heuristic-algorithm/">this post</a> from Programming Praxis, today&rsquo;s goal is to write an algorithm that, given a number *N*Â and an alphabetÂ <em>A</em>, will generate all strings of length N made of letters from A with no adjacent substrings that repeat.</p>

<p>So for example, givenÂ <em>N = 5</em> andÂ <em>A = {a, b, c}</em> the string <em>abcba</em> will be allowed, but none of <em>abcbc</em>, <em>ababc</em>, nor even <em>aabcb</em> will be allowed (the <em>bc</em>, <em>ab</em>, and <em>a</em> repeat).</p>

<p>It&rsquo;s a little more general even than the version Programming Praxis specifies (they limit the alphabet to exactlyÂ *A = {1, 2, 3} *and more more general still than their original source which requires only one possible string, but I think it&rsquo;s worth the extra complications.</p>

<p></p>

<p>To start out with, let&rsquo;s just brute force the problem. Generate all possible sequences of characters in turn. For each, loop over every possible splitting point and every possible length at that splitting point. If any of those result in a duplicate substring, throw it out. We&rsquo;re doing more work than we have to, generating strings where we can already tell after just the first two characters that they repeat, but that&rsquo;s for future optimizations, yes?</p>

<p>So we&rsquo;ll start with code that given a length and an alphabet will give us all possible strings. This is a perfect use of recursion and generators (in the Python version).</p>

<p>Python:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">combinations</span>(N, A):
	<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;&#39;&#39;Generate all strings from A of length N.&#39;&#39;&#39;</span>
	<span style="color:#66d9ef">if</span> N <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
		<span style="color:#66d9ef">yield</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;&#39;</span>
	<span style="color:#66d9ef">else</span>:
		<span style="color:#66d9ef">for</span> c <span style="color:#f92672">in</span> A:
			<span style="color:#66d9ef">for</span> s <span style="color:#f92672">in</span> combinations(N <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>, A):
				<span style="color:#66d9ef">yield</span> c <span style="color:#f92672">+</span> s</code></pre></div>
<p>Racket:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme"><span style="color:#75715e">; generate all strings from A of length N</span>
(<span style="color:#66d9ef">define </span>(combinations n a)
  (map list-&gt;string
       (<span style="color:#66d9ef">let </span>loop ([n n])
         (cond
           [(zero? n) <span style="color:#f92672">&#39;</span>(())]
           [else
            (for*/list ([c (in-string a)]
                        [r (in-list (loop (- n <span style="color:#ae81ff">1</span>)))])
              (cons c r))]))))</code></pre></div>
<p>In the case of Racket, I nest the helper <em>loop</em> just so that I can map <em>list-&gt;string</em> at the end. If I were just looking for lists or if I had used <em>string-append</em> rather than <em>cons</em> that wouldn&rsquo;t have been necessary.</p>

<p>Next, we want a function that can check if there are any duplicate substrings. As aforementioned, we&rsquo;ll generate each index in the string (ignoring the very first and last) and check each length substring before and after that index.</p>

<p>Python:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">has_repeat</span>(s):
	<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;&#39;&#39;Check if a string has a non-empty repeating substring.&#39;&#39;&#39;</span>

	N <span style="color:#f92672">=</span> len(s)
	<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> xrange(<span style="color:#ae81ff">1</span>, N):
		<span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> xrange(<span style="color:#ae81ff">1</span>, min(i, N <span style="color:#f92672">-</span> i) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>):
			<span style="color:#66d9ef">if</span> s[i<span style="color:#f92672">-</span>j:i] <span style="color:#f92672">==</span> s[i:i<span style="color:#f92672">+</span>j]:
				<span style="color:#66d9ef">return</span> True

	<span style="color:#66d9ef">return</span> False</code></pre></div>
<p>Racket:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme"><span style="color:#75715e">; check if a string has a non-empty repeating substring</span>
(<span style="color:#66d9ef">define </span>(repeats? s)
  (call/cc
   (<span style="color:#66d9ef">lambda </span>(return)
     (<span style="color:#66d9ef">define </span>N (string-length s))
     (for* ([i (in-range <span style="color:#ae81ff">1</span> N)]
            [j (in-range <span style="color:#ae81ff">1</span> (+ <span style="color:#ae81ff">1</span> (min i (- N i))))])
       (when (equal? (substring s (- i j) i)
                     (substring s i (+ i j)))
         (return <span style="color:#66d9ef">#t</span>)))
     (return <span style="color:#66d9ef">#f</span>))))</code></pre></div>
<p>Using <em>call/cc</em> like this is a trick to bail out of the loop early. Otherwise, we could have used <em>andmap</em>, but I much prefer being able to use *for**.</p>

<p>And now that the hard part is out of the way, we can put it all together:</p>

<p>Python:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">non_repeating_direct</span>(N, A):
	<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;&#39;&#39;
</span><span style="color:#e6db74">	Generate all strings of length N from the alphabet A
</span><span style="color:#e6db74">	such that no adjacent substrings are repeated.
</span><span style="color:#e6db74">	&#39;&#39;&#39;</span>

	<span style="color:#66d9ef">return</span> [s <span style="color:#66d9ef">for</span> s <span style="color:#f92672">in</span> combinations(N, A) <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> has_repeat(s)]</code></pre></div>
<p>Racket:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme"><span style="color:#75715e">; generate all strings of length N from alphabet A with no repeating substrings</span>
(<span style="color:#66d9ef">define </span>(non-repeating-direct N A)
  (for/list ([s (in-list (combinations N A))]
             <span style="color:#f92672">#</span>:when (not (repeats? s)))
    s))</code></pre></div>
<p>So how does it work out?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">&gt; (time (non-repeating-direct <span style="color:#ae81ff">5</span> <span style="color:#e6db74">&#34;abc&#34;</span>))
cpu time: <span style="color:#ae81ff">0</span> real time: <span style="color:#ae81ff">2</span> gc time: <span style="color:#ae81ff">0</span>
<span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;abaca&#34;</span> <span style="color:#e6db74">&#34;abacb&#34;</span> <span style="color:#e6db74">&#34;abcab&#34;</span> <span style="color:#e6db74">&#34;abcac&#34;</span> <span style="color:#e6db74">&#34;abcba&#34;</span>
  <span style="color:#e6db74">&#34;acaba&#34;</span> <span style="color:#e6db74">&#34;acabc&#34;</span> <span style="color:#e6db74">&#34;acbab&#34;</span> <span style="color:#e6db74">&#34;acbac&#34;</span> <span style="color:#e6db74">&#34;acbca&#34;</span>
  <span style="color:#e6db74">&#34;babca&#34;</span> <span style="color:#e6db74">&#34;babcb&#34;</span> <span style="color:#e6db74">&#34;bacab&#34;</span> <span style="color:#e6db74">&#34;bacba&#34;</span> <span style="color:#e6db74">&#34;bacbc&#34;</span>
  <span style="color:#e6db74">&#34;bcaba&#34;</span> <span style="color:#e6db74">&#34;bcabc&#34;</span> <span style="color:#e6db74">&#34;bcacb&#34;</span> <span style="color:#e6db74">&#34;bcbab&#34;</span> <span style="color:#e6db74">&#34;bcbac&#34;</span>
  <span style="color:#e6db74">&#34;cabac&#34;</span> <span style="color:#e6db74">&#34;cabca&#34;</span> <span style="color:#e6db74">&#34;cabcb&#34;</span> <span style="color:#e6db74">&#34;cacba&#34;</span> <span style="color:#e6db74">&#34;cacbc&#34;</span>
  <span style="color:#e6db74">&#34;cbabc&#34;</span> <span style="color:#e6db74">&#34;cbaca&#34;</span> <span style="color:#e6db74">&#34;cbacb&#34;</span> <span style="color:#e6db74">&#34;cbcab&#34;</span> <span style="color:#e6db74">&#34;cbcac&#34;</span>))</code></pre></div>
<p>Looks good so far.</p>

<p>As an interesting aside, <a href="http://gravatar.com/benmmurphy">Ben</a> over in the Programming Praxis comments pointed out that the number of such words corresponds with the number of <a href="http://oeis.org/A006156" title="OEIS Sequence number A006156">ternary squarefree words of length n</a>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">&gt; (for/list ([n (in-range <span style="color:#ae81ff">10</span>)]) (length (non-repeating-direct n <span style="color:#e6db74">&#34;abc&#34;</span>)))
<span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">30</span> <span style="color:#ae81ff">42</span> <span style="color:#ae81ff">60</span> <span style="color:#ae81ff">78</span> <span style="color:#ae81ff">108</span>)</code></pre></div>
<p>And actually once you parse through all of the jargon, it makes perfect sense. <a href="https://en.wikipedia.org/wiki/Ternary">Ternary</a> is base three (thus the alphabet <em>A = {a, b, c}</em>), words are what we are generating of length <em>n</em>, and a <a href="https://en.wikipedia.org/wiki/squarefree%20word">squarefree word</a> is one without any adjacent subwords.</p>

<p>The full source code (along with unit tests) is available here:
- <a href="https://github.com/jpverkamp/small-projects/blob/master/blog/non-repeating-strings.py" title="Python non-repeating strings source on GitHub">Python source</a>
- <a href="https://github.com/jpverkamp/small-projects/blob/master/blog/non-repeating-strings.rkt" title="Racket non-repeating strings source on GitHub">Racket source</a></p>
	</div>

    
<div class="entry-comments">
    <div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_shortname = "jverkamp";
            var disqus_title = "Generating non-repeating strings";
            var disqus_url = "https:\/\/blog.jverkamp.com\/2012\/12\/12\/generating-non-repeating-strings\/";

             
            (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>


</article>

            </div>
        </div>

        <footer id="page-footer" role="contentinfo">
    <nav id="footer-navigation" role="navigation" class="ribbon">
        <ul class="main-navigation">
            <li><a href="/archive-by-date/">All posts: By Date</a></li>
            <li><a href="/archive-by-tag/">All posts: By Tag</a></li>

            <li>
                <a href="/atom.xml">
                    RSS: All <sup>

<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24">
    <path fill="white" d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z" />
</svg>
</sup>
                </a>
            </li>

            
            <li>
                <a href="/programming/atom.xml">
                    RSS: programming<sup>

<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24">
    <path fill="white" d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z" />
</svg>
</sup>
                </a>
            </li>
            
        </ul>
    </nav>

    <div id="page-footer-content">
        <div class="legal">
            <p>
                All posts unless otherwise mentioned are licensed under
                <a rel="license" href="//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US">
                    <img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png">
                </a>
            </p>

            <p>
                Any source code unless otherwise mentioned is licensed under the <a href="//directory.fsf.org/wiki/License:BSD_3Clause">3 clause BSD license</a>
            </p>
        </div>
    </div>
</footer>

    </div>

    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/nanogallery/4.4.2/jquery.nanogallery.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.js" integrity="sha384-OMvkZ24ANLwviZR2lVq8ujbE/bUO8IR1FdBrKLQBI14Gq5Xp/lksIccGkmKL8m+h" crossorigin="anonymous"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/bigfoot/2.1.4/bigfoot.min.js"></script>

<script type="text/javascript" src="/custom.js" defer></script>

</body>
</html>
