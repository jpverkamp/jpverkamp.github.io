<!doctype html><html><head><title>A Brainf**k Interpreter – jverkamp.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><link rel=alternate type=application/atom+xml title="jverkamp.com (Atom 2.0)" href=//blog.jverkamp.com/feed/><script src=/jquery_5823201688106629450.min.8c7d803d89ebdecf2416d468f4ecb981a3acf645154a7a336f2e5d0190ea8163.js integrity="sha256-jH2APYnr3s8kFtRo9Oy5gaOs9kUVSnozby5dAZDqgWM=" defer></script>
<script src=/jquery.fancybox_6181813213021922412.min.921ca906a32e718ab61ac0b4da24e0eaa6bdd41912654a33b44bd3fc2f0c2a4d.js integrity="sha256-khypBqMucYq2GsC02iTg6qa91BkSZUoztEvT/C8MKk0=" defer></script>
<script src=/katex_12008035502722260518.min.1c3dce03daaf56a7d2fe0d0ec49bf35256837226f835adaf52c09502ef9bc5d1.js integrity="sha256-HD3OA9qvVqfS/g0OxJvzUlaDcib4Na2vUsCVAu+bxdE=" defer></script>
<script src=/auto-render_2152414756166376840.min.45ae2f6b03d0c7b867df0a6cb7d43215ec78369998685a5748c5b12f502321f2.js integrity="sha256-Ra4vawPQx7hn3wpst9QyFex4NpmYaFpXSMWxL1AjIfI=" defer></script>
<script src=/bigfoot_8444447145154709333.min.5e80bd85ebaeb95607834d6777bfe7013d1d161f0f02a31b845e4bd765898316.js integrity="sha256-XoC9heuuuVYHg01nd7/nAT0dFh8PAqMbhF5L12WJgxY=" defer></script>
<script src=/mermaid_12365941879912544862.min.973b5415b3fa1835d620c0e58236f859d5f80891f447e240cbbb9eb825251ff0.js integrity="sha256-lztUFbP6GDXWIMDlgjb4WdX4CJH0R+JAy7ueuCUlH/A=" defer></script>
<script src=/main.min.d60298c89fc4f1e938aceb45c60926efee8b03efc8b50683082e669a100da643.js integrity="sha256-1gKYyJ/E8ek4rOtFxgkm7+6LA+/ItQaDCC5mmhANpkM=" defer></script>
<link rel=stylesheet href=/katex_14163593549783030822.min.16bacd59fb224ae6c97a749ab0ac1e708cb5e0c9ce5c9a08d7fd73dc8e69429f.css integrity="sha256-FrrNWfsiSubJenSasKwecIy14MnOXJoI1/1z3I5pQp8="><link rel=stylesheet href=/bigfoot-default_16482899066638414220.min.f15d4faa4519addb976f9d69b42bd9eb491b3596b6b2eda83aa3e9e1f48b8f14.css integrity="sha256-8V1PqkUZrduXb51ptCvZ60kbNZa2su2oOqPp4fSLjxQ="><link rel=stylesheet href=/jquery.fancybox_16222217791602823071.min.e28b5d7d9d89efacb5f708ac30cbd76b1b9a0f816dfd9da96631d1d09cbbdd76.css integrity="sha256-4otdfZ2J76y19wisMMvXaxuaD4Ft/Z2pZjHR0Jy73XY="><link rel=stylesheet href=/css_4780214198035419921.min.246b6f8e7620eeb717bca5e7b121037906e5dfaa05805f427fcc5a09b6c99f5c.css integrity="sha256-JGtvjnYg7rcXvKXnsSEDeQbl36oFgF9Cf8xaCbbJn1w="><link rel=stylesheet href=/main.min.e0e68b86dea32185ab89b0b9cc01649107cc6b0be3290c8c7b13c716bc0dabfa.css integrity="sha256-4OaLht6jIYWribC5zAFkkQfMawvjKQyMexPHFrwNq/o="></head><body><div id=wrapper><header id=page-header role=banner><h1><a href=/>JP's Blog</a></h1><ul id=page-header-links><li><a href=https://github.com/jpverkamp>GitHub</a> *
<a href=https://www.flickr.com/photos/jpverkamp>Flickr</a> *
<a href=/resume>Resume</a></li><li><form action=/search/ method=get class="navbar-form navbar-right" role=search _lpchecked=1><div class=form-group><input name=q type=text class=form-control placeholder=Search>
<button type=submit class="btn btn-default" value=Search>Search</button></div></form></li></ul><nav id=header-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=https://blog.jverkamp.com/programming/>Programming</a></li><li><a href=https://blog.jverkamp.com/reviews/>Reviews</a></li><li><a href=https://blog.jverkamp.com/photography/>Photography</a></li><li><a href=https://blog.jverkamp.com/maker/>Maker</a></li><li><a href=https://blog.jverkamp.com/writing/>Writing</a></li><li><a href=https://blog.jverkamp.com/research/>Research</a></li><li><a href=https://blog.jverkamp.com/search/>Search</a></li><li class=subscription data-subscription=rss><a href=/atom.xml rel=subscribe-rss title="subscribe via RSS">RSS</a></li></ul></nav></header><div id=page-content-wrapper><div id=page-content><article data-pagefind-body><header><h1 class=entry-title data-pagefind-meta=title>A Brainf**k Interpreter</h1><div class=entry-meta><span class=entry-date>2012-12-30</span></div><div class=entry-taxonomies><div class=entry-tags><ul class=taxonomy-keys><li><a class=taxonomy-key href=/programming/languages/>Languages</a><ul class=taxonomy-values><li><a class=taxonomy-value href=/programming/languages/brainfk>Brainf**k</a><a href=https://blog.jverkamp.com/2012/12/31/parallel-bf/ class=next-link></a></li><li><a href=https://blog.jverkamp.com/2012/12/22/nested-primes/ class=previous-link></a><a class=taxonomy-value href=/programming/languages/racket>Racket</a><a href=https://blog.jverkamp.com/2012/12/31/parallel-bf/ class=next-link></a></li></ul></li><li><a class=taxonomy-key href=/programming/sources/>Sources</a><ul class=taxonomy-values><li><a class=taxonomy-value href=/programming/sources/plt-games>PLT Games</a><a href=https://blog.jverkamp.com/2012/12/31/parallel-bf/ class=next-link></a></li></ul></li><li><a class=taxonomy-key href=/programming/topics/>Topics</a><ul class=taxonomy-values><li><a class=taxonomy-value href=/programming/topics/esolangs>Esolangs</a><a href=https://blog.jverkamp.com/2012/12/31/parallel-bf/ class=next-link></a></li></ul></li><li><a class=taxonomy-key href=/programming>programming</a><ul><li><a href=https://blog.jverkamp.com/2012/12/22/nested-primes/ class=previous-link>Prev</a>
<a href=https://blog.jverkamp.com/2012/12/31/parallel-bf/ class=next-link>Next</a></ul></li><li><a class=taxonomy-key href=/>All Posts</a><ul><li><a href=https://blog.jverkamp.com/2012/12/30/confession-day-59/ class=previous-link>Prev</a>
<a href=https://blog.jverkamp.com/2012/12/31/confession-day-60/ class=next-link>Next</a></ul></li></ul></div></div></header><div class=entry-content><p>The <a title="PLT Games" href=http://www.pltgames.com/>PLT Games</a> website has a competition going where each month there will be some sort of theme for a completely new program. The <a title="PLT Games: December 2012" href=http://www.pltgames.com/competition/2012/12>first theme</a> is a <a href=https://en.wikipedia.org/wiki/Turing%20Tarpit>Turing Tarpit</a>&ndash;a language that is technically Turing complete and thus can do anything any other Turing complete language can, but is so minimal as to make doing anything worthwhile overly difficult.</p><blockquote><ol start=54><li>Beware of the Turing tar-pit in which everything is possible but nothing of interest is easy.
&ndash; Alan Perlis, <cite><strong><a href=https://en.wikipedia.org/wiki/Epigrams%20on%20Programming>Epigrams on Programming</a></strong></cite></li></ol></blockquote><p>To that end, I&rsquo;ve been working on a little something special which I may or may not finish by the end of the month (yes, I know that&rsquo;s tomorrow). But while I was working on it, I put together a Brainf**k (BF) interpreter which I found pretty interesting to play with.</p><p>The virtual machine that BF is designed to run on is made of a tape / series of cells, a pointer to a current location on that tape / current cell, and a sequence of instructions (8 plus 1 for debugging):</p><table><thead><tr><th>></th><th>Move the cell pointer to the right</th></tr></thead><tbody><tr><td>&lt;</td><td>Move the cell pointer to the left</td></tr><tr><td>+</td><td>Add one to the current cell</td></tr><tr><td>-</td><td>Subtract one from the current cell</td></tr><tr><td>,</td><td>Read a value and store it in the current cell</td></tr><tr><td>.</td><td>Output the value stored in the current cell</td></tr><tr><td>[</td><td>If the current cell is 0, jump past the matching ]</td></tr><tr><td>]</td><td>If the current cell is not 0, jump back to the matching [</td></tr><tr><td>#</td><td><em>DEBUG</em>: Output the current values on the tape</td></tr></tbody></table><p>Believe it or not, the first 8 instructions are all that you need to make a fully Turing complete language (just so long as either the tape is unbounded or the values that you can store in each cell are and you have at least 5). There are actually some really interesting proofs (if you&rsquo;re in to that sort of thing) available on the <a title="Esolang: Brainf**k" href=http://esolangs.org/wiki/Brainfuck#Computational_class>Esolang wiki</a>.</p><p>There are still a few choices to make if you&rsquo;re going to implement a BF interpreter: specifically how large your tape is, how large each value that you can store in a cell is, and how you treat reading an EOF character. For the sample implementation that I&rsquo;m going to include below, the answers are unbounded, unbounded, and store a 0, although it would be easy enough to implement other options.</p><p>Speaking of implementation&mldr;</p><p>The first thing to do is set up the system. I&rsquo;ve implemented two versions, either of which will allow the tape to grow in an unbounded manner. You can see the full source for both of them on <a href=https://github.com/jpverkamp/small-projects/blob/master/blog/bf.rkt title="GitHub: BF interpreter in Racket">my GitHub</a> if you&rsquo;d like to follow along.</p><p>In this post, I&rsquo;ll be describing the second one that I wrote, which uses two lists for the values on the tape to the left and right, and a value between them for the current cell. For example, if the current tape has the values &mldr; 0 0 1 2 3 4 5 0 0 &mldr; and the pointer is at the 3, then the values of those variables would be:</p><table><thead><tr><th>tape-left</th><th>&lsquo;(2 1)</th></tr></thead><tbody><tr><td>tape-cell</td><td>3</td></tr><tr><td>tape-right</td><td>&lsquo;(4 5)</td></tr></tbody></table><p>Note how the 0s that stretch off indefinitely in either direction are not stored. I&rsquo;ve made the interface for this somewhat clearer by defining the functions <code>car+</code> and <code>cdr+</code> which will act just as the normal <code>car</code> and <code>cdr</code>, except on <code>null?</code> lists will treat is as an infinite list of 0s.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scheme data-lang=scheme><span style=display:flex><span>&gt;<span style=color:#75715e>; special cdr and car that make infinite lists of 0s</span>
</span></span><span style=display:flex><span>(<span style=color:#66d9ef>define </span>(<span style=color:#a6e22e>cdr+</span> ls) (<span style=color:#66d9ef>if </span>(null? ls) ls (cdr ls)))
</span></span><span style=display:flex><span>(<span style=color:#66d9ef>define </span>(<span style=color:#a6e22e>car+</span> ls) (<span style=color:#66d9ef>if </span>(null? ls) <span style=color:#ae81ff>0</span> (car ls)))
</span></span></code></pre></div><p>With that all out of the way, here&rsquo;s the start of our code. The first thing we need is the main loop:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scheme data-lang=scheme><span style=display:flex><span><span style=color:#75715e>; loop across the tape </span>
</span></span><span style=display:flex><span>(<span style=color:#66d9ef>let </span>loop ([pc <span style=color:#ae81ff>0</span>]            <span style=color:#75715e>; current instructions</span>
</span></span><span style=display:flex><span>           [tape-left <span style=color:#f92672>&#39;</span>()]   <span style=color:#75715e>; values on the tape to the left</span>
</span></span><span style=display:flex><span>           [tape-cell <span style=color:#ae81ff>0</span>]     <span style=color:#75715e>; current cell on the tape</span>
</span></span><span style=display:flex><span>           [tape-right <span style=color:#f92672>&#39;</span>()]) <span style=color:#75715e>; values on the tape to the right</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>...</span>)
</span></span></code></pre></div><p>As mentioned, we&rsquo;re keeping track of the current program counter (<code>pc</code>) and the three variables that determine the tape. The tape starts with infinitely many 0s in either direction.</p><p>The next step will be to dispatch on each character in the input in turn. We&rsquo;ll use a <code>case</code> statement for this. There&rsquo;s also the code to exit when we reach the end of the input.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scheme data-lang=scheme><span style=display:flex><span><span style=color:#75715e>; only keep running so long as we have more program to run</span>
</span></span><span style=display:flex><span>(<span style=color:#a6e22e>when</span> (&lt; pc (string-length in))
</span></span><span style=display:flex><span>  <span style=color:#75715e>; dispatch based on the current input</span>
</span></span><span style=display:flex><span>  (<span style=color:#66d9ef>case </span>(string-ref in pc)
</span></span><span style=display:flex><span>     <span style=color:#f92672>...</span>))
</span></span></code></pre></div><p>Next, the first two commands which move the current tape pointer either to the left (&lt;) or to the right (>). For these, it&rsquo;s just a matter of using <code>cons</code>, <code>car+</code>, and <code>cdr+</code> to shift a value off one of the tape lists and put the current cell onto the other.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scheme data-lang=scheme><span style=display:flex><span><span style=color:#75715e>; move the tape pointer to the left</span>
</span></span><span style=display:flex><span>[(<span style=color:#e6db74>#\&lt;</span>)
</span></span><span style=display:flex><span> (<span style=color:#a6e22e>loop</span> (+ pc <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>       (<span style=color:#a6e22e>cdr+</span> tape-left)
</span></span><span style=display:flex><span>       (<span style=color:#a6e22e>car+</span> tape-left)
</span></span><span style=display:flex><span>       (cons tape-cell tape-right))]
</span></span></code></pre></div><p>Of course, the command to shift right would be much the same.</p><p>Next, we have to be able to increment or decrement the current. Since that&rsquo;s just one of the looping variables, the code is also pretty straight forward:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scheme data-lang=scheme><span style=display:flex><span><span style=color:#75715e>; increment the current cell</span>
</span></span><span style=display:flex><span>[(<span style=color:#e6db74>#\+</span>)
</span></span><span style=display:flex><span> (<span style=color:#a6e22e>loop</span> (+ pc <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>       tape-left
</span></span><span style=display:flex><span>       (+ tape-cell <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>       tape-right)]
</span></span></code></pre></div><p>The next two are a little more tricky since I wanted to either deal with numeric or character input. This will be controlled by the parameter <code>current-i/o-mode</code> which will either have the value <code>numeric</code> or <code>unicode</code>. There&rsquo;s a bit of code to choose the correct input and output functions and to deal with <code>eof-object</code>s, but it&rsquo;s still not too bad:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scheme data-lang=scheme><span style=display:flex><span><span style=color:#75715e>; output the current cell</span>
</span></span><span style=display:flex><span>[(<span style=color:#e6db74>#\.</span>)
</span></span><span style=display:flex><span> (<span style=color:#66d9ef>case </span>(<span style=color:#a6e22e>current-i/o-mode</span>)
</span></span><span style=display:flex><span>   [(<span style=color:#a6e22e>numeric</span>) (display tape-cell) (display <span style=color:#e6db74>&#34; &#34;</span>)]
</span></span><span style=display:flex><span>   [(<span style=color:#a6e22e>unicode</span>) (display (integer-&gt;char tape-cell))]
</span></span><span style=display:flex><span>   [<span style=color:#66d9ef>else </span>(<span style=color:#a6e22e>error</span> <span style=color:#e6db74>&#39;bf</span> (<span style=color:#a6e22e>format</span> <span style=color:#e6db74>&#34;invalid i/o mode: ~s&#34;</span> (<span style=color:#a6e22e>current-i/o-mode</span>)))])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> (<span style=color:#a6e22e>loop</span> (+ pc <span style=color:#ae81ff>1</span>) tape-left tape-cell tape-right)]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>; input into the current cell</span>
</span></span><span style=display:flex><span><span style=color:#75715e>; on eof, write 0</span>
</span></span><span style=display:flex><span>[(<span style=color:#e6db74>#\,</span>)
</span></span><span style=display:flex><span> (<span style=color:#66d9ef>define </span>cin
</span></span><span style=display:flex><span>   (<span style=color:#66d9ef>case </span>(<span style=color:#a6e22e>current-i/o-mode</span>)
</span></span><span style=display:flex><span>     [(<span style=color:#a6e22e>numeric</span>) (<span style=color:#a6e22e>read</span>)]
</span></span><span style=display:flex><span>     [(<span style=color:#a6e22e>unicode</span>) (<span style=color:#a6e22e>read-char</span>)]
</span></span><span style=display:flex><span>     [<span style=color:#66d9ef>else </span>(<span style=color:#a6e22e>error</span> <span style=color:#e6db74>&#39;bf</span> (<span style=color:#a6e22e>format</span> <span style=color:#e6db74>&#34;invalid i/o mode: ~s&#34;</span> (<span style=color:#a6e22e>current-i/o-mode</span>)))]))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> (<span style=color:#a6e22e>loop</span> (+ pc <span style=color:#ae81ff>1</span>) 
</span></span><span style=display:flex><span>       tape-left
</span></span><span style=display:flex><span>       (<span style=color:#a6e22e>cond</span>
</span></span><span style=display:flex><span>         [(eof-object? cin) <span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>         [(eq? (<span style=color:#a6e22e>current-i/o-mode</span>) <span style=color:#e6db74>&#39;unicode</span>) (char-&gt;integer cin)]
</span></span><span style=display:flex><span>         [<span style=color:#66d9ef>else </span>cin])
</span></span><span style=display:flex><span>       tape-right)]
</span></span></code></pre></div><p>Finally, we come to by far the most powerful part of the language, the branching/looping construct. The code for the two of these is actually pretty similar, but it&rsquo;s still non-trivial to write, basically requiring a loop to find the next <strong>matching</strong> bracket.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scheme data-lang=scheme><span style=display:flex><span><span style=color:#75715e>; jump past the matching ] if the cell under the pointer is 0</span>
</span></span><span style=display:flex><span>[(<span style=color:#e6db74>#\[</span>)
</span></span><span style=display:flex><span> (<span style=color:#66d9ef>if </span>(= tape-cell <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>     <span style=color:#75715e>; find the matching ]</span>
</span></span><span style=display:flex><span>     (<span style=color:#66d9ef>let </span>bracket-loop ([pc (+ pc <span style=color:#ae81ff>1</span>)] [stk <span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>       (<span style=color:#66d9ef>case </span>(string-ref in pc)
</span></span><span style=display:flex><span>         [(<span style=color:#e6db74>#\[</span>) (<span style=color:#a6e22e>bracket-loop</span> (+ pc <span style=color:#ae81ff>1</span>) (+ stk <span style=color:#ae81ff>1</span>))]
</span></span><span style=display:flex><span>         [(<span style=color:#e6db74>#\]</span>)
</span></span><span style=display:flex><span>          (<span style=color:#66d9ef>if </span>(= stk <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>              (<span style=color:#a6e22e>loop</span> (+ pc <span style=color:#ae81ff>1</span>) tape-left tape-cell tape-right)
</span></span><span style=display:flex><span>              (<span style=color:#a6e22e>bracket-loop</span> (+ pc <span style=color:#ae81ff>1</span>) (- stk <span style=color:#ae81ff>1</span>)))]
</span></span><span style=display:flex><span>         [else
</span></span><span style=display:flex><span>          (<span style=color:#a6e22e>bracket-loop</span> (+ pc <span style=color:#ae81ff>1</span>) stk)]))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>     <span style=color:#75715e>; otherwise, just skip</span>
</span></span><span style=display:flex><span>     (<span style=color:#a6e22e>loop</span> (+ pc <span style=color:#ae81ff>1</span>) tape-left tape-cell tape-right))]
</span></span></code></pre></div><p>And that&rsquo;s pretty much it. There&rsquo;s still the debugging output, but that&rsquo;s pretty straightforward. If you&rsquo;d like to see it, you can do so <a href=https://github.com/jpverkamp/small-projects/blob/master/blog/bf.rkt title="GitHub: BF interpreter in Racket">on GitHub</a>.</p><p>All that being said, how does it actually work? Well, all we have is a new function <code>bf</code> that takes a string of BF code and interprets it. So let&rsquo;s try a few examples.</p><p>First, how about a simple cat program (copy the input to the output until we get an EOF):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scheme data-lang=scheme><span style=display:flex><span>&gt; (<span style=color:#a6e22e>bf</span> <span style=color:#e6db74>&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>,   read the first character
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[   loop while not eof (0)
</span></span></span><span style=display:flex><span><span style=color:#e6db74> .  output the current character we just read
</span></span></span><span style=display:flex><span><span style=color:#e6db74> ,  read another one
</span></span></span><span style=display:flex><span><span style=color:#e6db74>]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>Hello World!
</span></span><span style=display:flex><span>Hello World!
</span></span></code></pre></div><p>That was easy enough, how about a function to add two numbers:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scheme data-lang=scheme><span style=display:flex><span>&gt; (<span style=color:#a6e22e>current-i/o-mode</span> <span style=color:#e6db74>&#39;numeric</span>)
</span></span><span style=display:flex><span>&gt; (<span style=color:#a6e22e>bf</span> <span style=color:#e6db74>&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>,   read the first number into cell 0
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&gt;,  read the second number into cell 1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[   loop while cell 1 is not 0
</span></span></span><span style=display:flex><span><span style=color:#e6db74> - remove one from cell 1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;.  move back to cell 0 and output
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#ae81ff>15</span> <span style=color:#ae81ff>27</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>42</span>
</span></span></code></pre></div><p>Or we can go with the ever-loved Hello World program (original code form the <a href=http://esolangs.org/wiki/Brainfuck#Hello.2C_World.21 title="Esolang Wiki: Brainf**k: Hello World!">Esolang Wiki</a>, comments added by me):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scheme data-lang=scheme><span style=display:flex><span>&gt; (<span style=color:#a6e22e>current-i/o-mode</span> <span style=color:#e6db74>&#39;unicode</span>)
</span></span><span style=display:flex><span>&gt; (<span style=color:#a6e22e>bf</span> <span style=color:#e6db74>&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&gt;           go to box 1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>+++++++++   set box 1 to 9
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[           if box 1 is 0 skip ahead
</span></span></span><span style=display:flex><span><span style=color:#e6db74> &lt;          go to box 0
</span></span></span><span style=display:flex><span><span style=color:#e6db74> ++++++++   add 8 to box 0
</span></span></span><span style=display:flex><span><span style=color:#e6db74> &gt;          go to box 1
</span></span></span><span style=display:flex><span><span style=color:#e6db74> -          subtrack 1 from box 1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>]           if box 1 is not 0 skip back
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            this will end up with 72 (9 * 8) in box 0 and 0 in box 1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;.&gt;         go to box 0 output the 72 (&#39;H&#39;) go to box 1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>+++++++     set box 1 to 7
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[           while box 1 is not 0
</span></span></span><span style=display:flex><span><span style=color:#e6db74> &lt;++++&gt;-    add 4 to box 0 and subtract 1 from box 1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>]           loop back until box 1 is 0 (7 times)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            now box 0 is 100 (72 minus 28) which would be &#39;d&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;+.         add 1 to box 0 (for 101 = &#39;e&#39;) and output
</span></span></span><span style=display:flex><span><span style=color:#e6db74>+++++++..   add 7 to box 0 (for 108 = &#39;l&#39;) and output twice
</span></span></span><span style=display:flex><span><span style=color:#e6db74>+++.        add 3 to box 0 (for 111 = &#39;o&#39;) and output
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&gt;&gt;&gt;         go to box 3
</span></span></span><span style=display:flex><span><span style=color:#e6db74>++++++++    set box 3 to 8
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[           loop over that box
</span></span></span><span style=display:flex><span><span style=color:#e6db74> &lt;++++&gt;-    add 4 to box 2 and subtract 1 from box 3
</span></span></span><span style=display:flex><span><span style=color:#e6db74>]           loop until 0
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            now box 2 has 32 (8 * 4) and box 3 has 0
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;.          go to box 2 and print (32 = &#39; &#39;)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&gt;&gt;&gt;         go to box 5
</span></span></span><span style=display:flex><span><span style=color:#e6db74>++++++++++  set box 5 to 10
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[
</span></span></span><span style=display:flex><span><span style=color:#e6db74> &lt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74> +++++++++  add multiples of 9
</span></span></span><span style=display:flex><span><span style=color:#e6db74> &gt;-
</span></span></span><span style=display:flex><span><span style=color:#e6db74>]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>---.        subtract 3 more for 87 (10 * 9 - 3)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;&lt;&lt;&lt;.       go back to box 0 and output (111 = &#39;o&#39;)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>+++.        add 3 and output (114 = &#39;r&#39;)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>------.     subtract 6 and output (108 = &#39;l&#39;)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>--------.   subtract 8 and output (100 = &#39;d&#39;)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&gt;&gt;+.        go to box 2 (which had 32) and add 1 (33 = &#39;!&#39;) and output
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>Hello World!
</span></span></code></pre></div><p>If you don&rsquo;t want all of the comments, here&rsquo;s just the code:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>&gt;+++++++++[&lt;++++++++&gt;-]&lt;.&gt;+++++++[&lt;++++&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>-]&lt;+.+++++++..+++.&gt;&gt;&gt;++++++++[&lt;++++&gt;-]&lt;.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;++++++++++[&lt;+++++++++&gt;-]&lt;---.&lt;&lt;&lt;&lt;.+++</span>
</span></span><span style=display:flex><span><span style=color:#f92672>.------.--------.&gt;&gt;+.</span>
</span></span></code></pre></div><p>And that&rsquo;s about all I have for today. Hopefully I&rsquo;ll have my own Turing Tarpit up tomorrow (just in time!)</p><p>If you&rsquo;d like to download the source code for today (with both this version and my first version using a hash table rather than lists for the tape), you can do so here:</p><ul><li><a href=https://github.com/jpverkamp/small-projects/blob/master/blog/bf.rkt title="GitHub: BF interpreter in Racket">BF interpreter</a></li><li><a href=https://github.com/jpverkamp/small-projects/blob/master/blog/hello.bf.rkt title="GitHub: Hello world in BF">Hello World in BF</a></li></ul></div></article></div></div><footer id=page-footer role=contentinfo><nav id=footer-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=/archive-by-date/>All posts: By Date</a></li><li><a href=/archive-by-tag/>All posts: By Tag</a></li><li><a href=/atom.xml>RSS: All <sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li><li><a href=/programming/atom.xml>RSS: programming<sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li></ul></nav><div id=page-footer-content data-pagefind-ignore=all><div class=legal><p>All posts unless otherwise mentioned are licensed under
<a rel=license href=//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US><img alt="Creative Commons License" style=border-width:0 src=//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png></a></p><p>Any source code unless otherwise mentioned is licensed under the <a href=//directory.fsf.org/wiki/License:BSD_3Clause>3 clause BSD license</a></p></div></div></footer></div></body></html>