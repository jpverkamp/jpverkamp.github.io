<!doctype html><html><head><title>Line art with an HTML5 canvas â€“ jverkamp.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><link rel=alternate type=application/atom+xml title="jverkamp.com (Atom 2.0)" href=//blog.jverkamp.com/feed/><script defer src=/jquery_6894410585563545744.min.cc1cade18c999752b7befe111634889dca8d89b24923775954ecebc68c54fcd3.js integrity="sha256-zByt4YyZl1K3vv4RFjSIncqNibJJI3dZVOzrxoxU/NM="></script>
<script defer src=/jquery.fancybox_6181813213021922412.min.6ba037466db9f8843b66c38c32fe5a353344e7fd68ecda97efb63a84c881f828.js integrity="sha256-a6A3Rm25+IQ7ZsOMMv5aNTNE5/1o7NqX77Y6hMiB+Cg="></script>
<script defer src=/katex_12008035502722260518.min.3cc3a080c0368785179e37b0cd0a71c6cf60c4fc5a8dce503f5a542ec0a25043.js integrity="sha256-PMOggMA2h4UXnjewzQpxxs9gxPxajc5QP1pULsCiUEM="></script>
<script defer src=/bigfoot_8444447145154709333.min.5e80bd85ebaeb95607834d6777bfe7013d1d161f0f02a31b845e4bd765898316.js integrity="sha256-XoC9heuuuVYHg01nd7/nAT0dFh8PAqMbhF5L12WJgxY="></script>
<script defer src=/mermaid_12365941879912544862.min.e8f19283a632077085b9ad74aecad54abe84429c69789fd29ffa3a254d86abdd.js integrity="sha256-6PGSg6YyB3CFua10rsrVSr6EQpxpeJ/Sn/o6JU2Gq90="></script>
<script defer src=/custom.js></script>
<link rel=stylesheet href=/katex_14163593549783030822.min.16bacd59fb224ae6c97a749ab0ac1e708cb5e0c9ce5c9a08d7fd73dc8e69429f.css integrity="sha256-FrrNWfsiSubJenSasKwecIy14MnOXJoI1/1z3I5pQp8="></script><link rel=stylesheet href=/bigfoot-default_16482899066638414220.min.f15d4faa4519addb976f9d69b42bd9eb491b3596b6b2eda83aa3e9e1f48b8f14.css integrity="sha256-8V1PqkUZrduXb51ptCvZ60kbNZa2su2oOqPp4fSLjxQ="></script><link rel=stylesheet href=/jquery.fancybox_16222217791602823071.min.e28b5d7d9d89efacb5f708ac30cbd76b1b9a0f816dfd9da96631d1d09cbbdd76.css integrity="sha256-4otdfZ2J76y19wisMMvXaxuaD4Ft/Z2pZjHR0Jy73XY="></script><link rel=stylesheet href=/css_4780214198035419921.min.7cfac95bdd962d85ceec560e50fe7b04c44b58a76e5202006ef36ca8c0a7d836.css integrity="sha256-fPrJW92WLYXO7FYOUP57BMRLWKduUgIAbvNsqMCn2DY="></script><link rel=stylesheet href=/custom.css><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js></script></head><body><div id=wrapper><header id=page-header role=banner><h1><a href=/>JP's Blog</a></h1><ul id=page-header-links><li><a href=https://github.com/jpverkamp>GitHub</a> *
<a href=https://www.flickr.com/photos/jpverkamp>Flickr</a> *
<a href=/resume>Resume</a></li><li><form action=//www.google.com/search method=get onsubmit='(function(e){e.q.value="site:blog.jverkamp.com "+e.qfront.value})(this)' class="navbar-form navbar-right" role=search _lpchecked=1><div class=form-group><input name=q type=hidden>
<input name=qfront type=text class=form-control placeholder=Search>
<button type=submit class="btn btn-default" value=Search>Search</button></div></form></li></ul><nav id=header-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=https://blog.jverkamp.com/programming/>Programming</a></li><li><a href=https://blog.jverkamp.com/reviews/>Reviews</a></li><li><a href=https://blog.jverkamp.com/photography/>Photography</a></li><li><a href=https://blog.jverkamp.com/maker/>Maker</a></li><li><a href=https://blog.jverkamp.com/writing/>Writing</a></li><li><a href=https://blog.jverkamp.com/research/>Research</a></li><li class=subscription data-subscription=rss><a href=/atom.xml rel=subscribe-rss title="subscribe via RSS">RSS</a></li></ul></nav></header><div id=page-content-wrapper><div id=page-content><article><header><h1 class=entry-title>Line art with an HTML5 canvas</h1><div class=entry-meta><span class=entry-date>2012-09-26</span></div><div class=entry-taxonomies><div class=entry-tags><ul class=taxonomy-keys><li><a class=taxonomy-key href=/programming/languages/>Languages</a><ul class=taxonomy-values><li><a href=https://blog.jverkamp.com/2012/07/20/openid-part-2/ class=previous-link></a><a class=taxonomy-value href=/programming/languages/html>HTML</a><a href=https://blog.jverkamp.com/2012/09/27/html5-bugs/ class=next-link></a></li><li><a href=https://blog.jverkamp.com/2012/09/20/playing-with-loaded-dice/ class=previous-link></a><a class=taxonomy-value href=/programming/languages/javascript>JavaScript</a><a href=https://blog.jverkamp.com/2012/09/27/html5-bugs/ class=next-link></a></li></ul></li><li><a class=taxonomy-key href=/programming/topics/>Topics</a><ul class=taxonomy-values><li><a href=https://blog.jverkamp.com/2012/09/24/n-queens-in-18-lines-of-code/ class=previous-link></a><a class=taxonomy-value href=/programming/topics/mathematics>Mathematics</a><a href=https://blog.jverkamp.com/2012/09/27/html5-bugs/ class=next-link></a></li><li><a href=https://blog.jverkamp.com/2012/07/20/openid-part-2/ class=previous-link></a><a class=taxonomy-value href=/programming/topics/web-development>Web Development</a><a href=https://blog.jverkamp.com/2012/09/27/html5-bugs/ class=next-link></a></li></ul></li><li><a class=taxonomy-key href=/programming>programming</a><ul><li><a href=https://blog.jverkamp.com/2012/09/24/n-queens-in-18-lines-of-code/ class=previous-link>Prev</a>
<a href=https://blog.jverkamp.com/2012/09/27/html5-bugs/ class=next-link>Next</a></ul></li><li><a class=taxonomy-key href=/>All Posts</a><ul><li><a href=https://blog.jverkamp.com/2012/09/26/a-bit-of-a-mixup/ class=previous-link>Prev</a>
<a href=https://blog.jverkamp.com/2012/09/27/html5-bugs/ class=next-link>Next</a></ul></li></ul></div></div></header><div class=entry-content><p>Let&rsquo;s play with <a href=http://www.w3schools.com/html/html5_canvas.asp title="W3 Schools: HTML5 canvas">HTML5 canvas</a> elements!</p><p>Basically, I want to draw some simple line diagrams. Go from top to bottom on one side while going from right to left along the top or bottom. It sounds complicated, but perhaps it&rsquo;s easier to explain with a drawing:</p><p><canvas id=canvas0 width=200 height=200 style="border:1px solid #000"></canvas></p><p>The code for that is actually surprisingly simple:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>jQuery</span>(<span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>$</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>c</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>$</span>(<span style=color:#e6db74>&#34;#canvas0&#34;</span>)[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>getContext</span>(<span style=color:#e6db74>&#39;2d&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>$</span>(<span style=color:#e6db74>&#34;#canvas0&#34;</span>).<span style=color:#a6e22e>width</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>$</span>(<span style=color:#e6db74>&#34;#canvas0&#34;</span>).<span style=color:#a6e22e>height</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>lineWidth</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>strokeStyle</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>col</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>beginPath</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>d</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>moveTo</span>(<span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>i</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>d</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>lineTo</span>(<span style=color:#a6e22e>w</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>d</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>stroke</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>That was easy enough, but what if we want to generalize out to something more like these:</p><p><canvas id=canvas1 width=200 height=200 style="border:1px solid #000"></canvas> <canvas id=canvas2 width=200 height=200 style="border:1px solid #000"></canvas></p><p>What additional variables do we want? It would be nice to be able to draw how many lines we&rsquo;re going to use, the rectangle we&rsquo;re drawing in (x, y, width, height), the color of the line, and the orientation. Combine all of that and you have something like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawGrid</span>(<span style=color:#a6e22e>id</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>h</span>, <span style=color:#a6e22e>d</span>, <span style=color:#a6e22e>col</span>, <span style=color:#a6e22e>which</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>c</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>$</span>(<span style=color:#e6db74>&#34;#canvas&#34;</span>)[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>getContext</span>(<span style=color:#e6db74>&#39;2d&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>lineWidth</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>strokeStyle</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>col</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>beginPath</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>d</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>which</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;tl&#34;</span>) {
</span></span><span style=display:flex><span>  	  <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>moveTo</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>d</span>);
</span></span><span style=display:flex><span>	  <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>lineTo</span>(<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>d</span>, <span style=color:#a6e22e>y</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>which</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;tr&#34;</span>) {
</span></span><span style=display:flex><span>	  <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>moveTo</span>(<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>d</span>);
</span></span><span style=display:flex><span>	  <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>lineTo</span>(<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>d</span>, <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>which</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;bl&#34;</span>) {
</span></span><span style=display:flex><span>	  <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>moveTo</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>d</span>);
</span></span><span style=display:flex><span>	  <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>lineTo</span>(<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>d</span>, <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>h</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>which</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;br&#34;</span>) {
</span></span><span style=display:flex><span>	  <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>moveTo</span>(<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>d</span>);
</span></span><span style=display:flex><span>	  <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>lineTo</span>(<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>d</span>, <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>h</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>stroke</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Here is the source for the more complicated images:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// outer border
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>drawGrid</span>(<span style=color:#e6db74>&#34;#canvas1&#34;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>25</span>, <span style=color:#e6db74>&#34;green&#34;</span>, <span style=color:#e6db74>&#34;tl&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>drawGrid</span>(<span style=color:#e6db74>&#34;#canvas1&#34;</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>25</span>, <span style=color:#e6db74>&#34;blue&#34;</span>, <span style=color:#e6db74>&#34;tr&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>drawGrid</span>(<span style=color:#e6db74>&#34;#canvas1&#34;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>25</span>, <span style=color:#e6db74>&#34;green&#34;</span>, <span style=color:#e6db74>&#34;bl&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>drawGrid</span>(<span style=color:#e6db74>&#34;#canvas1&#34;</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>25</span>, <span style=color:#e6db74>&#34;blue&#34;</span>, <span style=color:#e6db74>&#34;br&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// inner border
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>drawGrid</span>(<span style=color:#e6db74>&#34;#canvas2&#34;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>25</span>, <span style=color:#e6db74>&#34;red&#34;</span>, <span style=color:#e6db74>&#34;br&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>drawGrid</span>(<span style=color:#e6db74>&#34;#canvas2&#34;</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>25</span>, <span style=color:#e6db74>&#34;green&#34;</span>, <span style=color:#e6db74>&#34;bl&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>drawGrid</span>(<span style=color:#e6db74>&#34;#canvas2&#34;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>25</span>, <span style=color:#e6db74>&#34;blue&#34;</span>, <span style=color:#e6db74>&#34;tr&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>drawGrid</span>(<span style=color:#e6db74>&#34;#canvas2&#34;</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>25</span>, <span style=color:#e6db74>&#34;black&#34;</span>, <span style=color:#e6db74>&#34;tl&#34;</span>);
</span></span></code></pre></div><p>Now the fun part, you can play with the settings:</p><table class="table table-striped"><tr><td>left</td><td><input id=drawGrid-x name=drawGrid-x style=width:200px value=0></td><td class=warning id=drawGrid-x-warning></td></tr><tr><td>top</td><td><input id=drawGrid-y name=drawGrid-y style=width:200px value=0></td><td class=warning id=drawGrid-y-warning></td></tr><tr><td>width</td><td><input id=drawGrid-width name=drawGrid-width style=width:200px value=400></td><td class=warning id=drawGrid-width-warning></td></tr><tr><td>height</td><td><input id=drawGrid-height name=drawGrid-height style=width:200px value=400></td><td class=warning id=drawGrid-height-warning></td></tr><tr><td>lines</td><td><input id=drawGrid-lines name=drawGrid-lines style=width:200px value=10></td><td class=warning id=drawGrid-lines-warning></td></tr><tr><td>color</td><td><input id=drawGrid-color name=drawGrid-color style=width:200px value=black></td><td class=warning id=drawGrid-color-warning></td></tr><tr><td>corner</td><td><select id=drawGrid-which name=drawGrid-which><option value=tl>top left</option><option value=tr>top right</option><option value=bl>bottom left</option><option value=br>bottom right</option></select></td><td class=warning id=drawGrid-which-warning></td></tr></table><p><button id=drawGrid>Draw</button> <button id=clearGrid>Clear</button> <button id=saveGrid>Save</button></p><p><canvas id=canvas3 width=400 height=400 style="border:1px solid #000"></canvas></p><p>If you&rsquo;d like to download the source, you can do so here: <a href=https://github.com/jpverkamp/small-projects/blob/master/blog/html5-line-art.js title="html5-line-art source">html5-line-art</a></p><style>.warning{color:red}</style><script type=text/javascript>jQuery(function(e){function t(t,n,s,o,i,a,r,c){var d,l=e(t)[0].getContext("2d");l.lineWidth=1,l.strokeStyle=r,l.beginPath();for(d=0;d<=a;d++)c=="tl"?(l.moveTo(n,s+d*i/a),l.lineTo(n+o-d*o/a,s)):c=="tr"?(l.moveTo(n+o,s+d*i/a),l.lineTo(n+d*o/a,s+0)):c=="bl"?(l.moveTo(n,s+d*i/a),l.lineTo(n+d*o/a,s+i)):c=="br"&&(l.moveTo(n+o,s+d*i/a),l.lineTo(n+o-d*o/a,s+i));l.stroke()}t("#canvas0",0,0,200,200,20,"black","tl"),t("#canvas1",0,0,100,100,25,"green","tl"),t("#canvas1",100,0,100,100,25,"blue","tr"),t("#canvas1",0,100,100,100,25,"green","bl"),t("#canvas1",100,100,100,100,25,"blue","br"),t("#canvas2",0,0,100,100,25,"red","br"),t("#canvas2",100,0,100,100,25,"green","bl"),t("#canvas2",0,100,100,100,25,"blue","tr"),t("#canvas2",100,100,100,100,25,"black","tl");function n(){var s,o,i,a,r,c,l,n=!1;e(".warning").empty(),s=parseInt(e("#drawGrid-x").val()),(isNaN(s)||s<0||s>400)&&(e("#drawGrid-x-warning").text("Must be in the range [0, 400]"),n=!0),o=parseInt(e("#drawGrid-y").val()),(isNaN(o)||o<0||o>400)&&(e("#drawGrid-y-warning").text("Must be in the range [0, 400]"),n=!0),i=parseInt(e("#drawGrid-width").val()),(isNaN(i)||i<0||i>400)&&(e("#drawGrid-width-warning").text("Must be in the range [0, 400]"),n=!0),a=parseInt(e("#drawGrid-height").val()),(isNaN(a)||a<0||a>400)&&(e("#drawGrid-height-warning").text("Must be in the range [0, 400]"),n=!0),r=parseInt(e("#drawGrid-lines").val()),(isNaN(r)||r<2||r>100)&&(e("#drawGrid-lines-warning").text("Must be in the range [2, 100]"),n=!0),c=e("#drawGrid-color").val(),c==""&&(c="black"),l=e("#drawGrid-which").val(),e.inArray(l,new Array("tl","tr","bl","br"))||(l="tl"),n||t("#canvas3",s,o,i,a,r,c,l)}e("#drawGrid").click(n);function s(){var t=e("#canvas3")[0].getContext("2d"),n=e("#canvas3").width(),s=e("#canvas3").height();t.clearRect(0,0,n,s)}e("#clearGrid").click(s);function o(){window.open(jQuery("#canvas3")[0].toDataURL())}e("#saveGrid").click(o)})</script></div></article></div></div><footer id=page-footer role=contentinfo><nav id=footer-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=/archive-by-date/>All posts: By Date</a></li><li><a href=/archive-by-tag/>All posts: By Tag</a></li><li><a href=/atom.xml>RSS: All <sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li><li><a href=/programming/atom.xml>RSS: programming<sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li></ul></nav><div id=page-footer-content><div class=legal><p>All posts unless otherwise mentioned are licensed under
<a rel=license href=//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US><img alt="Creative Commons License" style=border-width:0 src=//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png></a></p><p>Any source code unless otherwise mentioned is licensed under the <a href=//directory.fsf.org/wiki/License:BSD_3Clause>3 clause BSD license</a></p></div></div></footer></div></body></html>