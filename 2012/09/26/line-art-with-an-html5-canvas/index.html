<!DOCTYPE html>
<html>
<head>
    <title>
    Line art with an HTML5 canvas â€“ jverkamp.com
</title>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

    <link rel="alternate" type="application/atom+xml" title="jverkamp.com (Atom 2.0)" href="//blog.jverkamp.com/feed/">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/nanogallery/4.4.2/css/themes/light/nanogallery_light.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.css" integrity="sha384-exe4Ak6B0EoJI0ogGxjJ8rn+RN3ftPnEQrGwX59KTCl5ybGzvHGKjhPKk/KC3abb" crossorigin="anonymous">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bigfoot/2.1.4/bigfoot-default.min.css">

<link href="https://fonts.googleapis.com/css?family=Spectral+SC|Lato|Share+Tech+Mono" rel="stylesheet">

<link rel="stylesheet" href="/custom.css" defer />


    
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
</head>
<body>
    <div id="wrapper">
        <header id="page-header" role="banner">
    <h1><a href="/">JP's Blog</a></h1>

    <ul id="page-header-links">
        <li>
            <a href="https://twitter.com/jpverkamp">Twitter</a> *
            <a href="https://github.com/jpverkamp">GitHub</a> *
            <a href="https://www.flickr.com/photos/jpverkamp">Flickr</a>
        </li>
        <li>
            <form action="//www.google.com/search" method="get" onsubmit="(function(obj){obj.q.value='site:blog.jverkamp.com '+obj.qfront.value;})(this)" class="navbar-form navbar-right" role="search" _lpchecked="1">
                <div class="form-group">
                    <input name="q" type="hidden">
                    <input name="qfront" type="text" class="form-control" placeholder="Search">
                    <button type="submit" class="btn btn-default" value="Search">Search</button>
                </div>
            </form>
        </li>

    </ul>

    <nav id="header-navigation" role="navigation" class="ribbon">
        <ul class="main-navigation">
        
            
        
            
            <li><a href="https://blog.jverkamp.com/photography/">Photography</a></li>
            
        
            
            <li><a href="https://blog.jverkamp.com/programming/">Programming</a></li>
            
        
            
            <li><a href="https://blog.jverkamp.com/research/">Research</a></li>
            
        
            
            <li><a href="https://blog.jverkamp.com/reviews/">Reviews</a></li>
            
        
            
            <li><a href="https://blog.jverkamp.com/writing/">Writing</a></li>
            
        
            <li class="subscription" data-subscription="rss"><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
        </ul>
    </nav>
</header>


        <div id="page-content-wrapper">
            <div id="page-content">
            
<article>
	<header>
		<h1 class="entry-title">Line art with an HTML5 canvas</h1>

        <div class="entry-meta">
            
            <span class="entry-date">2012-09-26</span>
            
            
        </div>

        <div class="entry-tags">
    
    

    <ul class="taxonomy-keys">
    
        
        

        
        

        
    
        
        

        
        

        
        <li>
            <a class="taxonomy-key" href="/programming/languages/">Languages</a>
            <ul class="taxonomy-values">
            
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    

                    
                    

                    <li>
                        <a href="https://blog.jverkamp.com/2012/07/20/openid---part-2/" class="previous-link"></a>
                        <a class="taxonomy-value" href="/programming/languages/html">HTML</a>
                        <a href="https://blog.jverkamp.com/2012/09/27/html5-bugs/" class="next-link"></a>
                    </li>
                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    

                    
                    

                    <li>
                        <a href="https://blog.jverkamp.com/2012/09/20/playing-with-loaded-dice/" class="previous-link"></a>
                        <a class="taxonomy-value" href="/programming/languages/javascript">JavaScript</a>
                        <a href="https://blog.jverkamp.com/2012/09/27/html5-bugs/" class="next-link"></a>
                    </li>
                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
            
            </ul>
        </li>
        
    
        
        

        
        

        
    
        
        

        
        

        
        <li>
            <a class="taxonomy-key" href="/programming/topics/">Topics</a>
            <ul class="taxonomy-values">
            
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    

                    
                    

                    <li>
                        <a href="https://blog.jverkamp.com/2012/09/24/n-queens-in-18-lines-of-code/" class="previous-link"></a>
                        <a class="taxonomy-value" href="/programming/topics/mathematics">Mathematics</a>
                        <a href="https://blog.jverkamp.com/2012/09/27/html5-bugs/" class="next-link"></a>
                    </li>
                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    

                    
                    

                    <li>
                        <a href="https://blog.jverkamp.com/2012/07/20/openid---part-2/" class="previous-link"></a>
                        <a class="taxonomy-value" href="/programming/topics/web-development">Web Development</a>
                        <a href="https://blog.jverkamp.com/2012/09/27/html5-bugs/" class="next-link"></a>
                    </li>
                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
            
            </ul>
        </li>
        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
    

    
        
        <li><a class="taxonomy-key" href="/programming">programming</a>
            <ul>
                <li>
                
                <a href="https://blog.jverkamp.com/2012/09/24/n-queens-in-18-lines-of-code/" class="previous-link">Prev</a>
                

                
                <a href="https://blog.jverkamp.com/2012/09/27/html5-bugs/" class="next-link">Next</a>
                
            </ul>
        </li>
        

        
        <li><a class="taxonomy-key" href="/">All Posts</a>
            <ul>
                <li>
                
                <a href="https://blog.jverkamp.com/2012/09/26/a-bit-of-a-mixup/" class="previous-link">Prev</a>
                

                
                <a href="https://blog.jverkamp.com/2012/09/27/html5-bugs/" class="next-link">Next</a>
                
            </ul>
        </li>
        
    
    </ul>
</div>

    </header>

	<div class="entry-content">
		<p>Let&rsquo;s play with <a href="http://www.w3schools.com/html/html5_canvas.asp" title="W3 Schools: HTML5 canvas">HTML5 canvas</a> elements!</p>

<p>Basically, I want to draw some simple line diagrams. Go from top to bottom on one side while going from right to left along the top or bottom. It sounds complicated, but perhaps it&rsquo;s easier to explain with a drawing:</p>

<p></p>

<canvas id="canvas0" width="200" height="200" style="border: 1px solid black;"></canvas>

<p>The code for that is actually surprisingly simple:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">jQuery</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">$</span>) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">c</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#canvas0&#34;</span>)[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">getContext</span>(<span style="color:#e6db74">&#39;2d&#39;</span>);
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">w</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#canvas0&#34;</span>).<span style="color:#a6e22e">width</span>();
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">h</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#canvas0&#34;</span>).<span style="color:#a6e22e">height</span>();

  <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">lineWidth</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
  <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">strokeStyle</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">col</span>;

  <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">beginPath</span>();
  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">d</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
    <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">moveTo</span>(<span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">i</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">h</span> <span style="color:#960050;background-color:#1e0010">/ d);</span>
    <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">lineTo</span>(<span style="color:#a6e22e">w</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">w</span> <span style="color:#960050;background-color:#1e0010">/ d, 0);</span>
  }
  <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">stroke</span>();
}</code></pre></div>
<p>That was easy enough, but what if we want to generalize out to something more like these:</p>

<canvas id="canvas1" width="200" height="200" style="border: 1px solid black;"></canvas> <canvas id="canvas2" width="200" height="200" style="border: 1px solid black;"></canvas>

<p>What additional variables do we want? It would be nice to be able to draw how many lines we&rsquo;re going to use, the rectangle we&rsquo;re drawing in (x, y, width, height), the color of the line, and the orientation. Combine all of that and you have something like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">drawGrid</span>(<span style="color:#a6e22e">id</span>, <span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span>, <span style="color:#a6e22e">w</span>, <span style="color:#a6e22e">h</span>, <span style="color:#a6e22e">d</span>, <span style="color:#a6e22e">col</span>, <span style="color:#a6e22e">which</span>) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">c</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#canvas&#34;</span>)[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">getContext</span>(<span style="color:#e6db74">&#39;2d&#39;</span>);

  <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">lineWidth</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
  <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">strokeStyle</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">col</span>;

  <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">beginPath</span>();
  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">d</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">which</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;tl&#34;</span>) {
  	  <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">moveTo</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">h</span> <span style="color:#960050;background-color:#1e0010">/ d);</span>
	  <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">lineTo</span>(<span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">w</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">w</span> <span style="color:#960050;background-color:#1e0010">/ d, y);</span>
    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">which</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;tr&#34;</span>) {
	  <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">moveTo</span>(<span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">w</span>, <span style="color:#a6e22e">y</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">h</span> <span style="color:#960050;background-color:#1e0010">/ d);</span>
	  <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">lineTo</span>(<span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">w</span> <span style="color:#960050;background-color:#1e0010">/ d, y + 0);</span>
    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">which</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;bl&#34;</span>) {
	  <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">moveTo</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">h</span> <span style="color:#960050;background-color:#1e0010">/ d);</span>
	  <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">lineTo</span>(<span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">w</span> <span style="color:#960050;background-color:#1e0010">/ d, y + h);</span>
    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">which</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;br&#34;</span>) {
	  <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">moveTo</span>(<span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">w</span>, <span style="color:#a6e22e">y</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">h</span> <span style="color:#960050;background-color:#1e0010">/ d);</span>
	  <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">lineTo</span>(<span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">w</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">w</span> <span style="color:#960050;background-color:#1e0010">/ d, y + h);</span>
    }
  }
  <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">stroke</span>();
}</code></pre></div>
<p>Here is the source for the more complicated images:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// outer border
</span><span style="color:#75715e"></span><span style="color:#a6e22e">drawGrid</span>(<span style="color:#e6db74">&#34;#canvas1&#34;</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">25</span>, <span style="color:#e6db74">&#34;green&#34;</span>, <span style="color:#e6db74">&#34;tl&#34;</span>);
<span style="color:#a6e22e">drawGrid</span>(<span style="color:#e6db74">&#34;#canvas1&#34;</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">25</span>, <span style="color:#e6db74">&#34;blue&#34;</span>, <span style="color:#e6db74">&#34;tr&#34;</span>);
<span style="color:#a6e22e">drawGrid</span>(<span style="color:#e6db74">&#34;#canvas1&#34;</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">25</span>, <span style="color:#e6db74">&#34;green&#34;</span>, <span style="color:#e6db74">&#34;bl&#34;</span>);
<span style="color:#a6e22e">drawGrid</span>(<span style="color:#e6db74">&#34;#canvas1&#34;</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">25</span>, <span style="color:#e6db74">&#34;blue&#34;</span>, <span style="color:#e6db74">&#34;br&#34;</span>);

<span style="color:#75715e">// inner border
</span><span style="color:#75715e"></span><span style="color:#a6e22e">drawGrid</span>(<span style="color:#e6db74">&#34;#canvas2&#34;</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">25</span>, <span style="color:#e6db74">&#34;red&#34;</span>, <span style="color:#e6db74">&#34;br&#34;</span>);
<span style="color:#a6e22e">drawGrid</span>(<span style="color:#e6db74">&#34;#canvas2&#34;</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">25</span>, <span style="color:#e6db74">&#34;green&#34;</span>, <span style="color:#e6db74">&#34;bl&#34;</span>);
<span style="color:#a6e22e">drawGrid</span>(<span style="color:#e6db74">&#34;#canvas2&#34;</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">25</span>, <span style="color:#e6db74">&#34;blue&#34;</span>, <span style="color:#e6db74">&#34;tr&#34;</span>);
<span style="color:#a6e22e">drawGrid</span>(<span style="color:#e6db74">&#34;#canvas2&#34;</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">25</span>, <span style="color:#e6db74">&#34;black&#34;</span>, <span style="color:#e6db74">&#34;tl&#34;</span>);</code></pre></div>
<p>Now the fun part, you can play with the settings:</p>

<table class="table table-striped">
<tr>
  <td>left</td>
  <td><input id="drawGrid-x" name="drawGrid-x" style="width: 200px;" value="0" /></td>
  <td class="warning" id="drawGrid-x-warning"></td>
</tr>
<tr>
  <td>top</td>
  <td><input id="drawGrid-y" name="drawGrid-y" style="width: 200px;" value="0" /></td>
  <td class="warning" id="drawGrid-y-warning"></td>
</tr>
<tr>
  <td>width</td>
  <td><input id="drawGrid-width" name="drawGrid-width" style="width: 200px;" value="400" /></td>
  <td class="warning" id="drawGrid-width-warning"></td>
</tr>
<tr>
  <td>height</td>
  <td><input id="drawGrid-height" name="drawGrid-height" style="width: 200px;" value="400" /></td>
  <td class="warning" id="drawGrid-height-warning"></td>
</tr>
<tr>
  <td>lines</td>
  <td><input id="drawGrid-lines" name="drawGrid-lines" style="width: 200px;" value="10" /></td>
  <td class="warning" id="drawGrid-lines-warning"></td>
</tr>
<tr>
  <td>color</td>
  <td><input id="drawGrid-color" name="drawGrid-color" style="width: 200px;" value="black" /></td>
  <td class="warning" id="drawGrid-color-warning"></td>
</tr>
<tr>
  <td>corner</td>
  <td>
    <select id="drawGrid-which" name="drawGrid-which">
      <option value="tl">top left</option>
      <option value="tr">top right</option>
      <option value="bl">bottom left</option>
      <option value="br">bottom right</option>
    </select>
  </td>
  <td class="warning" id="drawGrid-which-warning"></td>
</tr>
</table>

<p><button id="drawGrid">Draw</button> <button id="clearGrid">Clear</button> <button id="saveGrid">Save</button></p>

<canvas id="canvas3" width="400" height="400" style="border: 1px solid black;"></canvas>

<p>If you&rsquo;d like to download the source, you can do so here: <a href="https://github.com/jpverkamp/small-projects/blob/master/blog/html5-line-art.js" title="html5-line-art source">html5-line-art</a></p>

<style>
.warning { color: red; }
</style>

<script type="text/javascript">
// id: canvas to draw on
// d: divisions
// col: the color to draw with
// which: the corner -- tl, tr, bl, br
jQuery(function($) {
  function drawGrid(id, x, y, w, h, d, col, which) {
    var c = $(id)[0].getContext('2d');

    c.lineWidth = 1;
    c.strokeStyle = col;

    c.beginPath();
    for (var i = 0; i <= d; i++) {
      if (which == "tl") {
        c.moveTo(x, y + i * h / d);
        c.lineTo(x + w - i * w / d, y);
      } else if (which == "tr") {
        c.moveTo(x + w, y + i * h / d);
        c.lineTo(x + i * w / d, y + 0);
      } else if (which == "bl") {
        c.moveTo(x, y + i * h / d);
        c.lineTo(x + i * w / d, y + h);
      } else if (which == "br") {
        c.moveTo(x + w, y + i * h / d);
        c.lineTo(x + w - i * w / d, y + h);
      }
    }
    c.stroke();
  }

  drawGrid("#canvas0", 0, 0, 200, 200, 20, "black", "tl");

  drawGrid("#canvas1", 0, 0, 100, 100, 25, "green", "tl");
  drawGrid("#canvas1", 100, 0, 100, 100, 25, "blue", "tr");
  drawGrid("#canvas1", 0, 100, 100, 100, 25, "green", "bl");
  drawGrid("#canvas1", 100, 100, 100, 100, 25, "blue", "br");

  drawGrid("#canvas2", 0, 0, 100, 100, 25, "red", "br");
  drawGrid("#canvas2", 100, 0, 100, 100, 25, "green", "bl");
  drawGrid("#canvas2", 0, 100, 100, 100, 25, "blue", "tr");
  drawGrid("#canvas2", 100, 100, 100, 100, 25, "black", "tl");

  function doDraw() {
    var failed = false;
    $(".warning").empty();

    var x = parseInt($("#drawGrid-x").val());
    if (isNaN(x) || x < 0 || x > 400) {
      $("#drawGrid-x-warning").text("Must be in the range [0, 400]");
      failed = true;
    }

    var y = parseInt($("#drawGrid-y").val());
    if (isNaN(y) || y < 0 || y > 400) {
      $("#drawGrid-y-warning").text("Must be in the range [0, 400]");
      failed = true;
    }

    var width = parseInt($("#drawGrid-width").val());
    if (isNaN(width) || width < 0 || width > 400) {
      $("#drawGrid-width-warning").text("Must be in the range [0, 400]");
      failed = true;
    }

    var height = parseInt($("#drawGrid-height").val());
    if (isNaN(height) || height < 0 || height > 400) {
      $("#drawGrid-height-warning").text("Must be in the range [0, 400]");
      failed = true;
    }

    var lines = parseInt($("#drawGrid-lines").val());
    if (isNaN(lines) || lines < 2 || lines > 100) {
      $("#drawGrid-lines-warning").text("Must be in the range [2, 100]");
      failed = true;
    }

    var color = $("#drawGrid-color").val();
    if (color == "")
      color = "black";

    var which = $("#drawGrid-which").val();
    if (!($.inArray(which, new Array("tl", "tr", "bl", "br"))))
      which = "tl";

    if (!failed) {
      drawGrid("#canvas3", x, y, width, height, lines, color, which);
    }
  }
  $("#drawGrid").click(doDraw);

  function doClear() {
    var c = $("#canvas3")[0].getContext('2d');
    var w = $("#canvas3").width();
    var h = $("#canvas3").height();
    c.clearRect(0, 0, w, h);
  }
  $("#clearGrid").click(doClear);

  function doSave() {
    window.open(jQuery("#canvas3")[0].toDataURL());
  }
  $("#saveGrid").click(doSave);
});
</script>
	</div>

    
<div class="entry-comments">
    <div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_shortname = "jverkamp";
            var disqus_title = "Line art with an HTML5 canvas";
            var disqus_url = "https:\/\/blog.jverkamp.com\/2012\/09\/26\/line-art-with-an-html5-canvas\/";

             
            (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>


</article>

            </div>
        </div>

        <footer id="page-footer" role="contentinfo">
    <nav id="footer-navigation" role="navigation" class="ribbon">
        <ul class="main-navigation">
            <li><a href="/archive-by-date/">All posts: By Date</a></li>
            <li><a href="/archive-by-tag/">All posts: By Tag</a></li>

            <li>
                <a href="/atom.xml">
                    RSS: All <sup>

<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24">
    <path fill="white" d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z" />
</svg>
</sup>
                </a>
            </li>

            
            <li>
                <a href="/programming/atom.xml">
                    RSS: programming<sup>

<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24">
    <path fill="white" d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z" />
</svg>
</sup>
                </a>
            </li>
            
        </ul>
    </nav>

    <div id="page-footer-content">
        <div class="legal">
            <p>
                All posts unless otherwise mentioned are licensed under
                <a rel="license" href="//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US">
                    <img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png">
                </a>
            </p>

            <p>
                Any source code unless otherwise mentioned is licensed under the <a href="//directory.fsf.org/wiki/License:BSD_3Clause">3 clause BSD license</a>
            </p>
        </div>
    </div>
</footer>

    </div>

    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/nanogallery/4.4.2/jquery.nanogallery.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.js" integrity="sha384-OMvkZ24ANLwviZR2lVq8ujbE/bUO8IR1FdBrKLQBI14Gq5Xp/lksIccGkmKL8m+h" crossorigin="anonymous"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/bigfoot/2.1.4/bigfoot.min.js"></script>

<script type="text/javascript" src="/custom.js" defer></script>

</body>
</html>
