<!doctype html><html><head><title>Who wants to win the lottery? â€“ jverkamp.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><link rel=alternate type=application/atom+xml title="jverkamp.com (Atom 2.0)" href=//blog.jverkamp.com/feed/><script src=/jquery_5823201688106629450.min.8c7d803d89ebdecf2416d468f4ecb981a3acf645154a7a336f2e5d0190ea8163.js integrity="sha256-jH2APYnr3s8kFtRo9Oy5gaOs9kUVSnozby5dAZDqgWM=" defer></script>
<script src=/jquery.fancybox_6181813213021922412.min.921ca906a32e718ab61ac0b4da24e0eaa6bdd41912654a33b44bd3fc2f0c2a4d.js integrity="sha256-khypBqMucYq2GsC02iTg6qa91BkSZUoztEvT/C8MKk0=" defer></script>
<script src=/katex_12008035502722260518.min.1c3dce03daaf56a7d2fe0d0ec49bf35256837226f835adaf52c09502ef9bc5d1.js integrity="sha256-HD3OA9qvVqfS/g0OxJvzUlaDcib4Na2vUsCVAu+bxdE=" defer></script>
<script src=/auto-render_2152414756166376840.min.45ae2f6b03d0c7b867df0a6cb7d43215ec78369998685a5748c5b12f502321f2.js integrity="sha256-Ra4vawPQx7hn3wpst9QyFex4NpmYaFpXSMWxL1AjIfI=" defer></script>
<script src=/bigfoot_8444447145154709333.min.5e80bd85ebaeb95607834d6777bfe7013d1d161f0f02a31b845e4bd765898316.js integrity="sha256-XoC9heuuuVYHg01nd7/nAT0dFh8PAqMbhF5L12WJgxY=" defer></script>
<script src=/mermaid_12365941879912544862.min.973b5415b3fa1835d620c0e58236f859d5f80891f447e240cbbb9eb825251ff0.js integrity="sha256-lztUFbP6GDXWIMDlgjb4WdX4CJH0R+JAy7ueuCUlH/A=" defer></script>
<script src=/main.min.d60298c89fc4f1e938aceb45c60926efee8b03efc8b50683082e669a100da643.js integrity="sha256-1gKYyJ/E8ek4rOtFxgkm7+6LA+/ItQaDCC5mmhANpkM=" defer></script>
<link rel=stylesheet href=/katex_14163593549783030822.min.16bacd59fb224ae6c97a749ab0ac1e708cb5e0c9ce5c9a08d7fd73dc8e69429f.css integrity="sha256-FrrNWfsiSubJenSasKwecIy14MnOXJoI1/1z3I5pQp8="><link rel=stylesheet href=/bigfoot-default_16482899066638414220.min.f15d4faa4519addb976f9d69b42bd9eb491b3596b6b2eda83aa3e9e1f48b8f14.css integrity="sha256-8V1PqkUZrduXb51ptCvZ60kbNZa2su2oOqPp4fSLjxQ="><link rel=stylesheet href=/jquery.fancybox_16222217791602823071.min.e28b5d7d9d89efacb5f708ac30cbd76b1b9a0f816dfd9da96631d1d09cbbdd76.css integrity="sha256-4otdfZ2J76y19wisMMvXaxuaD4Ft/Z2pZjHR0Jy73XY="><link rel=stylesheet href=/css_4780214198035419921.min.246b6f8e7620eeb717bca5e7b121037906e5dfaa05805f427fcc5a09b6c99f5c.css integrity="sha256-JGtvjnYg7rcXvKXnsSEDeQbl36oFgF9Cf8xaCbbJn1w="><link rel=stylesheet href=/main.min.d99288811f82c16d031e4f6c01e50e18aeccbb9968db7c625a21660aef059ef5.css integrity="sha256-2ZKIgR+CwW0DHk9sAeUOGK7Mu5lo23xiWiFmCu8FnvU="></head><body><div id=wrapper><header id=page-header role=banner><h1><a href=/>JP's Blog</a></h1><ul id=page-header-links><li><a href=https://github.com/jpverkamp>GitHub</a> *
<a href=https://www.flickr.com/photos/jpverkamp>Flickr</a> *
<a href=/resume>Resume</a></li><li><form action=/search/ method=get class="navbar-form navbar-right" role=search _lpchecked=1><div class=form-group><input name=q type=text class=form-control placeholder=Search>
<button type=submit class="btn btn-default" value=Search>Search</button></div></form></li></ul><nav id=header-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=https://blog.jverkamp.com/photography/>Photography</a></li><li><a href=https://blog.jverkamp.com/programming/>Programming</a></li><li><a href=https://blog.jverkamp.com/reviews/>Reviews</a></li><li><a href=https://blog.jverkamp.com/maker/>Maker</a></li><li><a href=https://blog.jverkamp.com/writing/>Writing</a></li><li><a href=https://blog.jverkamp.com/research/>Research</a></li><li><a href=https://blog.jverkamp.com/search/>Search</a></li><li class=subscription data-subscription=rss><a href=/atom.xml rel=subscribe-rss title="subscribe via RSS">RSS</a></li></ul></nav></header><div id=page-content-wrapper><div id=page-content><article data-pagefind-body><header><h1 class=entry-title data-pagefind-meta=title>Who wants to win the lottery?</h1><div class=entry-meta><span class=entry-date>2012-09-17</span></div><div class=entry-taxonomies><div class=entry-tags><ul class=taxonomy-keys><li><a class=taxonomy-key href=/programming/languages/>Languages</a><ul class=taxonomy-values><li><a class=taxonomy-value href=/programming/languages/javascript>JavaScript</a><a href=https://blog.jverkamp.com/2012/09/20/playing-with-loaded-dice/ class=next-link></a></li></ul></li><li><a class=taxonomy-key href=/programming/topics/>Topics</a><ul class=taxonomy-values><li><a class=taxonomy-value href=/programming/topics/mathematics>Mathematics</a><a href=https://blog.jverkamp.com/2012/09/19/a-piece-of-the-abc-conjecture/ class=next-link></a></li></ul></li><li><a class=taxonomy-key href=/programming>programming</a><ul><li><a href=https://blog.jverkamp.com/2012/09/16/a-needle-in-a-pi-stack/ class=previous-link>Prev</a>
<a href=https://blog.jverkamp.com/2012/09/19/a-piece-of-the-abc-conjecture/ class=next-link>Next</a></ul></li><li><a class=taxonomy-key href=/>All Posts</a><ul><li><a href=https://blog.jverkamp.com/2012/09/16/a-needle-in-a-pi-stack/ class=previous-link>Prev</a>
<a href=https://blog.jverkamp.com/2012/09/18/a-sea-of-stars-ch.-7-impact/ class=next-link>Next</a></ul></li></ul></div></div></header><div class=entry-content><p>So everyone would love to win the lottery right? Just think of what you could do if you had even $1 million dollars to spend. You could buy a dozen tacos a day at Taco Bell for the rest of your life. And your children&rsquo;s lives. And their children&rsquo;s lives. <a href="http://www.wolframalpha.com/input/?i=1+million+dollars+%2F+%2812+dollar+per+day%29+in+years" title="Wolfram Alpha: 1 million tacos">228 years</a> to be more precise. Or you could pay to send the entire family from <a href="http://www.amazon.com/gp/product/B0001EFTH4/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B0001EFTH4&linkCode=as2&tag=jverkampcom-20" title="Amazon: Cheaper by the Dozen">Cheaper by the Dozen</a> to the average state university&ndash;even if they each took an <a href="http://www.wolframalpha.com/input/?i=%241+million+%2F+%2413%2C600+%2F+12" title="Wolfram Alpha: $1 million in tuition">additional two years</a> to graduate. And that&rsquo;s just for $1 million. Payouts are usually much higher than that&mldr;</p><p>So what&rsquo;s the catch?</p><p>(If you came here just for the Powerball simulation, it&rsquo;s down at the bottom of the page. <a href=http://blog.jverkamp.com/2012/09/17/who-wants-to-win-the-lottery/#lotteryGametime>Click here</a> to go straight there.)</p><p>Glad you asked. It turns out that the catch is pretty straight forward. All you need to know is a little statistics. Or you could just go to the <a href=http://www.powerball.com/powerball/pb_prizes.asp title="Powerball odds">Powerball website</a> (for example) and see what odds they&rsquo;ve calculated for you. The chart below has the rough odds either for the standard $2 ticket or for the $5 PowerPlay ticket at $4 with tweaked payouts.</p><table><thead><tr><th>Matching</th><th>Powerball?</th><th>Prize ($2 ticket)</th><th>Prize ($4 ticket)Odds</th><th>Odds</th></tr></thead><tbody><tr><td>5</td><td>Yes</td><td>JACKPOT!</td><td>JACKPOT!</td><td>1 in 175 million</td></tr><tr><td>5</td><td>No</td><td>$1 million</td><td>$2 million</td><td>1 in 5 million</td></tr><tr><td>4</td><td>Yes</td><td>$10 thousand</td><td>$40 thousand</td><td>1 in 648 thousand</td></tr><tr><td>4</td><td>No</td><td>$100</td><td>$200</td><td>1 in 19 thousand</td></tr><tr><td>3</td><td>Yes</td><td>$100</td><td>$200</td><td>1 in 12 thousand</td></tr><tr><td>3</td><td>No</td><td>$7</td><td>$14</td><td>1 in 360</td></tr><tr><td>2</td><td>Yes</td><td>$7</td><td>$14</td><td>1 in 706</td></tr><tr><td>1</td><td>Yes</td><td>$4</td><td>$12</td><td>1 in 110</td></tr><tr><td>0</td><td>Yes</td><td>$4</td><td>$12</td><td>1 in 55</td></tr></tbody></table><p>But what does that actually tell you? Well, quite a lot actually. If you take the odds of each chance of winning and multiply it by the payoff (less $2/$4 for the ticket), that will give you the <a href=https://en.wikipedia.org/wiki/expected%20value>expected value</a> for that payoff. For example, if you only consider the Powerball, the expected value would be:</p><div class=latex-block>(1/35)(2) + (34/35)(-2) \approx -1.88</div><p>So every time you played (if only the Powerball counted) you&rsquo;d be out an average of $1.88. You may win sometimes (1/35 of the time even), but overall, you&rsquo;d lose more than you won. What would the payoff actually have to be for it to be a &ldquo;fair&rdquo; game&ndash;meaning that over time you&rsquo;d neither make more or lose it?</p><div class=latex-block>(1/35)(x-2) + (34/35)(-2) \approx 0</div><span class=latex-inline>x \approx 70</span><p>(Which really makes sense, as you have a flat 1/35 chance of winning and are paying $2 per game.)</p><p>But you might think that the other payoffs will even the odds out right? After all, they&rsquo;re all significantly higher payouts. Especially that Jackpot. What if we just took that? Well, taking the current Jackpot of $149 million:</p><div class=latex-block>(1/175000000)(149000000) + (174999999/175000000)(-2) \approx -1.15</div><p>Better actually. But you&rsquo;re still out $1.15 on average per game. Really, the Jackpot has to be over $350 million for the expected value to actually be positive. What&rsquo;s interesting is that sometimes does actually happen. You actually do get people that will go out and buy a lot of tickets around that time, thinking that they&rsquo;re bound to make it big. But there&rsquo;s one more wrinkle to consider&mldr; What happens if two people both guess the correct numbers? Well, it turns out that they&rsquo;d split the jackpot. So instead of that $350 million payout, you&rsquo;d only get half that. And then there are taxes (quite a lot of them actually&ndash;the federal tax alone is about 25% on such winnings).</p><p>I guess my point is that trying to get rich by playing the lottery doesn&rsquo;t really make sense. With the sheer numbers of people playing, you&rsquo;re almost certainly going to get some winner&ndash;but the odds of it actually being you? Not so good.</p><p>But what about the game in general? What is the overall expected value of a Powerball ticket? For that, we have almost everything we need in that chart up there. But what we still need is the chance that you get none of the ones above at all. Luckily, it&rsquo;s easy enough to calculate, just sum up all of the odds above and subtract from one. That ends up giving us&mldr; 96.8% or approximately 1 in 1.03. So it&rsquo;s really good odds that you&rsquo;re just going to flat out lose the $2 you put into a ticket. But, now that we have that, we can work out the full expected value of a ticket:</p><p>Assuming today&rsquo;s estimated Jackpot of $149 million, we have:</p><p><div class=latex-block>1/175223510 * (149000000 - 2)</div><div class=latex-block>1/5153632.65 * (1000000 - 2) +</div><div class=latex-block>1/648975.96 * (10000 - 2) +</div><div class=latex-block>1/19087.53 * (100 - 2) +</div><div class=latex-block>1/12244.83 * (100 - 2) +</div><div class=latex-block>1/360.14 * (7 - 2) +</div><div class=latex-block>1/706.43 * (7 - 2) +</div><div class=latex-block>1/110.81 * (4 - 2) +</div><div class=latex-block>1/55.41 * (4 - 2) +</div><div class=latex-block>1/1.03 * (-2) = -\$0.79</div></p><p>So every time you buy a Powerball ticket, your going to lose an average of 80 cents.</p><p>But what&rsquo;s really interesting is if you play the Powerplay. The odds don&rsquo;t actually change, all that changes is that you&rsquo;re paying twice as much and that all of the non-Jackpot prizes go up. So what&rsquo;s the expected value now?</p><p><div class=latex-block>1/175223510 * (149000000 - 4) +</div><div class=latex-block>1/5153632.65 * (2000000 - 4) +</div><div class=latex-block>1/648975.96 * (40000 - 4) +</div><div class=latex-block>1/19087.53 * (200 - 4) +</div><div class=latex-block>1/12244.83 * (200 - 4) +</div><div class=latex-block>1/360.14 * (14 - 4) +</div><div class=latex-block>1/706.43 * (14 - 4) +</div><div class=latex-block>1/110.81 * (12 - 4) +</div><div class=latex-block>1/55.41 * (12 - 4) +</div><div class=latex-block>1/1.03 * (-4) = -\$2.30</div></p><p>Dang. So by buying a Powerplay ticket, you&rsquo;re actually losing about three times as much. Really though, this does make sense. For the expected value to remain the same with twice the pay-in, you&rsquo;d have to double all of the prizes. And all of the prizes did double&mldr; except for the Jackpot. And that $149 million has a bit of weight all to itself.</p><p>What about if the Jackpot is different? Well here&rsquo;s a little tool that can help you calculate it:</p><table class="table table-striped"><tr><td>Jackpot:</td><td><input id=lotteryExpectedJackpot type=text value=149000000><span style=color:red id=lotteryExpectedJackpotError></tr><tr><td>Normal EV:</td><td id=lotteryExpectedNormal></td></tr><tr><td>Powerplay EV:</td><td id=lotteryExpectedPower></td></tr></table><p><input type=submit id=lotteryExpectedButton value="Calculate expected values"></p><script type=text/javascript>jQuery(function(e){function t(e){return e>=0?"$"+e.toFixed(2):"-$"+Math.abs(e).toFixed(2)}function n(){e("#lotteryExpectedJackpotError").html(""),e("#lotteryExpectedNormal").html(""),e("#lotteryExpectedPower").html("");var n=parseInt(e("#lotteryExpectedJackpot").val().replace("$",""));if(isNaN(n)||n<1){e("#lotteryExpectedJackpotError").html("Please enter a valid Jackpot (a positive integer)");return}n<1e6&&e("#lotteryExpectedJackpotError").html("Jackpots under ~$1M have roughly the same expected values"),e("#lotteryExpectedNormal").html(t(1/175223510*(n-2)+1/5153632.65*(1e6-2)+1/648975.96*(1e4-2)+1/19087.53*(100-2)+1/12244.83*(100-2)+1/360.14*(7-2)+1/706.43*(7-2)+1/110.81*(4-2)+1/55.41*(4-2)+1/1.03*-2)),e("#lotteryExpectedPower").html(t(1/175223510*(n-4)+1/5153632.65*(2e6-4)+1/648975.96*(4e4-4)+1/19087.53*(200-4)+1/12244.83*(200-4)+1/360.14*(14-4)+1/706.43*(14-4)+1/110.81*(12-4)+1/55.41*(12-4)+1/1.03*-4))}e("#lotteryExpectedButton").click(n),n()})</script><p>But you don&rsquo;t have to just believe the math. You can try it out for yourself. I&rsquo;ve written a simple script below that simulates a series of Powerball drawings. Go ahead and fill out the chart below to try it out. Since the simulation is based on Powerball, you&rsquo;ll need to enter 5 different numbers in the first box, each from 1 through 59. The second box will be your Powerball and should be in the range 1-35. Finally, enter how many tickets you want to buy in the third box (1-100). If you&rsquo;d rather just choose some random numbers, there&rsquo;s a button for that too.</p><p>Feel free to play as long as you want, it doesn&rsquo;t cost you anything. And if anyone actually does get a Jackpot, make sure to let me know. ðŸ˜„</p><p><a name=lotteryGametime></a></p><table class="table table-striped"><tr><td>Your numbers:</td><td><input id=lotteryNumbers type=text><span id=lotteryNumbersWarning style=color:red></span></tr><tr><td>Powerball:</td><td><input id=lotteryPowerball type=text><span id=lotteryPowerballWarning style=color:red></span></tr><tr><td>Times to play:</td><td><input id=lotteryPlays type=text value=1><span id=lotteryPlaysWarning style=color:red></span></tr></table><p><input type=submit id=lotteryRandomButton value="Choose for me">
<input type=submit id=lotteryPlayButton value="Play now"></p><hr><div id=lotteryResults></div><script type=text/javascript>jQuery(function(e){var n=0,s=0;function t(e){return Math.floor(Math.random()*e)+1}function o(){for(var e=new Array(0,0,0,0,0);e[0]==e[1]||e[0]==e[2]||e[0]==e[3]||e[0]==e[4]||e[1]==e[2]||e[1]==e[3]||e[1]==e[4]||e[2]==e[3]||e[2]==e[4]||e[3]==e[4];)e=new Array(t(59),t(59),t(59),t(59),t(59));return e=e.sort(),new Array(e,t(35))}function i(){var t=o();e("#lotteryNumbers").val(t[0].join(" ")),e("#lotteryPowerball").val(t[1])}function a(e,t){for(var s,o,i,n=0,a=0;a<5;a++)for(i=0;i<5;i++)if(e[0][i]==t[0][a]){n+=1;break}return s=e[1]==t[1],o=0,n==0&&s?o=4:n==1&&s?o=4:n==2&&s?o=7:n==3&&!s?o=7:n==3&&s?o=100:n==4&&!s?o=100:n==4&&s?o=1e4:n==5&&!s?o=1e6:n==5&&s&&(o=15e7),new Array(n,s,o)}function r(){e("#lotteryNumbersWarning").html(""),e("#lotteryPowerballWarning").html(""),e("#lotteryPlaysWarning").html("");var t,r,l,d,u,h,m,c=!0,i=new Array(e("#lotteryNumbers").val().split(" "),e("#lotteryPowerball").val());if(i[0].length==5){for(t=0;t<5;t++)i[0][t]=parseInt(i[0][t]),(isNaN(i[0][t])||i[0][t]<1||i[0][t]>59)&&(e("#lotteryNumbersWarning").html("Numbers must be in the range 1-59"),c=!1);i[0].sort();for(t=0;t<5;t++)for(d=t+1;d<5;d++)i[0][t]==i[0][d]&&(e("#lotteryNumbersWarning").html("Numbers must be unique"),c=!1)}else e("#lotteryNumbersWarning").html("You must enter five numbers separated by spaces"),c=!1;if(i[1]=parseInt(i[1]),isNaN(i[1])||i[1]<1||i[1]>59){e("#lotteryPowerballWarning").html("You must enter a single number in the range 1-35");return}if(r=parseInt(e("#lotteryPlays").val()),(isNaN(r)||r<1||r>100)&&(e("#lotteryPlaysWarning").html("You can only play between 1 and 100 games at a time."),c=!1),!c)return;h="",l=0;for(t=0;t<r;t++)u=o(),m=a(i,u),l+=m[2],h+="<p>Round "+(t+1)+": "+u[0].join(" ")+" <span style='color: red;'>"+u[1]+"</span> -- $"+m[2]+`</p>
`;n+=2*r,s+=l,e("#lotteryResults").html("<p>Overall: $"+n+" spent, $"+s+" won, $"+(s-n)+" net gain/loss</p><p>This round: $"+2*r+" spent, $"+l+" won, $"+(-2*r+l)+" net gain/loss</p><hr />"+h)}e("#lotteryRandomButton").click(i),e("#lotteryPlayButton").click(r)})</script><p>If you&rsquo;d like, you can download the source here: <a href=https://github.com/jpverkamp/small-projects/blob/master/blog/lottery.js title="lottery source">lottery source</a></p></div></article></div></div><footer id=page-footer role=contentinfo><nav id=footer-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=/archive-by-date/>All posts: By Date</a></li><li><a href=/archive-by-tag/>All posts: By Tag</a></li><li><a href=/atom.xml>RSS: All <sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li><li><a href=/programming/atom.xml>RSS: programming<sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li></ul></nav><div id=page-footer-content data-pagefind-ignore=all><div class=legal><p>All posts unless otherwise mentioned are licensed under
<a rel=license href=//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US><img alt="Creative Commons License" style=border-width:0 src=//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png></a></p><p>Any source code unless otherwise mentioned is licensed under the <a href=//directory.fsf.org/wiki/License:BSD_3Clause>3 clause BSD license</a></p></div></div></footer></div></body></html>