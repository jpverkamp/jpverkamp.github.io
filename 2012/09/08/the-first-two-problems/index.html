<!DOCTYPE html>
<html>
<head>
    <title>
    The First Two Problems â€“ jverkamp.com
</title>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

    <link rel="alternate" type="application/atom+xml" title="jverkamp.com (Atom 2.0)" href="//blog.jverkamp.com/feed/">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.css" integrity="sha384-exe4Ak6B0EoJI0ogGxjJ8rn+RN3ftPnEQrGwX59KTCl5ybGzvHGKjhPKk/KC3abb" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bigfoot/2.1.4/bigfoot-default.min.css" integrity="sha256-s0KLB0LnI5oqhHF8gkgfmxU4usUFEHlWJTxT8q72Tq4=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous" />

<link href="https://fonts.googleapis.com/css?family=Spectral+SC|Lato|Share+Tech+Mono" rel="stylesheet">

<link rel="stylesheet" href="/custom.css" defer />


    
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
</head>
<body>
    <div id="wrapper">
        <header id="page-header" role="banner">
    <h1><a href="/">JP's Blog</a></h1>

    <ul id="page-header-links">
        <li>
            <a href="https://twitter.com/jpverkamp">Twitter</a> *
            <a href="https://github.com/jpverkamp">GitHub</a> *
            <a href="https://www.flickr.com/photos/jpverkamp">Flickr</a>
        </li>
        <li>
            <form action="//www.google.com/search" method="get" onsubmit="(function(obj){obj.q.value='site:blog.jverkamp.com '+obj.qfront.value;})(this)" class="navbar-form navbar-right" role="search" _lpchecked="1">
                <div class="form-group">
                    <input name="q" type="hidden">
                    <input name="qfront" type="text" class="form-control" placeholder="Search">
                    <button type="submit" class="btn btn-default" value="Search">Search</button>
                </div>
            </form>
        </li>

    </ul>

    <nav id="header-navigation" role="navigation" class="ribbon">
        <ul class="main-navigation">
        
            
            <li><a href="https://blog.jverkamp.com/photography/">Photography</a></li>
            
        
            
            <li><a href="https://blog.jverkamp.com/reviews/">Reviews</a></li>
            
        
            
            <li><a href="https://blog.jverkamp.com/programming/">Programming</a></li>
            
        
            
            <li><a href="https://blog.jverkamp.com/writing/">Writing</a></li>
            
        
            
        
            
            <li><a href="https://blog.jverkamp.com/research/">Research</a></li>
            
        
            <li class="subscription" data-subscription="rss"><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
        </ul>
    </nav>
</header>


        <div id="page-content-wrapper">
            <div id="page-content">
            
<article>
	<header>
		<h1 class="entry-title">The First Two Problems</h1>

        <div class="entry-meta">
            
            <span class="entry-date">2012-09-08</span>
            
            
        </div>

        <div class="entry-tags">
    
    

    <ul class="taxonomy-keys">
    
        
        

        
        

        
    
        
        

        
        

        
        <li>
            <a class="taxonomy-key" href="/programming/languages/">Languages</a>
            <ul class="taxonomy-values">
            
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    

                    
                    

                    <li>
                        <a href="https://blog.jverkamp.com/2012/08/31/wombat-ide-the-return-of-screen-sharing/" class="previous-link"></a>
                        <a class="taxonomy-value" href="/programming/languages/scheme">Scheme</a>
                        <a href="https://blog.jverkamp.com/2012/09/09/generating-voronoi-diagrams/" class="next-link"></a>
                    </li>
                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
            
            </ul>
        </li>
        
    
        
        

        
        

        
        <li>
            <a class="taxonomy-key" href="/programming/sources/">Sources</a>
            <ul class="taxonomy-values">
            
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    

                    
                    

                    <li>
                        <a href="https://blog.jverkamp.com/2012/08/30/random-access-lists/" class="previous-link"></a>
                        <a class="taxonomy-value" href="/programming/sources/programming-praxis">Programming Praxis</a>
                        <a href="https://blog.jverkamp.com/2012/09/19/a-piece-of-the-abc-conjecture/" class="next-link"></a>
                    </li>
                
            
                

                
                

                
            
                

                
                

                
            
            
            </ul>
        </li>
        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
    

    
        
        <li><a class="taxonomy-key" href="/programming">programming</a>
            <ul>
                <li>
                
                <a href="https://blog.jverkamp.com/2012/09/06/generating-epubs/" class="previous-link">Prev</a>
                

                
                <a href="https://blog.jverkamp.com/2012/09/09/generating-voronoi-diagrams/" class="next-link">Next</a>
                
            </ul>
        </li>
        

        
        <li><a class="taxonomy-key" href="/">All Posts</a>
            <ul>
                <li>
                
                <a href="https://blog.jverkamp.com/2012/09/07/a-sea-of-stars-ch.-4-troubleshooting/" class="previous-link">Prev</a>
                

                
                <a href="https://blog.jverkamp.com/2012/09/09/generating-voronoi-diagrams/" class="next-link">Next</a>
                
            </ul>
        </li>
        
    
    </ul>
</div>

    </header>

	<div class="entry-content">
		<p>Anything worth doing is worth over doing, right? This time we have another two problems from Programming Praxis, aptly title &ldquo;<a href="https://blog.jverkamp.com/2012/04/13/wombat-ide-turtle-graphics/">Turtle Graphics</a> instead of just printing the characters. ðŸ˜„</p>

<p>As always if you would like to download the entire source code, you can do so <a href="https://github.com/jpverkamp/small-projects/blob/master/blog/first-two-problems.ss">here</a>. Granted, you&rsquo;ll almost surely need <a href="https://github.com/jpverkamp/small-projects/blob/master/blog/first-two-problems.ss">source code</a>.</p>

<p>Now the big question is how do you actually draw those? It turns out, it&rsquo;s not so bad. Here&rsquo;s the first function which takes a vector of point lists (like <code>digits</code> above) and draws the list at a given point with the given turtle:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme"><span style="color:#75715e">; using turtle t, draw the digit/letter with index i from table chars</span>
<span style="color:#75715e">; with the top left at r, c</span>
<span style="color:#75715e">; reset the turtle to wherever it was after that</span>
(<span style="color:#66d9ef">define </span>(draw-thing chars t r c i)
  (block t
    (<span style="color:#66d9ef">let </span>([ps (vector-ref chars i)])
      (lift-pen! t)
      (move-to! t (+ c (cadar ps)) (+ r (caar ps)))
      (drop-pen! t)
      (<span style="color:#66d9ef">let </span>loop ([ps (cdr ps)])
        (unless (null? ps)
          (move-to! t (+ c (cadar ps)) (+ r (caar ps)))
          (loop (cdr ps)))))))</code></pre></div>
<p>Pretty straight forward. Save the state, lift the pen to move to the first point, and then recursively draw lines from point to point. Now what if we want to use that to draw a number? Still pretty straight forward. Just loop through the digits, drawing them one at a time. The hardest part was actually formatting them from the right so that the standard <code>mod</code>/<code>div</code> method for extracting digits would work.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme"><span style="color:#75715e">; using turtle t, draw a number n with the top left at r, c</span>
<span style="color:#75715e">; reset the turtle to whever it was after that</span>
(<span style="color:#66d9ef">define </span>(draw-number t r c n)
  (block t
    (<span style="color:#66d9ef">if </span>(= n <span style="color:#ae81ff">0</span>)
        (draw-thing digits t r (+ c <span style="color:#ae81ff">10</span>) <span style="color:#ae81ff">0</span>)
        (<span style="color:#66d9ef">let </span>([? (&lt; n <span style="color:#ae81ff">0</span>)])
          (<span style="color:#66d9ef">let </span>loop ([c (+ c (* <span style="color:#ae81ff">10</span> (digits-in n)) <span style="color:#ae81ff">1</span>)]
                     [n (abs n)])
            (when (&gt; n <span style="color:#ae81ff">0</span>)
              (draw-thing digits t r c (mod n <span style="color:#ae81ff">10</span>))
              (loop (- c <span style="color:#ae81ff">10</span>) (div n <span style="color:#ae81ff">10</span>)))
            (when (<span style="color:#66d9ef">and </span>? (= n <span style="color:#ae81ff">0</span>))
              (draw-thing digits t r c <span style="color:#ae81ff">10</span>)))))))</code></pre></div>
<p>In case you were wondering, here&rsquo;s the function that will tell me how many characters are in a number, including an extra one for the <code>-</code> in negative numbers:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme"><span style="color:#75715e">; helper to calculate how wide a number is (add one for negative numbers)</span>
(<span style="color:#66d9ef">define </span>(digits-in n)
  (<span style="color:#66d9ef">if </span>(= n <span style="color:#ae81ff">0</span>) 
      <span style="color:#ae81ff">0</span>
      (+ (<span style="color:#66d9ef">if </span>(&lt; n <span style="color:#ae81ff">0</span>) <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">0</span>)
        (inexact-&gt;exact (+ <span style="color:#ae81ff">1</span> (floor (log (abs n) <span style="color:#ae81ff">10</span>)))))))</code></pre></div>
<p>After getting numbers working, drawing strings was much easier. Particularly because you can directly access the letters from left to right with <code>string-ref</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme"><span style="color:#75715e">; using turtle t, draw a string s with the top left at r, c</span>
<span style="color:#75715e">; reset the turtle to whever it was after that</span>
(<span style="color:#66d9ef">define </span>(draw-string t r c s)
  (block t
    (for-each
      (<span style="color:#66d9ef">lambda </span>(i)
        (unless (eq? <span style="color:#e6db74">#\space</span> (string-ref s i))
          (draw-thing letters t r (+ c (* i <span style="color:#ae81ff">10</span>))
            (- (char-&gt;integer (char-upcase (string-ref s i))) <span style="color:#ae81ff">65</span>))))
      (iota (string-length s)))))</code></pre></div>
<p>And that&rsquo;s it. Well, except for the minor fact that we haven&rsquo;t actually solved the problem yet. ðŸ˜„</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme"><span style="color:#75715e">; draw a temperature table</span>
<span style="color:#75715e">; (draw-image (make-temperature-table))</span>
(<span style="color:#66d9ef">define </span>(make-temperature-table)
  (<span style="color:#66d9ef">let </span>([t (hatch)])
    (draw-string t <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">0</span> <span style="color:#e6db74">&#34; F&#34;</span>)
    (draw-string t <span style="color:#ae81ff">15</span> <span style="color:#ae81ff">50</span> <span style="color:#e6db74">&#34; C&#34;</span>)
    (for-each
      (<span style="color:#66d9ef">lambda </span>(row)
        (<span style="color:#66d9ef">let* </span>([f (* row <span style="color:#ae81ff">20</span>)]
               [c (inexact-&gt;exact (round (/ (* (- f <span style="color:#ae81ff">32</span>) <span style="color:#ae81ff">5</span>) <span style="color:#ae81ff">9</span>)))])
          (draw-number t (* (- row) <span style="color:#ae81ff">15</span>) <span style="color:#ae81ff">0</span> f)
          (draw-number t (* (- row) <span style="color:#ae81ff">15</span>) <span style="color:#ae81ff">50</span> c)))
      (iota <span style="color:#ae81ff">16</span>))
    (turtle-&gt;image t)))

<span style="color:#75715e">; draw hello world</span>
<span style="color:#75715e">; (draw-image (hello-world))</span>
(<span style="color:#66d9ef">define </span>(hello-world)
  (<span style="color:#66d9ef">let </span>([t (hatch)])
    (draw-string t <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#e6db74">&#34;Hello World&#34;</span>)
    (turtle-&gt;image t)))</code></pre></div>
<p>Much better.</p>

<p>That was actually really fun to do. Perhaps I&rsquo;ll see what other <del>trouble</del> fun I can get into with it.</p>

<p>If you would like to download the entire source code, you can do so <a href="https://blog.jverkamp.com/2012/04/13/wombat-ide-turtle-graphics/">Turtle Graphics</a>).</p>

<p>As a random side note, it&rsquo;s amusing to watch the turtles actually going about the drawing. Try turning on <code>(live-display #t)</code>.</p>
	</div>

    
<div class="entry-comments">
    <div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_shortname = "jverkamp";
            var disqus_title = "The First Two Problems";
            var disqus_url = "https:\/\/blog.jverkamp.com\/2012\/09\/08\/the-first-two-problems\/";

             
            (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>


</article>

            </div>
        </div>

        <footer id="page-footer" role="contentinfo">
    <nav id="footer-navigation" role="navigation" class="ribbon">
        <ul class="main-navigation">
            <li><a href="/archive-by-date/">All posts: By Date</a></li>
            <li><a href="/archive-by-tag/">All posts: By Tag</a></li>

            <li>
                <a href="/atom.xml">
                    RSS: All <sup>

<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24">
    <path fill="white" d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z" />
</svg>
</sup>
                </a>
            </li>

            
            <li>
                <a href="/programming/atom.xml">
                    RSS: programming<sup>

<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24">
    <path fill="white" d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z" />
</svg>
</sup>
                </a>
            </li>
            
        </ul>
    </nav>

    <div id="page-footer-content">
        <div class="legal">
            <p>
                All posts unless otherwise mentioned are licensed under
                <a rel="license" href="//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US">
                    <img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png">
                </a>
            </p>

            <p>
                Any source code unless otherwise mentioned is licensed under the <a href="//directory.fsf.org/wiki/License:BSD_3Clause">3 clause BSD license</a>
            </p>
        </div>
    </div>
</footer>

    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.js" integrity="sha256-yDarFEUo87Z0i7SaC6b70xGAKCghhWYAZ/3p+89o4lE=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.js" integrity="sha384-OMvkZ24ANLwviZR2lVq8ujbE/bUO8IR1FdBrKLQBI14Gq5Xp/lksIccGkmKL8m+h" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bigfoot/2.1.4/bigfoot.min.js" integrity="sha256-2ylggML6rCJMc817KbE8Cx+cuxYIM+6bjG2Gpq2g7iU=" crossorigin="anonymous"></script>

<script type="text/javascript" src="/custom.js" defer></script>

</body>
</html>
