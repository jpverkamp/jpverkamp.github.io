<!doctype html><html><head><title>Once Again, to Hammerspoon ‚Äì jverkamp.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><link rel=alternate type=application/atom+xml title="jverkamp.com (Atom 2.0)" href=//blog.jverkamp.com/feed/><script src=/jquery_5823201688106629450.min.30448892aa1f91e9c4cb5494e5c5e5abc13b7778de7786e5256cdc7d2424813a.js defer></script>
<script src=/jquery.fancybox_6181813213021922412.min.6ba037466db9f8843b66c38c32fe5a353344e7fd68ecda97efb63a84c881f828.js defer></script>
<script src=/katex_12008035502722260518.min.3cc3a080c0368785179e37b0cd0a71c6cf60c4fc5a8dce503f5a542ec0a25043.js defer></script>
<script src=/bigfoot_8444447145154709333.min.5e80bd85ebaeb95607834d6777bfe7013d1d161f0f02a31b845e4bd765898316.js defer></script>
<script src=/mermaid_12365941879912544862.min.e8f19283a632077085b9ad74aecad54abe84429c69789fd29ffa3a254d86abdd.js defer></script>
<script src=/main.min.0385197289ca7627c4248fd97d030dabf0af1f0f9c467f85f05a5fb932a64882.js defer></script>
<link rel=stylesheet href=/katex_14163593549783030822.min.16bacd59fb224ae6c97a749ab0ac1e708cb5e0c9ce5c9a08d7fd73dc8e69429f.css><link rel=stylesheet href=/bigfoot-default_16482899066638414220.min.f15d4faa4519addb976f9d69b42bd9eb491b3596b6b2eda83aa3e9e1f48b8f14.css><link rel=stylesheet href=/jquery.fancybox_16222217791602823071.min.e28b5d7d9d89efacb5f708ac30cbd76b1b9a0f816dfd9da96631d1d09cbbdd76.css><link rel=stylesheet href=/css_4780214198035419921.min.7cfac95bdd962d85ceec560e50fe7b04c44b58a76e5202006ef36ca8c0a7d836.css><link rel=stylesheet href=/main.min.3af7142094623e482a03a6df125cd8566c32ad97300dc0ba3a9f2157f8d1ac8f.css></head><body><div id=wrapper><header id=page-header role=banner><h1><a href=/>JP's Blog</a></h1><ul id=page-header-links><li><a href=https://github.com/jpverkamp>GitHub</a> *
<a href=https://www.flickr.com/photos/jpverkamp>Flickr</a> *
<a href=/resume>Resume</a></li><li><form action=//www.google.com/search method=get onsubmit='(function(e){e.q.value="site:blog.jverkamp.com "+e.qfront.value})(this)' class="navbar-form navbar-right" role=search _lpchecked=1><div class=form-group><input name=q type=hidden>
<input name=qfront type=text class=form-control placeholder=Search>
<button type=submit class="btn btn-default" value=Search>Search</button></div></form></li></ul><nav id=header-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=https://blog.jverkamp.com/reviews/>Reviews</a></li><li><a href=https://blog.jverkamp.com/programming/>Programming</a></li><li><a href=https://blog.jverkamp.com/photography/>Photography</a></li><li><a href=https://blog.jverkamp.com/maker/>Maker</a></li><li><a href=https://blog.jverkamp.com/writing/>Writing</a></li><li><a href=https://blog.jverkamp.com/research/>Research</a></li><li class=subscription data-subscription=rss><a href=/atom.xml rel=subscribe-rss title="subscribe via RSS">RSS</a></li></ul></nav></header><div id=page-content-wrapper><div id=page-content><article><header><h1 class=entry-title>Once Again, to Hammerspoon</h1><div class=entry-meta><span class=entry-date>2023-01-23</span></div><div class=entry-taxonomies><div class=entry-tags><ul class=taxonomy-keys><li><a class=taxonomy-key href=/programming/languages/>Languages</a><ul class=taxonomy-values><li><a href=https://blog.jverkamp.com/2016/02/08/duplicating-aerosnap-on-osx-with-hammerspoon/ class=previous-link></a><a class=taxonomy-value href=/programming/languages/lua>Lua</a><a href=https://blog.jverkamp.com/2023/01/30/next/previous-space-in-hammerspoon/ class=next-link></a></li></ul></li><li><a class=taxonomy-key href=/programming/topics/>Topics</a><ul class=taxonomy-values><li><a href=https://blog.jverkamp.com/2020/07/07/a-smart-mysql-wrapper/ class=previous-link></a><a class=taxonomy-value href=/programming/topics/dotfiles>Dotfiles</a><a href=https://blog.jverkamp.com/2023/01/30/next/previous-space-in-hammerspoon/ class=next-link></a></li><li><a class=taxonomy-value href=/programming/topics/productivity>Productivity</a><a href=https://blog.jverkamp.com/2023/01/30/next/previous-space-in-hammerspoon/ class=next-link></a></li><li><a class=taxonomy-value href=/programming/topics/window-managers>Window Managers</a><a href=https://blog.jverkamp.com/2023/01/30/next/previous-space-in-hammerspoon/ class=next-link></a></li></ul></li><li><a class=taxonomy-key href=/programming>programming</a><ul><li><a href=https://blog.jverkamp.com/2023/01/19/local-js/css-with-hugo-pipe/ class=previous-link>Prev</a>
<a href=https://blog.jverkamp.com/2023/01/30/next/previous-space-in-hammerspoon/ class=next-link>Next</a></ul></li><li><a class=taxonomy-key href=/>All Posts</a><ul><li><a href=https://blog.jverkamp.com/2023/01/23/the-rose-code/ class=previous-link>Prev</a>
<a href=https://blog.jverkamp.com/2023/01/24/all-new-x-men-vol.-5-one-down/ class=next-link>Next</a></ul></li></ul></div></div></header><div class=entry-content><p>Why oh why doesn&rsquo;t macOS have a more powerful window manager&mldr;</p><p>Once upon a time, I moved from primarily Windows to primarily (at the time) OSX. I missed Aerospace&ndash;the ability to use Win+Left/Right to snap windows to half the screen&ndash;so I wrote a fix: <a href=https://blog.jverkamp.com/2016/02/08/duplicating-aerosnap-on-osx-with-hammerspoon/>Duplicating AeroSnap on OSX with Hammerspoon</a>.</p><p>Since then, I eventually discovered and moved to <a href=https://magnet.crowdcafe.com/>Magnet</a> and all was well.</p><p>But more recently, I&rsquo;ve been wanting two things:</p><ul><li>a bit more control (once again), to define more arbitrary sizes and keystrokes</li><li>the ability to automatically arrange windows to various <a href=https://support.apple.com/en-us/HT204100>Mission Control</a> Spaces</li></ul><p>And what a journey it&rsquo;s been&mldr;</p><nav id=TableOfContents><ul><li><a href=#what-i-tried>What I tried</a></li><li><a href=#pushing-windows-around>Pushing windows around</a></li><li><a href=#sending-windows-to-the-correct-screendesktop>Sending windows to the correct screen/desktop</a></li><li><a href=#pulling-it-all-together-initlua>Pulling it all together (init.lua)</a></li><li><a href=#one-small-caveat-next>One small caveat: next()</a></li><li><a href=#useful-docs>Useful docs</a></li></ul></nav><h2 id=what-i-tried>What I tried</h2><p>Not really. Mostly, I sent out a call for what other options there were and tried them out:</p><ul><li><a href=https://www.spectacleapp.com/>Spectacle</a> - discontinued</li><li><a href="https://apps.apple.com/us/app/divvy-window-manager/id413857545?mt=12">Divvy</a> - works pretty well, especially for automatically tiling and grid layout, although having to specify the grid with the mouse is suboptimal</li><li><a href=https://github.com/koekeishiya/yabai>yabai</a> - requires disabling <a href=https://support.apple.com/en-us/HT204899>SIP</a>, is CLI üëç but needs another tool for keyboard shortcuts üëé</li><li><a href=https://i3wm.org/>i3</a> / <a href=https://awesomewm.org/>awesome</a> - automatic tiling; I don&rsquo;t think I&rsquo;m quite ready for this yet, perhaps another day?</li><li><a href=https://rectangleapp.com/>Rectangle</a> - follow up to Spectacle, really is pretty much the same thing as Magnet</li><li><a href=https://rectangleapp.com/pro>Rectangle Pro</a> - it&rsquo;s&mldr; a separate app? but with &ldquo;Arrange an entire workspace of apps with just one shortcut.&rdquo; this might do exactly what I want</li></ul><p>But finally (for the time being), I came back to <a href=https://www.hammerspoon.org/>Hammerspoon</a>.</p><p>What can I say, I&rsquo;m a tinkerer at heart. Sometimes to my own detriment, I like to be able to take a sane set of defaults and then tweak them how I want. Hammerspoon more or less gives me that.</p><p>So, let&rsquo;s approach my goals.</p><h2 id=pushing-windows-around>Pushing windows around</h2><p>First, to snap windows, I implemented a few functions in <code>~/.hammerspoon/functions/push.lua</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#75715e>-- Move a window to the given coordinates</span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- top/left/width/height as a percent of the screen</span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- window (optional) the window to move, defaults to the focused window</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>push</span>(params)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>local</span> window <span style=color:#f92672>=</span> params[<span style=color:#e6db74>&#34;window&#34;</span>] <span style=color:#f92672>or</span> hs.window.focusedWindow()
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>local</span> windowFrame <span style=color:#f92672>=</span> window:frame()
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>local</span> screen <span style=color:#f92672>=</span> window:screen()
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>local</span> screenFrame <span style=color:#f92672>=</span> screen:frame()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>local</span> moved <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>cas</span>(old, new)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> old <span style=color:#f92672>~=</span> new <span style=color:#66d9ef>then</span> 
</span></span><span style=display:flex><span>      moved <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> new
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  windowFrame.x <span style=color:#f92672>=</span> cas(windowFrame.x, screenFrame.x <span style=color:#f92672>+</span> (screenFrame.w <span style=color:#f92672>*</span> (params[<span style=color:#e6db74>&#34;left&#34;</span>] <span style=color:#f92672>or</span> <span style=color:#ae81ff>0</span>)))
</span></span><span style=display:flex><span>  windowFrame.y <span style=color:#f92672>=</span> cas(windowFrame.y, screenFrame.y <span style=color:#f92672>+</span> (screenFrame.h <span style=color:#f92672>*</span> (params[<span style=color:#e6db74>&#34;top&#34;</span>] <span style=color:#f92672>or</span> <span style=color:#ae81ff>0</span>)))
</span></span><span style=display:flex><span>  windowFrame.w <span style=color:#f92672>=</span> cas(windowFrame.w, screenFrame.w <span style=color:#f92672>*</span> (params[<span style=color:#e6db74>&#34;width&#34;</span>] <span style=color:#f92672>or</span> <span style=color:#ae81ff>1</span>))
</span></span><span style=display:flex><span>  windowFrame.h <span style=color:#f92672>=</span> cas(windowFrame.h, screenFrame.h <span style=color:#f92672>*</span> (params[<span style=color:#e6db74>&#34;height&#34;</span>] <span style=color:#f92672>or</span> <span style=color:#ae81ff>1</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  window:setFrame(windowFrame)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> moved
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>thunk_push</span>(params)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>thunk</span>()
</span></span><span style=display:flex><span>    push(params)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> thunk
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>grid</span>(cell)
</span></span><span style=display:flex><span>  hs.grid.set(hs.window.focusedWindow(), cell)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>thunk_grid</span>(cell) 
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>thunk</span>()
</span></span><span style=display:flex><span>    grid(cell)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> thunk
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><p>The goal here is to take a table that can contain <code>top</code>, <code>left</code>, <code>width</code>, and/or <code>height</code> as numbers 0 to 1 and then apply those to the current window, defaulting <code>left</code> and <code>top</code> to 0 and <code>width</code> and <code>height</code> to 1. So if I want a window on the right half, that&rsquo;s <code>{left: 1/2, width: 1/2}</code>. Easy enough. <code>thunk_push</code> is a wrapper around that that will take the arguments up and wrap them in a <a href=https://en.wikipedia.org/wiki/thunk>thunk</a>&ndash;a function with no parameters.</p><p>With that, I can add a bunch of my keybindings to <code>~/.hammerspoon/keys.lua</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#75715e>-- ‚åò ‚åÉ ‚å• ‚áß</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- show grid</span>
</span></span><span style=display:flex><span>hs.hotkey.bind(<span style=color:#e6db74>&#34;‚åò‚áß&#34;</span>, <span style=color:#e6db74>&#34;g&#34;</span>,     hs.grid.show)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- full screens</span>
</span></span><span style=display:flex><span>hs.hotkey.bind(<span style=color:#e6db74>&#34;‚åò‚áß&#34;</span>, <span style=color:#e6db74>&#34;up&#34;</span>,    thunk_push{width<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>, height<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>})
</span></span><span style=display:flex><span>hs.hotkey.bind(<span style=color:#e6db74>&#34;‚åò‚áß&#34;</span>, <span style=color:#e6db74>&#34;down&#34;</span>,  thunk_push{top<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>8</span>, left<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>8</span>, width<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span><span style=color:#f92672>/</span><span style=color:#ae81ff>4</span>, height<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span><span style=color:#f92672>/</span><span style=color:#ae81ff>4</span>})
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>-- half screens</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>thunk_left_or_move</span>()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> push{left<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>, width<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>} <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>local</span> window <span style=color:#f92672>=</span> hs.window.focusedWindow()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>local</span> screen <span style=color:#f92672>=</span> window:screen():previous()
</span></span><span style=display:flex><span>        window:moveToScreen(screen)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        push{left<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, width<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>}
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>    
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>thunk_right_or_move</span>()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> push{left<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, width<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>} <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>local</span> window <span style=color:#f92672>=</span> hs.window.focusedWindow()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>local</span> screen <span style=color:#f92672>=</span> window:screen():next()
</span></span><span style=display:flex><span>        window:moveToScreen(screen)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        push{left<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>, width<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>}
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>hs.hotkey.bind(<span style=color:#e6db74>&#34;‚åò‚áß&#34;</span>, <span style=color:#e6db74>&#34;left&#34;</span>,  thunk_left_or_move)
</span></span><span style=display:flex><span>hs.hotkey.bind(<span style=color:#e6db74>&#34;‚åò‚áß&#34;</span>, <span style=color:#e6db74>&#34;right&#34;</span>, thunk_right_or_move)
</span></span><span style=display:flex><span>hs.hotkey.bind(<span style=color:#e6db74>&#34;‚åò‚áß&#34;</span>, <span style=color:#e6db74>&#34;pad8&#34;</span>,  thunk_push{height<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>})
</span></span><span style=display:flex><span>hs.hotkey.bind(<span style=color:#e6db74>&#34;‚åò‚áß&#34;</span>, <span style=color:#e6db74>&#34;pad2&#34;</span>,  thunk_push{top<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, height<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- third screens</span>
</span></span><span style=display:flex><span>hs.hotkey.bind(<span style=color:#e6db74>&#34;‚åò‚áß&#34;</span>, <span style=color:#e6db74>&#34;pad4&#34;</span>,  thunk_push{width<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>})
</span></span><span style=display:flex><span>hs.hotkey.bind(<span style=color:#e6db74>&#34;‚åò‚áß&#34;</span>, <span style=color:#e6db74>&#34;pad6&#34;</span>,  thunk_push{width<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, left<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>hs.hotkey.bind(<span style=color:#e6db74>&#34;‚åò‚áß&#34;</span>, <span style=color:#e6db74>&#34;pad7&#34;</span>,  thunk_push{top<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>, left<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>, width<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, height<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>})
</span></span><span style=display:flex><span>hs.hotkey.bind(<span style=color:#e6db74>&#34;‚åò‚áß&#34;</span>, <span style=color:#e6db74>&#34;pad9&#34;</span>,  thunk_push{top<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>, left<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, width<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, height<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>})
</span></span><span style=display:flex><span>hs.hotkey.bind(<span style=color:#e6db74>&#34;‚åò‚áß&#34;</span>, <span style=color:#e6db74>&#34;pad1&#34;</span>,  thunk_push{top<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, left<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>, width<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, height<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>})
</span></span><span style=display:flex><span>hs.hotkey.bind(<span style=color:#e6db74>&#34;‚åò‚áß&#34;</span>, <span style=color:#e6db74>&#34;pad3&#34;</span>,  thunk_push{top<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, left<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, width<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, height<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>})
</span></span></code></pre></div><p>We&rsquo;ll come back to <code>‚åò‚áß g</code>. But otherwise, all the rest of them move windows with <code>‚åò‚áß</code> plus a key:</p><ul><li><code>left</code> - move a window to the left half of the screen, if it&rsquo;s already there, move to the previous screen (the right half of it)</li><li><code>right</code> - the same, but right and then the next screen</li><li><code>up</code> - maximize</li><li><code>down</code> - partial center; I originally had this restore windows to what they were before Hammerspoon took over, but I haven&rsquo;t re-implemented that yet</li><li><code>numpad</code>:<ul><li><code>4</code> / <code>6</code> - take up the left / right two thirds of the window (to be used with the other keys)</li><li><code>7</code> / <code>9</code> / <code>1</code> / <code>3</code> - take up the top left, top right, bottom left, or bottom right third (left/right) of the screen and half (top/bottom); basically so I can tile one big and two small windows</li></ul></li></ul><p>And that&rsquo;s really it. So back to <code>‚åò‚áß g</code>. That does this:</p><figure><img src=/embeds/2023/hammerspoon-grid.png></figure><p>Then hit the two keys (top left and bottom right) and the window will snap to that. So I can center 2/3, full height a window with <code>‚åò‚áß g, w, g</code>. Or set a window to the right 2/3 with ``‚åò‚áß g, e, h<code>. That ... is pretty cool. The specific size of the grid I have defined in </code>init.lua`, which we&rsquo;ll come back to.</p><h2 id=sending-windows-to-the-correct-screendesktop>Sending windows to the correct screen/desktop</h2><p>Okay. Now, the second and harder problem. I want to be able to send my windows to specific screens. When my Mac reboots, it restores all of the windows, but has a tendency to just put them wherever. When I use a KVM to switch monitors, sometimes things get scrambled. There&rsquo;s theoretically a &rsquo;lock to desktop&rsquo; option&mldr; but I cannot for the life of me get it to work.</p><p>So&mldr; how do we do that?</p><p>Well, the <a href=https://www.hammerspoon.org/docs/hs.window.html>hs.window</a> namespace can list all windows with <code>hs.window.list</code>&mldr; but that&rsquo;s slow. Instead, what you want is to make an <code>hs.window.filter</code> over all windows. Then you can actually subscribe to events on it, specifically <code>windowCreated</code> and <code>windowDestroyed</code>. I&rsquo;ll use that to keep a local copy of <code>allWindows</code> that are opened.</p><p>Second, I now have a <code>window</code>, but that doesn&rsquo;t completely help. I need the <code>window:application():name()</code> to get the name of the application running (a la <code>Firefox</code>) but also <code>window:title()</code> for the specific title of specific windows. And unfortunately, there&rsquo;s no built in way (specifically for Firefox) to title windows, so I needed the <a href=https://addons.mozilla.org/en-US/firefox/addon/window-titler/>Window Titler</a> extension. Oy. Anyways, that&rsquo;s enough to allow me to select a specific window by application, title, or both.</p><p>Third and finally, <a href=https://www.hammerspoon.org/docs/hs.spaces.html>hs.spaces</a>. That will give the ability to control macOS Spaces. It&rsquo;s mentioned in the doc that this is experimental and uses private APIs that Apple could easily change&mldr; which I suppose is why most window managers don&rsquo;t seem able to do this. But on the other hand&mldr; it does work. So that&rsquo;s pretty cool!</p><p>As a side note, they do mention that they looked at the <a href=https://github.com/koekeishiya/yabai>Yobai</a> source, so despite the note about SIP, that&rsquo;s a good sign I believe.</p><p>Specifically though, I use <code>hs.screen.find(screenQuery)</code> to get one of my screens (a monitor) by the type of monitor (luckily one of mine is LG and the other DELL) then <code>hs.spaces.allSpaces()</code> with that ID to list all spaces on that screen. That <code>table</code> is in order but with IDs created in the order the desktops were created, so rather than directly use the ID, I count through that list and get the ID.</p><p>All that gives me</p><p>And finally, here&rsquo;s the end result, <code>~/.hammerspoon/functions/rehome.lua</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>windowFilter <span style=color:#f92672>=</span> hs.window.filter.new()
</span></span><span style=display:flex><span>windowFilter:setDefaultFilter{}
</span></span><span style=display:flex><span>windowFilter:setSortOrder(hs.window.filter.sortByFocusedLast)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- Keep a local copy of all windows</span>
</span></span><span style=display:flex><span>allWindows <span style=color:#f92672>=</span> {}
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> _, window <span style=color:#66d9ef>in</span> pairs(windowFilter:getWindows()) <span style=color:#66d9ef>do</span> 
</span></span><span style=display:flex><span>  allWindows[window:id()] <span style=color:#f92672>=</span> window
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>windowFilter:subscribe(<span style=color:#e6db74>&#34;windowCreated&#34;</span>, <span style=color:#66d9ef>function</span>(window, name, event)
</span></span><span style=display:flex><span>  print(<span style=color:#e6db74>&#34;window created&#34;</span>, window)
</span></span><span style=display:flex><span>  allWindows[window:id()] <span style=color:#f92672>=</span> window
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>windowFilter:subscribe(<span style=color:#e6db74>&#34;windowDestroyed&#34;</span>, <span style=color:#66d9ef>function</span>(window, name, event)
</span></span><span style=display:flex><span>  print(<span style=color:#e6db74>&#34;window destroyed&#34;</span>, window)
</span></span><span style=display:flex><span>  allWindows[window:id()] <span style=color:#f92672>=</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>rehome</span>(windowQuery, screenQuery, spaceIndex, pushArgs)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> id, w <span style=color:#66d9ef>in</span> pairs(allWindows) <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>local</span> name <span style=color:#f92672>=</span> w:application():name() <span style=color:#f92672>..</span> <span style=color:#e6db74>&#34; - &#34;</span> <span style=color:#f92672>..</span> w:title()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> name <span style=color:#f92672>~=</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>and</span> name:find(windowQuery) <span style=color:#66d9ef>then</span> 
</span></span><span style=display:flex><span>      window <span style=color:#f92672>=</span> w
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> window <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;[ERROR in rehome] Window now found&#34;</span>, windowQuery)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>local</span> screen <span style=color:#f92672>=</span> hs.screen.find(screenQuery)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> screen <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;[ERROR in rehome] Screen now found&#34;</span>, screenQuery)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>local</span> spaceIDs <span style=color:#f92672>=</span> hs.spaces.allSpaces()[screen:getUUID()]
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> spaceIndex <span style=color:#f92672>&gt;</span> <span style=color:#f92672>#</span>spaceIDs <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;[ERROR in rehome] spaceIndex too large&#34;</span>, spaceIndex, <span style=color:#e6db74>&#34;&gt;&#34;</span>, <span style=color:#f92672>#</span>spaceIDs)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>local</span> spaceID <span style=color:#f92672>=</span> spaceIDs[spaceIndex]
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>local</span> spaceName <span style=color:#f92672>=</span> hs.spaces.missionControlSpaceNames()[screen:getUUID()][spaceID]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  print(<span style=color:#e6db74>&#34;Moving&#34;</span>, window, <span style=color:#e6db74>&#34;to&#34;</span>, spaceID, <span style=color:#e6db74>&#34;=&#34;</span>, spaceName, <span style=color:#e6db74>&#34;on&#34;</span>, screen)
</span></span><span style=display:flex><span>  hs.spaces.moveWindowToSpace(window, spaceID)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> pushArgs <span style=color:#f92672>~=</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>    pushArgs[<span style=color:#e6db74>&#34;window&#34;</span>] <span style=color:#f92672>=</span> window
</span></span><span style=display:flex><span>    push(pushArgs)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><p>That lets me do something like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>rehome(<span style=color:#e6db74>&#34;Firefox:Main&#34;</span>,  <span style=color:#e6db74>&#34;LG&#34;</span>,   <span style=color:#ae81ff>3</span>, {left<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, width<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>})
</span></span></code></pre></div><p>That means, take the window with <code>Firefox:Main</code> in the title and put it on the <code>LG</code> monitor in the 3rd desktop on that screen. After that, call <code>push</code> (see above) to move it to the right 2/3 of the screen.</p><p>Nice. Put a few of those together, <code>~/.hammerspoon/layout.lua</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#66d9ef>if</span> hs.host.names()[<span style=color:#ae81ff>1</span>]:lower():find(<span style=color:#e6db74>&#34;mercury&#34;</span>) <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>-- Left monitor: LG HDR</span>
</span></span><span style=display:flex><span>    rehome(<span style=color:#e6db74>&#34;Firefox:Main&#34;</span>,  <span style=color:#e6db74>&#34;LG&#34;</span>,   <span style=color:#ae81ff>3</span>, {left<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, width<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>})
</span></span><span style=display:flex><span>    rehome(<span style=color:#e6db74>&#34;Obsidian&#34;</span>,      <span style=color:#e6db74>&#34;LG&#34;</span>,   <span style=color:#ae81ff>3</span>, {width<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, height<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>})
</span></span><span style=display:flex><span>    rehome(<span style=color:#e6db74>&#34;todo&#34;</span>,          <span style=color:#e6db74>&#34;LG&#34;</span>,   <span style=color:#ae81ff>3</span>, {width<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, height<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, top<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>-- Right monitor: DELL </span>
</span></span><span style=display:flex><span>    rehome(<span style=color:#e6db74>&#34;Mail&#34;</span>,          <span style=color:#e6db74>&#34;DELL&#34;</span>, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    rehome(<span style=color:#e6db74>&#34;Bitwarden&#34;</span>,     <span style=color:#e6db74>&#34;DELL&#34;</span>, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    rehome(<span style=color:#e6db74>&#34;Cryptomator&#34;</span>,   <span style=color:#e6db74>&#34;DELL&#34;</span>, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    rehome(<span style=color:#e6db74>&#34;Calendar&#34;</span>,      <span style=color:#e6db74>&#34;DELL&#34;</span>, <span style=color:#ae81ff>2</span>, {width<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>, height<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    rehome(<span style=color:#e6db74>&#34;Firefox:Media&#34;</span>, <span style=color:#e6db74>&#34;DELL&#34;</span>, <span style=color:#ae81ff>3</span>, {width<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>})
</span></span><span style=display:flex><span>    rehome(<span style=color:#e6db74>&#34;Slack&#34;</span>,         <span style=color:#e6db74>&#34;DELL&#34;</span>, <span style=color:#ae81ff>3</span>, {left<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, width<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, height<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>})
</span></span><span style=display:flex><span>    rehome(<span style=color:#e6db74>&#34;Messages&#34;</span>,      <span style=color:#e6db74>&#34;DELL&#34;</span>, <span style=color:#ae81ff>3</span>, {top<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, left<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, width<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, height<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>})
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><p>And away we go.</p><p>Firefox, Obsidian, and &rsquo;todo&rsquo; (a VSCode window with my todo workspace open) on one monitor in thirds. On the other, a few background windows (Mail/<a href=https://bitwarden.com/>Bitwarden</a>/<a href=https://cryptomator.org/>Cryptomator</a>) moved out of the way, Calendar on the second monitor full screen, and another Firefox (for YouTube etc)/Slack/Messages on the smaller <code>Dell</code> monitor. Pretty cool, no?</p><p>I do have this set right now to my computer&rsquo;s hostname (<code>mercury</code>) so I can define layouts for more than one machine, but for now, that&rsquo;s all I need.</p><h2 id=pulling-it-all-together-initlua>Pulling it all together (init.lua)</h2><p>And finally, the core/main function that sets this all up, <code>~/.hammerspoon/init.lua</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>hs.grid.MARGINX <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>hs.grid.MARGINY <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>hs.grid.GRIDWIDTH <span style=color:#f92672>=</span> <span style=color:#ae81ff>6</span>
</span></span><span style=display:flex><span>hs.grid.GRIDHEIGHT <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>require <span style=color:#e6db74>&#34;functions/push&#34;</span>
</span></span><span style=display:flex><span>require <span style=color:#e6db74>&#34;functions/rehome&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>require <span style=color:#e6db74>&#34;keys&#34;</span>
</span></span><span style=display:flex><span>require <span style=color:#e6db74>&#34;layout&#34;</span>
</span></span></code></pre></div><p>That&rsquo;s where we define the grid, load the two functions mentioned earlier and then add keybindings and a default layout. That&rsquo;s really it. Pretty cool, no?</p><p>Is it perfect? Nah. Does it do exactly what I need? For now, absolutely!</p><p>If you like what you see, do let me know. If you have any tricks, absolutely let me know! I&rsquo;ll probably go trolling for Hammerspoon dotfiles at some point (and need to push my to git), but for the moment, this already does everything Magnet did only better.</p><p>Onward!</p><h2 id=one-small-caveat-next>One small caveat: next()</h2><p>Originally, I had a <code>next</code> function to match with <code>push</code> for moving to the &ldquo;<code>next</code>&rdquo; monitor. Turns out&mldr; <code>next</code> is <a href=https://www.lua.org/manual/2.4/node31.html>built in to Lua iterators</a>.</p><p>That&mldr; actually managed to crash the built in macOS display manager and make me log in a few times, likely because I ended up causing an infinite loop. Cool <a href=https://en.wikipedia.org/wiki/footgun>footgun</a>, yo.</p><h2 id=useful-docs>Useful docs</h2><p>Here are the parts of the Hammerspoon docs I used (their docs are for the most part really good):</p><ul><li><a href=https://www.hammerspoon.org/docs/hs.grid.html>hs.grid</a></li><li><a href=https://www.hammerspoon.org/docs/hs.window.html>hs.window</a></li><li><a href=https://www.hammerspoon.org/docs/hs.screen.html>hs.screen</a></li><li><a href=https://www.hammerspoon.org/docs/hs.spaces.html>hs.spaces</a></li></ul></div></article></div></div><footer id=page-footer role=contentinfo><nav id=footer-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=/archive-by-date/>All posts: By Date</a></li><li><a href=/archive-by-tag/>All posts: By Tag</a></li><li><a href=/atom.xml>RSS: All <sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li><li><a href=/programming/atom.xml>RSS: programming<sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li></ul></nav><div id=page-footer-content><div class=legal><p>All posts unless otherwise mentioned are licensed under
<a rel=license href=//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US><img alt="Creative Commons License" style=border-width:0 src=//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png></a></p><p>Any source code unless otherwise mentioned is licensed under the <a href=//directory.fsf.org/wiki/License:BSD_3Clause>3 clause BSD license</a></p></div></div></footer></div></body></html>