<html>
<head>
    <meta charset="utf-8">
    <title>html5 notepad</title>

    <style>
#editor {
    width: 100%;
    height: 100%;
}
    </style>
</head>
<body>
    <div id="editor" contenteditable="true"></div>
</body>
<script>
(function() {
    var editorKey = 'html5-notepad';
    var editor = document.getElementById('editor');
    var cache = localStorage.getItem(editorKey);

    if (cache) {
        editor.innerHTML = cache;
    }

    function autosave() {
        var newValue = editor.innerHTML;
        if (cache != newValue) {
            cache = newValue;
            localStorage.setItem(editorKey, cache);
        }
    }

    editor.addEventListener('input', autosave);
})();
</script>
</html>
