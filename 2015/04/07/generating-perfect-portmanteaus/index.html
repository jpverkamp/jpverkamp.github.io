<!doctype html><html><head><title>Generating perfect portmanteaus â€“ jverkamp.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><link rel=alternate type=application/atom+xml title="jverkamp.com (Atom 2.0)" href=//blog.jverkamp.com/feed/><script src=/jquery_6894410585563545744.min.cc1cade18c999752b7befe111634889dca8d89b24923775954ecebc68c54fcd3.js integrity="sha256-zByt4YyZl1K3vv4RFjSIncqNibJJI3dZVOzrxoxU/NM=" defer></script>
<script src=/jquery.fancybox_6181813213021922412.min.6ba037466db9f8843b66c38c32fe5a353344e7fd68ecda97efb63a84c881f828.js integrity="sha256-a6A3Rm25+IQ7ZsOMMv5aNTNE5/1o7NqX77Y6hMiB+Cg=" defer></script>
<script src=/katex_12008035502722260518.min.3cc3a080c0368785179e37b0cd0a71c6cf60c4fc5a8dce503f5a542ec0a25043.js integrity="sha256-PMOggMA2h4UXnjewzQpxxs9gxPxajc5QP1pULsCiUEM=" defer></script>
<script src=/bigfoot_8444447145154709333.min.5e80bd85ebaeb95607834d6777bfe7013d1d161f0f02a31b845e4bd765898316.js integrity="sha256-XoC9heuuuVYHg01nd7/nAT0dFh8PAqMbhF5L12WJgxY=" defer></script>
<script src=/mermaid_12365941879912544862.min.e8f19283a632077085b9ad74aecad54abe84429c69789fd29ffa3a254d86abdd.js integrity="sha256-6PGSg6YyB3CFua10rsrVSr6EQpxpeJ/Sn/o6JU2Gq90=" defer></script>
<script src=/custom.min.9bb1a6d1e0b58ced38df246e4479317e4561461cfabab31b36fbc36035186214.js integrity="sha256-m7Gm0eC1jO043yRuRHkxfkVhRhz6urMbNvvDYDUYYhQ=" defer></script>
<link rel=stylesheet href=/katex_14163593549783030822.min.16bacd59fb224ae6c97a749ab0ac1e708cb5e0c9ce5c9a08d7fd73dc8e69429f.css integrity="sha256-FrrNWfsiSubJenSasKwecIy14MnOXJoI1/1z3I5pQp8="><link rel=stylesheet href=/bigfoot-default_16482899066638414220.min.f15d4faa4519addb976f9d69b42bd9eb491b3596b6b2eda83aa3e9e1f48b8f14.css integrity="sha256-8V1PqkUZrduXb51ptCvZ60kbNZa2su2oOqPp4fSLjxQ="><link rel=stylesheet href=/jquery.fancybox_16222217791602823071.min.e28b5d7d9d89efacb5f708ac30cbd76b1b9a0f816dfd9da96631d1d09cbbdd76.css integrity="sha256-4otdfZ2J76y19wisMMvXaxuaD4Ft/Z2pZjHR0Jy73XY="><link rel=stylesheet href=/css_4780214198035419921.min.7cfac95bdd962d85ceec560e50fe7b04c44b58a76e5202006ef36ca8c0a7d836.css integrity="sha256-fPrJW92WLYXO7FYOUP57BMRLWKduUgIAbvNsqMCn2DY="><link rel=stylesheet href=/custom.min.3bcba67844fc4a76aa7c1947a1fcf14cddaf8e9e0f1e734fde0fa219416f058d.css integrity="sha256-O8umeET8SnaqfBlHofzxTN2vjp4PHnNP3g+iGUFvBY0="></head><body><div id=wrapper><header id=page-header role=banner><h1><a href=/>JP's Blog</a></h1><ul id=page-header-links><li><a href=https://github.com/jpverkamp>GitHub</a> *
<a href=https://www.flickr.com/photos/jpverkamp>Flickr</a> *
<a href=/resume>Resume</a></li><li><form action=//www.google.com/search method=get onsubmit='(function(e){e.q.value="site:blog.jverkamp.com "+e.qfront.value})(this)' class="navbar-form navbar-right" role=search _lpchecked=1><div class=form-group><input name=q type=hidden>
<input name=qfront type=text class=form-control placeholder=Search>
<button type=submit class="btn btn-default" value=Search>Search</button></div></form></li></ul><nav id=header-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=https://blog.jverkamp.com/programming/>Programming</a></li><li><a href=https://blog.jverkamp.com/reviews/>Reviews</a></li><li><a href=https://blog.jverkamp.com/photography/>Photography</a></li><li><a href=https://blog.jverkamp.com/maker/>Maker</a></li><li><a href=https://blog.jverkamp.com/writing/>Writing</a></li><li><a href=https://blog.jverkamp.com/research/>Research</a></li><li class=subscription data-subscription=rss><a href=/atom.xml rel=subscribe-rss title="subscribe via RSS">RSS</a></li></ul></nav></header><div id=page-content-wrapper><div id=page-content><article><header><h1 class=entry-title>Generating perfect portmanteaus</h1><div class=entry-meta><span class=entry-date>2015-04-07</span></div><div class=entry-taxonomies><div class=entry-tags><ul class=taxonomy-keys><li><a class=taxonomy-key href=/programming/languages/>Languages</a><ul class=taxonomy-values><li><a href=https://blog.jverkamp.com/2015/01/29/ios-backups-in-racket-apps/ class=previous-link></a><a class=taxonomy-value href=/programming/languages/racket>Racket</a><a href=https://blog.jverkamp.com/2015/04/14/a-quick-look-at-rc4/ class=next-link></a></li></ul></li><li><a class=taxonomy-key href=/programming/topics/>Topics</a><ul class=taxonomy-values><li><a href=https://blog.jverkamp.com/2014/08/13/number-words/ class=previous-link></a><a class=taxonomy-value href=/programming/topics/word-games>Word Games</a></li></ul></li><li><a class=taxonomy-key href=/programming>programming</a><ul><li><a href=https://blog.jverkamp.com/2015/04/03/performance-problems-with-flask-and-docker/ class=previous-link>Prev</a>
<a href=https://blog.jverkamp.com/2015/04/14/a-quick-look-at-rc4/ class=next-link>Next</a></ul></li><li><a class=taxonomy-key href=/>All Posts</a><ul><li><a href=https://blog.jverkamp.com/2015/04/03/performance-problems-with-flask-and-docker/ class=previous-link>Prev</a>
<a href=https://blog.jverkamp.com/2015/04/14/a-quick-look-at-rc4/ class=next-link>Next</a></ul></li></ul></div></div></header><div class=entry-content><p>A quick programming post, since it&rsquo;s been a while, inspired by this video:</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/QVn2PZGZxaI style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><p>I&rsquo;m not going to go quite as far as that, but I thought it would be interesting to write up some quick code to generate portmanteaus<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><p>Basically<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>, a portmanteau is a combination of two words, smooshing them together<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup> and dropping some letters from each. In this case, what I&rsquo;m specifically interested in is &lsquo;perfect&rsquo; portmanteaus (I&rsquo;m not sure if there is a better term for it), where the suffix of one word exactly matches the prefix of the other.</p><p>As an example, consider the words <code>hamster</code> and <code>termine</code>. The last three letters of the former, perfectly matches the first three of the latter, so let&rsquo;s overlap them. <code>hamstermite</code>. Bam.</p><p>So how do we do it?</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-racket data-lang=racket><span style=display:flex><span>(<span style=color:#66d9ef>define</span> current-minimum-overlap (make-parameter <span style=color:#ae81ff>3</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(<span style=color:#66d9ef>define</span> (portmanteau left right)
</span></span><span style=display:flex><span>  (<span style=color:#66d9ef>define</span> maximum-overlap (- (min (string-length left) (string-length right)) <span style=color:#ae81ff>1</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  (<span style=color:#66d9ef>for*/first</span> ([overlap (in-range maximum-overlap (- (current-minimum-overlap) <span style=color:#ae81ff>1</span>) <span style=color:#ae81ff>-1</span>)]
</span></span><span style=display:flex><span>               <span style=color:#66d9ef>#:when</span> (equal? (substring left (- (string-length left) overlap))
</span></span><span style=display:flex><span>                              (substring right <span style=color:#ae81ff>0</span> overlap)))
</span></span><span style=display:flex><span>    (list left
</span></span><span style=display:flex><span>          right
</span></span><span style=display:flex><span>          (string-append
</span></span><span style=display:flex><span>           (substring left <span style=color:#ae81ff>0</span> (- (string-length left) overlap))
</span></span><span style=display:flex><span>           right))))
</span></span></code></pre></div><p>Should be straight forward enough. Basically, we start with the longest possible overlap (1 less than the length of the shorter word, since we don&rsquo;t want to completely subsume a word), counting down until we reach some minimum overlap. For each possible sequence, we compare the prefix and suffix of the two words, only proceeding into the body of the loop when they match. That&rsquo;s the beauty of <code><a href="http://docs.racket-lang.org/search/index.html?q=for*/first">for*/first</a></code>
, it will loop until it gets a valid value, returning when it does.</p><p>And that&rsquo;s really it. Try it out with the example from earlier:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-racket data-lang=racket><span style=display:flex><span>&gt; (portmanteau <span style=color:#e6db74>&#34;hamster&#34;</span> <span style=color:#e6db74>&#34;termite&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>&#39;</span>(<span style=color:#e6db74>&#34;hamster&#34;</span> <span style=color:#e6db74>&#34;termite&#34;</span> <span style=color:#e6db74>&#34;hamstermite&#34;</span>)
</span></span></code></pre></div><p>Since that was so quick, let&rsquo;s put some simple wrapper code around it in order to find all portmanteaus from a given word list. First, do the heavy lifting of finding portmanteaus:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-racket data-lang=racket><span style=display:flex><span>(<span style=color:#66d9ef>define</span> (portmanteaus)
</span></span><span style=display:flex><span>  (<span style=color:#66d9ef>define</span> words
</span></span><span style=display:flex><span>    (<span style=color:#66d9ef>for*/list</span> ([raw-line (in-lines)]
</span></span><span style=display:flex><span>                [line (in-value (string-trim (string-downcase raw-line)))]
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>#:when</span> (not (equal? <span style=color:#e6db74>&#34;&#34;</span> line)))
</span></span><span style=display:flex><span>      line))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  (<span style=color:#66d9ef>for*/list</span> ([left (in-list words)]
</span></span><span style=display:flex><span>              [right (in-list words)]
</span></span><span style=display:flex><span>              <span style=color:#66d9ef>#:when</span> (not (eq? left right))
</span></span><span style=display:flex><span>              [portmanteau (in-value (portmanteau left right))]
</span></span><span style=display:flex><span>              <span style=color:#66d9ef>#:when</span> portmanteau)
</span></span><span style=display:flex><span>    portmanteau))
</span></span></code></pre></div><p><code><a href="http://docs.racket-lang.org/search/index.html?q=in-value">in-value</a></code>
is useful in <code><a href="http://docs.racket-lang.org/search/index.html?q=for*">for*</a></code>
since it lets you bind a single value for future <code>#:when</code> blocks without having to recalculate anything.</p><p>After that, a wrapper to process some command line parameters and render output in a few different ways:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-racket data-lang=racket><span style=display:flex><span>(<span style=color:#66d9ef>define</span> paths
</span></span><span style=display:flex><span>  (<span style=color:#66d9ef>command-line</span>
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>#:program</span> <span style=color:#e6db74>&#34;portmanteau&#34;</span>
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>#:once-each</span>
</span></span><span style=display:flex><span>   [(<span style=color:#e6db74>&#34;--minimum-overlap&#34;</span>)
</span></span><span style=display:flex><span>    overlap
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Specify the minimum necessary overlap (default = 3)&#34;</span>
</span></span><span style=display:flex><span>    (<span style=color:#66d9ef>cond</span>
</span></span><span style=display:flex><span>      [(string-&gt;number overlap) <span style=color:#66d9ef>=&gt;</span> current-minimum-overlap]
</span></span><span style=display:flex><span>      [<span style=color:#66d9ef>else</span> (error <span style=color:#f92672>&#39;</span><span style=color:#e6db74>--minimum-overlap</span> <span style=color:#e6db74>&#34;must specify a number&#34;</span>)])]
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>#:once-any</span>
</span></span><span style=display:flex><span>   [(<span style=color:#e6db74>&#34;--verbose&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Print in verbose mode (default = false)&#34;</span>
</span></span><span style=display:flex><span>    (verbose-mode <span style=color:#66d9ef>#t</span>)]
</span></span><span style=display:flex><span>   [(<span style=color:#e6db74>&#34;--graph&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Print out a dotfile&#34;</span>
</span></span><span style=display:flex><span>    (graph-mode <span style=color:#66d9ef>#t</span>)]
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>#:args</span> paths
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>   paths))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(<span style=color:#66d9ef>when</span> (null? paths)
</span></span><span style=display:flex><span>  (<span style=color:#66d9ef>set!</span> paths <span style=color:#f92672>&#39;</span>(<span style=color:#e6db74>&#34;-&#34;</span>)))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(<span style=color:#66d9ef>for</span> ([path (in-list paths)])
</span></span><span style=display:flex><span>  (<span style=color:#66d9ef>define</span> results
</span></span><span style=display:flex><span>    (<span style=color:#66d9ef>cond</span>
</span></span><span style=display:flex><span>      [(equal? path <span style=color:#e6db74>&#34;-&#34;</span>)
</span></span><span style=display:flex><span>       (portmanteaus)]
</span></span><span style=display:flex><span>      [<span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>       (with-input-from-file path portmanteaus)]))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  (<span style=color:#66d9ef>define</span> g (unweighted-graph/directed <span style=color:#f92672>&#39;</span>()))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  (<span style=color:#66d9ef>for</span> ([result (in-list results)])
</span></span><span style=display:flex><span>    (<span style=color:#66d9ef>match-define</span> (list left right portmanteau) result)
</span></span><span style=display:flex><span>    (<span style=color:#66d9ef>cond</span>
</span></span><span style=display:flex><span>      [(verbose-mode)
</span></span><span style=display:flex><span>       (printf <span style=color:#e6db74>&#34;~a + ~a = ~a</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span> left right portmanteau)]
</span></span><span style=display:flex><span>      [(graph-mode)
</span></span><span style=display:flex><span>       (add-edge! g (~a <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>&#34;</span> left <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>&#34;</span>) (~a <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>&#34;</span> right <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>&#34;</span>))]
</span></span><span style=display:flex><span>      [<span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>       (displayln portmanteau)]))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  (<span style=color:#66d9ef>when</span> (graph-mode)
</span></span><span style=display:flex><span>    (displayln (graphviz g))))
</span></span></code></pre></div><p>Now you can do some interesting things:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ racket portmanteau.rkt animals.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>brown recluse spider monkey
</span></span><span style=display:flex><span>gila monstermite
</span></span><span style=display:flex><span>grasshopperegrine falcon
</span></span><span style=display:flex><span>hamstermite
</span></span><span style=display:flex><span>leechidna
</span></span><span style=display:flex><span>ottermite
</span></span></code></pre></div><p>Just in case you cannot figure out what animals actually went into that list:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ racket portmanteau.rkt --verbose animals.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>brown recluse spider + spider monkey <span style=color:#f92672>=</span> brown recluse spider monkey
</span></span><span style=display:flex><span>gila monster + termite <span style=color:#f92672>=</span> gila monstermite
</span></span><span style=display:flex><span>grasshopper + peregrine falcon <span style=color:#f92672>=</span> grasshopperegrine falcon
</span></span><span style=display:flex><span>hamster + termite <span style=color:#f92672>=</span> hamstermite
</span></span><span style=display:flex><span>leech + echidna <span style=color:#f92672>=</span> leechidna
</span></span><span style=display:flex><span>otter + termite <span style=color:#f92672>=</span> ottermite
</span></span></code></pre></div><p>Or if you want to be a little more general, matching with only 2 characters rather than the default 3:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ racket portmanteau.rkt --minimum-overlap <span style=color:#ae81ff>2</span> --verbose animals.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>armadillo + loon <span style=color:#f92672>=</span> armadilloon
</span></span><span style=display:flex><span>armadillo + lorikeet <span style=color:#f92672>=</span> armadillorikeet
</span></span><span style=display:flex><span>armadillo + louse <span style=color:#f92672>=</span> armadillouse
</span></span><span style=display:flex><span>black mamba + badger <span style=color:#f92672>=</span> black mambadger
</span></span><span style=display:flex><span>brown bear + armadillo <span style=color:#f92672>=</span> brown bearmadillo
</span></span><span style=display:flex><span>brown recluse spider + spider monkey <span style=color:#f92672>=</span> brown recluse spider monkey
</span></span><span style=display:flex><span>chinchilaa + aardvark <span style=color:#f92672>=</span> chinchilaardvark
</span></span><span style=display:flex><span>copperhead snake + kestrel <span style=color:#f92672>=</span> copperhead snakestrel
</span></span><span style=display:flex><span>coyote + termite <span style=color:#f92672>=</span> coyotermite
</span></span><span style=display:flex><span>crow + owl <span style=color:#f92672>=</span> crowl
</span></span><span style=display:flex><span>eagle + leech <span style=color:#f92672>=</span> eagleech
</span></span><span style=display:flex><span>eagle + leopard seal <span style=color:#f92672>=</span> eagleopard seal
</span></span><span style=display:flex><span>echidna + narwhal <span style=color:#f92672>=</span> echidnarwhal
</span></span><span style=display:flex><span>gecko + koala <span style=color:#f92672>=</span> geckoala
</span></span><span style=display:flex><span>gila monster + termite <span style=color:#f92672>=</span> gila monstermite
</span></span><span style=display:flex><span>grasshopper + peregrine falcon <span style=color:#f92672>=</span> grasshopperegrine falcon
</span></span><span style=display:flex><span>hamster + termite <span style=color:#f92672>=</span> hamstermite
</span></span><span style=display:flex><span>hyena + narwhal <span style=color:#f92672>=</span> hyenarwhal
</span></span><span style=display:flex><span>jackal + albatross <span style=color:#f92672>=</span> jackalbatross
</span></span><span style=display:flex><span>king cobra + rattlesnake <span style=color:#f92672>=</span> king cobrattlesnake
</span></span><span style=display:flex><span>king cobra + raven <span style=color:#f92672>=</span> king cobraven
</span></span><span style=display:flex><span>kingsnake + kestrel <span style=color:#f92672>=</span> kingsnakestrel
</span></span><span style=display:flex><span>kiwi + wild boar <span style=color:#f92672>=</span> kiwild boar
</span></span><span style=display:flex><span>leech + chinchilaa <span style=color:#f92672>=</span> leechinchilaa
</span></span><span style=display:flex><span>leech + echidna <span style=color:#f92672>=</span> leechidna
</span></span><span style=display:flex><span>leopard seal + albatross <span style=color:#f92672>=</span> leopard sealbatross
</span></span><span style=display:flex><span>narwhal + albatross <span style=color:#f92672>=</span> narwhalbatross
</span></span><span style=display:flex><span>ostrich + chinchilaa <span style=color:#f92672>=</span> ostrichinchilaa
</span></span><span style=display:flex><span>otter + termite <span style=color:#f92672>=</span> ottermite
</span></span><span style=display:flex><span>polar bear + armadillo <span style=color:#f92672>=</span> polar bearmadillo
</span></span><span style=display:flex><span>rattlesnake + kestrel <span style=color:#f92672>=</span> rattlesnakestrel
</span></span><span style=display:flex><span>sloth bear + armadillo <span style=color:#f92672>=</span> sloth bearmadillo
</span></span><span style=display:flex><span>snapping turtle + leech <span style=color:#f92672>=</span> snapping turtleech
</span></span><span style=display:flex><span>snapping turtle + leopard seal <span style=color:#f92672>=</span> snapping turtleopard seal
</span></span><span style=display:flex><span>sparrow + owl <span style=color:#f92672>=</span> sparrowl
</span></span><span style=display:flex><span>sperm whale + leech <span style=color:#f92672>=</span> sperm whaleech
</span></span><span style=display:flex><span>sperm whale + leopard seal <span style=color:#f92672>=</span> sperm whaleopard seal
</span></span><span style=display:flex><span>sponge + gecko <span style=color:#f92672>=</span> spongecko
</span></span><span style=display:flex><span>swan + anaconda <span style=color:#f92672>=</span> swanaconda
</span></span><span style=display:flex><span>wild boar + armadillo <span style=color:#f92672>=</span> wild boarmadillo
</span></span></code></pre></div><p>Heh. Narwhalbatross. Wild boarmadillo. ðŸ˜„</p><p>And as a final bonus, using the <a href=https://github.com/stchang/graph/tree/master>graph</a> library I&rsquo;ve used (and contributed to) before, we can render the structure of the thing):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ racket portmanteau.rkt --graph --minimum-overlap <span style=color:#ae81ff>2</span> animals.txt <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    | sed <span style=color:#e6db74>&#34;s/edge \[dir=none\];//g&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    | fdp -Tpng &gt; animals.png <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    <span style=color:#f92672>&amp;&amp;</span> open animals.png
</span></span></code></pre></div><figure><img src=/embeds/2015/animals.png></figure><p>Fun. :)</p><p>Think of the arrows as going from the stuck on word to where it&rsquo;s sticking rather than in the order the words would be written. It&rsquo;s easy enough to change though if you&rsquo;d like, just swap the arguments in the <code>add-edge!</code> call above.</p><p>And&mldr; that&rsquo;s it. Not much more to do with this one, unless I want to duplicate the above video and portmanteau all the things! We&rsquo;ll see.</p><p>As with all my code, you can see the entire thing on GitHub: <a href=https://github.com/jpverkamp/small-projects/blob/master/blog/portmanteau.rkt>portmanteau.rkt</a></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Apparently either portmanteaus or portmanteaux is a valid pluralization&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>If you didn&rsquo;t watch the video&ndash;you really should; at least the introduction&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>Yes, that is the technical term&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div></article></div></div><footer id=page-footer role=contentinfo><nav id=footer-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=/archive-by-date/>All posts: By Date</a></li><li><a href=/archive-by-tag/>All posts: By Tag</a></li><li><a href=/atom.xml>RSS: All <sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li><li><a href=/programming/atom.xml>RSS: programming<sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li></ul></nav><div id=page-footer-content><div class=legal><p>All posts unless otherwise mentioned are licensed under
<a rel=license href=//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US><img alt="Creative Commons License" style=border-width:0 src=//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png></a></p><p>Any source code unless otherwise mentioned is licensed under the <a href=//directory.fsf.org/wiki/License:BSD_3Clause>3 clause BSD license</a></p></div></div></footer></div></body></html>