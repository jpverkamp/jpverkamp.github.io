<!doctype html><html>
<head>
<title>jverkamp.com</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta charset=utf-8><link rel=alternate type=application/atom+xml title="jverkamp.com (Atom 2.0)" href=//blog.jverkamp.com/feed/>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.css integrity=sha384-exe4Ak6B0EoJI0ogGxjJ8rn+RN3ftPnEQrGwX59KTCl5ybGzvHGKjhPKk/KC3abb crossorigin=anonymous>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/bigfoot/2.1.4/bigfoot-default.min.css integrity="sha256-s0KLB0LnI5oqhHF8gkgfmxU4usUFEHlWJTxT8q72Tq4=" crossorigin=anonymous>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous>
<link href="https://fonts.googleapis.com/css?family=Spectral+SC|Lato|Share+Tech+Mono" rel=stylesheet>
<link rel=stylesheet href=/custom.css defer>
<script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js></script>
</head>
<body>
<div id=wrapper><header id=page-header role=banner>
<h1><a href=/>JP's Blog</a></h1>
<ul id=page-header-links>
<li>
<a href=https://github.com/jpverkamp>GitHub</a> *
<a href=https://www.flickr.com/photos/jpverkamp>Flickr</a> *
<a href=/resume>Resume</a>
</li>
<li>
<form action=//www.google.com/search method=get onsubmit="(function(a){a.q.value='site:blog.jverkamp.com '+a.qfront.value})(this)" class="navbar-form navbar-right" role=search _lpchecked=1>
<div class=form-group>
<input name=q type=hidden>
<input name=qfront type=text class=form-control placeholder=Search>
<button type=submit class="btn btn-default" value=Search>Search</button>
</div>
</form>
</li>
</ul>
<nav id=header-navigation role=navigation class=ribbon>
<ul class=main-navigation><li><a href=https://blog.jverkamp.com/programming/>Programming</a></li><li><a href=https://blog.jverkamp.com/reviews/>Reviews</a></li><li><a href=https://blog.jverkamp.com/photography/>Photography</a></li><li><a href=https://blog.jverkamp.com/maker/>Maker</a></li><li><a href=https://blog.jverkamp.com/writing/>Writing</a></li><li><a href=https://blog.jverkamp.com/research/>Research</a></li><li class=subscription data-subscription=rss><a href=/atom.xml rel=subscribe-rss title="subscribe via RSS">RSS</a></li>
</ul>
</nav>
</header>
<div id=page-content-wrapper>
<div id=page-content>
<div class=entry-content></div>
<article class=li>
<header>
<h1 class=entry-title>
<a href=https://blog.jverkamp.com/2022/02/11/go-is-faster-than-python-an-example-parsing-huge-json-logs/ class=clearfix>Go is faster than Python? (an example parsing huge JSON logs)</a></h1>
<div class=entry-meta><span class=entry-date>2022-02-11</span>
</div>
</header>
<div class=entry-content><p>Recently at work I came across a problem where I had to go through a year&rsquo;s worth of logs and corelate two different fields across all of our requests. On the good side, we have the logs stored as JSON objects (archived from Datadog which collects them). On the down side&mldr; it&rsquo;s kind of a huge amount of data. Not as much as I&rsquo;ve dealt with at previous jobs/in some academic problems, but we&rsquo;re still talking on the order of terabytes.</p>
<p>On one hand, write up a quick Python script, fire and forget. It takes maybe ten minutes to write the code and (for this specific example) half an hour to run it on the specific cloud instance the logs lived on. So we&rsquo;ll start with that. But then I got thinking&mldr; Python is supposed to be super slow right? Can I do better?</p>
<p>(Note: This problem is mostly disk bound. So Python actually for the most part does just fine.)</p><p><a href=/2022/02/11/go-is-faster-than-python-an-example-parsing-huge-json-logs/>read more...</a></p></div>
<hr></article><article class=li>
<header>
<h1 class=entry-title>
<a href=https://blog.jverkamp.com/2021/07/15/crosslinks-by-title-in-hugo/ class=clearfix>Crosslinks by Title in Hugo</a></h1>
<div class=entry-meta><span class=entry-date>2021-07-15</span>
</div>
</header>
<div class=entry-content><p>Another quick Hugo post. One thing I miss about my previous blogging platform(s) was the ability to generate quick links between posts just by using the title of the post. So rather than this:</p>
<a href=https://blog.jverkamp.com/2021/07/15/crosslinks-by-title-in-hugo/>a cool post</a>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown>This is [<span style=color:#f92672>a cool post</span>](<span style=color:#a6e22e>{{&lt; ref &#34;2021-07-15-crosslinks-by-title-in-hugo&#34; &gt;}}</span>), go read it.
</code></pre></div><p>You could do this:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown>This is {{&lt; <span style=color:#f92672>crosslink</span> <span style=color:#a6e22e>title</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Crosslinks by Title in Hugo&#34;</span> <span style=color:#a6e22e>text</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;a cool post&#34;</span> &gt;}}.

Or shorter: {{&lt; <span style=color:#f92672>crosslink</span> <span style=color:#960050;background-color:#1e0010>&#34;</span><span style=color:#a6e22e>Crosslinks</span> <span style=color:#a6e22e>by</span> <span style=color:#a6e22e>Title</span> <span style=color:#a6e22e>in</span> <span style=color:#a6e22e>Hugo</span><span style=color:#960050;background-color:#1e0010>&#34;</span> &gt;}}.
</code></pre></div><p>And it should just work.</p><p><a href=/2021/07/15/crosslinks-by-title-in-hugo/>read more...</a></p></div>
<hr></article><article class=li>
<header>
<h1 class=entry-title>
<a href=https://blog.jverkamp.com/2021/06/26/generating-a-book-bingo-chart-in-hugo/ class=clearfix>Generating a Book Bingo Chart in Hugo</a></h1>
<div class=entry-meta><span class=entry-date>2021-06-26</span>
</div>
</header>
<div class=entry-content><p>Another <a href=https://blog.jverkamp.com/2021/04/01/2021-book-bingo/>r/Fantasy 2021 Book Bingo</a> post! How in the world am I generating this (updating) chart in Hugo?</p>
<h1>2021 Book Bingo</h1>
<table class=bingo><tr><td>
<p>SFF anthology or collection</p><a href=https://blog.jverkamp.com/2021/03/26/attack-on-titan-vol.-1/>
<figure>
<img src=/embeds/books/attack-on-titan-vol-1.jpg>
<figcaption>Attack on Titan, Vol. 1</figcaption>
</figure>
</a></td><td>
<p>Set in Asia (Hard: by an Asian author)</p></td><td>
<p><a href=https://www.reddit.com/r/Fantasy/wiki/index/a-to-z-genre-guide>r/Fantasy A to Z Genre Guide</a> (Hard: by a BIPOC author)</p></td><td>
<p>Found Family (Hard: featuring an LGBTQ+ character)</p><a href=https://blog.jverkamp.com/2021/07/18/the-house-in-the-cerulean-sea/>
<figure>
<img src=/embeds/books/the-house-in-the-cerulean-sea.jpg>
<figcaption>The House in the Cerulean Sea</figcaption>
</figure>
</a><p>(Hard Mode)</p></td><td>
<p>First person POV (Hard: Multiple)</p></td></tr><tr><td>
<p>r/Fantasy Book Club (Hard: with participation)</p></td><td>
<p>New to you author (Hard: haven&rsquo;t heard much about)</p></td><td>
<p>Gothic Fantasy (Hard: not in the <a href=https://bookriot.com/gothic-fantasy/>Book Riot article</a>)</p><a href=https://blog.jverkamp.com/2021/06/09/mexican-gothic/>
<figure>
<img src=/embeds/books/mexican-gothic.jpg>
<figcaption>Mexican Gothic</figcaption>
</figure>
</a><p>(Hard Mode)</p></td><td>
<p>Backlist book (Hard: published before 2000)</p></td><td>
<p>Revenge-seeking character (Hard: revenge as the major book plot)</p><a href=https://blog.jverkamp.com/2021/10/01/red-sister/>
<figure>
<img src=/embeds/books/red-sister.jpg>
<figcaption>Red Sister</figcaption>
</figure>
</a><p>(Hard Mode)</p></td></tr><tr><td>
<p>Mystery plot (Hard: not primary world urban fantasy)</p><a href=https://blog.jverkamp.com/2021/06/19/six-wakes/>
<figure>
<img src=/embeds/books/six-wakes.jpg>
<figcaption>Six Wakes</figcaption>
</figure>
</a><p>(Hard Mode)</p></td><td>
<p>Comfort read (Hard: that isn&rsquo;t a reread)</p><a href=https://blog.jverkamp.com/2021/04/13/wild-sign/>
<figure>
<img src=/embeds/books/wild-sign.jpg>
<figcaption>Wild Sign</figcaption>
</figure>
</a><p>(Hard Mode)</p></td><td>
<p>Debut novel (Hard: published in 2021)</p><a href=https://blog.jverkamp.com/2021/04/26/tales-of-nezura-book-1-the-zevolra/>
<figure>
<img src=/embeds/books/tales-of-nezura-book-1-the-zevolra.jpg>
<figcaption>Tales of Nezura: Book 1: The Zevolra</figcaption>
</figure>
</a><p>(Hard Mode)</p></td><td>
<p>Cat squasher (500+ pages; Hard: 800+ pages)</p></td><td>
<p>SFF-related nonfiction (Hard: published in the last 5 years)</p></td></tr><tr><td>
<p>Latinx or Latin American author (Hard: with fewer than 1000 Goodreads ratings)</p></td><td>
<p>Self published (Hard: with fewer than 50 Goodreads ratings)</p><a href=https://blog.jverkamp.com/2021/04/26/tales-of-nezura-book-1-the-zevolra/>
<figure>
<img src=/embeds/books/tales-of-nezura-book-1-the-zevolra.jpg>
<figcaption>Tales of Nezura: Book 1: The Zevolra</figcaption>
</figure>
</a><p>(Hard Mode)</p></td><td>
<p>Forest setting (Hard: for the entire book)</p><a href=https://blog.jverkamp.com/2021/07/01/annihilation/>
<figure>
<img src=/embeds/books/annihilation.jpg>
<figcaption>Annihilation</figcaption>
</figure>
</a><p>(Hard Mode)</p></td><td>
<p>Genre mashup (Hard: of three or more genres)</p><a href=https://blog.jverkamp.com/2021/07/13/gideon-the-ninth/>
<figure>
<img src=/embeds/books/gideon-the-ninth.jpg>
<figcaption>Gideon the Ninth</figcaption>
</figure>
</a><p>(Hard Mode)</p></td><td>
<p>Has chapter titles of more than one word (Hard: for every chapter)</p><a href=https://blog.jverkamp.com/2021/04/21/the-midnight-library/>
<figure>
<img src=/embeds/books/the-midnight-library.jpg>
<figcaption>The Midnight Library</figcaption>
</figure>
</a><p>(Hard Mode)</p></td></tr><tr><td>
<p>___ of ___ (Hard: and ___)</p><a href=https://blog.jverkamp.com/2021/12/08/an-alchemy-of-masques-and-mirrors/>
<figure>
<img src=/embeds/books/an-alchemy-of-masques-and-mirrors.jpg>
<figcaption>An Alchemy of Masques and Mirrors</figcaption>
</figure>
</a><p>(Hard Mode)</p></td><td>
<p>First contact (Hard: that doesn&rsquo;t lead to war)</p><a href=https://blog.jverkamp.com/2021/06/15/project-hail-mary/>
<figure>
<img src=/embeds/books/project-hail-mary.jpg>
<figcaption>Project Hail Mary</figcaption>
</figure>
</a><p>(Hard Mode)</p></td><td>
<p>Trans or Nonbinary (Hard: protagonist)</p></td><td>
<p>Debut author (Hard: with an AMA)</p></td><td>
<p>Witches (Hard: as the main protagonist)</p><a href=https://blog.jverkamp.com/2021/04/11/a-great-and-terrible-beauty/>
<figure>
<img src=/embeds/books/a-great-and-terrible-beauty.jpg>
<figcaption>A Great and Terrible Beauty</figcaption>
</figure>
</a><p>(Hard Mode)</p></td></tr></table><p><a href=/2021/06/26/generating-a-book-bingo-chart-in-hugo/>read more...</a></p></div>
<hr></article><article class=li>
<header>
<h1 class=entry-title>
<a href=https://blog.jverkamp.com/2021/01/27/a-tabbed-view-for-hugo/ class=clearfix>A Tabbed View for Hugo</a></h1>
<div class=entry-meta><span class=entry-date>2021-01-27</span>
</div>
</header>
<div class=entry-content>One thing I&rsquo;ve been using for a lot of my recent posts (such as Backtracking Worms) is a tabbed view of code that can show arbitrarily tabs full of code or other content and render them wonderfully! For example, we can turn:
{{&lt; tabs >}} {{&lt; sourcetab ruby "examples/art-station.rune" >}} {{&lt; tab "art-station.svg" >}} {{&lt; include "output/art-station.svg" >}} {{&lt; /tab >}} {{&lt; sourcetab ruby "examples/astrology-and-moons.rune" >}} {{&lt; tab "astrology-and-moons.svg" >}} {{&lt; include "output/astrology-and-moons.<p><a href=/2021/01/27/a-tabbed-view-for-hugo/>read more...</a></p></div>
<hr></article><article class=li>
<header>
<h1 class=entry-title>
<a href=https://blog.jverkamp.com/2019/05/02/prevent-javascript-links-by-parsing-urls/ class=clearfix>Prevent JavaScript links by parsing URLs</a></h1>
<div class=entry-meta><span class=entry-date>2019-05-02</span>
</div>
</header>
<div class=entry-content><p>If you have a website that allows users to submit URLs, one of the (many many) things people will try to do to break your site is to submit URLs that use the <code>javascript:</code> protocol (rather than the more expected <code>http:</code> or <code>https:</code>). This is almost never something that you want, since it allows users to submit essentially arbitrary code that other users will run on click in the context of your domain (<a href=https://en.wikipedia.org/wiki/same%20origin%20policy>same origin policy</a>).</p>
<p>So how do you fix it?</p>
<p>First thought would be to try to check the protocol:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>safe_url</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>url</span>) =&gt; <span style=color:#f92672>!</span><span style=color:#a6e22e>url</span>.<span style=color:#a6e22e>match</span>(<span style=color:#e6db74>/^javascript:/</span>)
[Function<span style=color:#f92672>:</span> <span style=color:#a6e22e>safe_url</span>]

<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>safe_url</span>(<span style=color:#e6db74>&#39;http://www.example.com&#39;</span>)
<span style=color:#66d9ef>true</span>

<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>safe_url</span>(<span style=color:#e6db74>&#39;javascript:alert(1)&#39;</span>)
<span style=color:#66d9ef>false</span>
</code></pre></div><p><a href=/2019/05/02/prevent-javascript-links-by-parsing-urls/>read more...</a></p></div>
<hr></article><article class=li>
<header>
<h1 class=entry-title>
<a href=https://blog.jverkamp.com/2017/12/10/migrating-to-hugo/ class=clearfix>Migrating to Hugo</a></h1>
<div class=entry-meta><span class=entry-date>2017-12-10</span>
</div>
</header>
<div class=entry-content><p>A long time ago<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>, in a galaxy far, far away<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>, I <a href=https://blog.jverkamp.com/2014/08/08/onwards-and-upwards/>moved my blog</a> from WordPress to a custom written static blog generator in Racket. And for a while, all was well.</p><p><a href=/2017/12/10/migrating-to-hugo/>read more...</a></p></div>
</article><nav id=pagination-navigation role=navigation></nav></div>
</div><footer id=page-footer role=contentinfo>
<nav id=footer-navigation role=navigation class=ribbon>
<ul class=main-navigation>
<li><a href=/archive-by-date/>All posts: By Date</a></li>
<li><a href=/archive-by-tag/>All posts: By Tag</a></li>
<li>
<a href=/atom.xml>
RSS: All <sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg>
</sup>
</a>
</li><li>
<a href=/programming/languages/atom.xml>
RSS: programming/languages<sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg>
</sup>
</a>
</li></ul>
</nav>
<div id=page-footer-content>
<div class=legal>
<p>
All posts unless otherwise mentioned are licensed under
<a rel=license href=//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US>
<img alt="Creative Commons License" style=border-width:0 src=//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png>
</a>
</p>
<p>
Any source code unless otherwise mentioned is licensed under the <a href=//directory.fsf.org/wiki/License:BSD_3Clause>3 clause BSD license</a>
</p>
</div>
</div>
</footer>
</div><script defer src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin=anonymous></script>
<script defer src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.js integrity="sha256-yDarFEUo87Z0i7SaC6b70xGAKCghhWYAZ/3p+89o4lE=" crossorigin=anonymous></script>
<script defer src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.js integrity=sha384-OMvkZ24ANLwviZR2lVq8ujbE/bUO8IR1FdBrKLQBI14Gq5Xp/lksIccGkmKL8m+h crossorigin=anonymous></script>
<script defer src=https://cdnjs.cloudflare.com/ajax/libs/bigfoot/2.1.4/bigfoot.min.js integrity="sha256-2ylggML6rCJMc817KbE8Cx+cuxYIM+6bjG2Gpq2g7iU=" crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script>
<script defer>mermaid.initialize({startOnLoad:!0,securityLevel:'loose'})</script>
<script defer src=/custom.js></script>
</body>
</html>