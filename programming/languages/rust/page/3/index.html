<!doctype html><html><head><title>jverkamp.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><link rel=alternate type=application/atom+xml title="jverkamp.com (Atom 2.0)" href=//blog.jverkamp.com/feed/><script src=/jquery_5823201688106629450.min.8c7d803d89ebdecf2416d468f4ecb981a3acf645154a7a336f2e5d0190ea8163.js integrity="sha256-jH2APYnr3s8kFtRo9Oy5gaOs9kUVSnozby5dAZDqgWM=" defer></script>
<script src=/jquery.fancybox_6181813213021922412.min.921ca906a32e718ab61ac0b4da24e0eaa6bdd41912654a33b44bd3fc2f0c2a4d.js integrity="sha256-khypBqMucYq2GsC02iTg6qa91BkSZUoztEvT/C8MKk0=" defer></script>
<script src=/katex_12008035502722260518.min.1c3dce03daaf56a7d2fe0d0ec49bf35256837226f835adaf52c09502ef9bc5d1.js integrity="sha256-HD3OA9qvVqfS/g0OxJvzUlaDcib4Na2vUsCVAu+bxdE=" defer></script>
<script src=/auto-render_2152414756166376840.min.45ae2f6b03d0c7b867df0a6cb7d43215ec78369998685a5748c5b12f502321f2.js integrity="sha256-Ra4vawPQx7hn3wpst9QyFex4NpmYaFpXSMWxL1AjIfI=" defer></script>
<script src=/bigfoot_8444447145154709333.min.5e80bd85ebaeb95607834d6777bfe7013d1d161f0f02a31b845e4bd765898316.js integrity="sha256-XoC9heuuuVYHg01nd7/nAT0dFh8PAqMbhF5L12WJgxY=" defer></script>
<script src=/mermaid_12365941879912544862.min.973b5415b3fa1835d620c0e58236f859d5f80891f447e240cbbb9eb825251ff0.js integrity="sha256-lztUFbP6GDXWIMDlgjb4WdX4CJH0R+JAy7ueuCUlH/A=" defer></script>
<script src=/main.min.d60298c89fc4f1e938aceb45c60926efee8b03efc8b50683082e669a100da643.js integrity="sha256-1gKYyJ/E8ek4rOtFxgkm7+6LA+/ItQaDCC5mmhANpkM=" defer></script>
<link rel=stylesheet href=/katex_14163593549783030822.min.16bacd59fb224ae6c97a749ab0ac1e708cb5e0c9ce5c9a08d7fd73dc8e69429f.css integrity="sha256-FrrNWfsiSubJenSasKwecIy14MnOXJoI1/1z3I5pQp8="><link rel=stylesheet href=/bigfoot-default_16482899066638414220.min.f15d4faa4519addb976f9d69b42bd9eb491b3596b6b2eda83aa3e9e1f48b8f14.css integrity="sha256-8V1PqkUZrduXb51ptCvZ60kbNZa2su2oOqPp4fSLjxQ="><link rel=stylesheet href=/jquery.fancybox_16222217791602823071.min.e28b5d7d9d89efacb5f708ac30cbd76b1b9a0f816dfd9da96631d1d09cbbdd76.css integrity="sha256-4otdfZ2J76y19wisMMvXaxuaD4Ft/Z2pZjHR0Jy73XY="><link rel=stylesheet href=/css_4780214198035419921.min.246b6f8e7620eeb717bca5e7b121037906e5dfaa05805f427fcc5a09b6c99f5c.css integrity="sha256-JGtvjnYg7rcXvKXnsSEDeQbl36oFgF9Cf8xaCbbJn1w="><link rel=stylesheet href=/main.min.d99288811f82c16d031e4f6c01e50e18aeccbb9968db7c625a21660aef059ef5.css integrity="sha256-2ZKIgR+CwW0DHk9sAeUOGK7Mu5lo23xiWiFmCu8FnvU="></head><body><div id=wrapper><header id=page-header role=banner><h1><a href=/>JP's Blog</a></h1><ul id=page-header-links><li><a href=https://github.com/jpverkamp>GitHub</a> *
<a href=https://www.flickr.com/photos/jpverkamp>Flickr</a> *
<a href=/resume>Resume</a></li><li><form action=/search/ method=get class="navbar-form navbar-right" role=search _lpchecked=1><div class=form-group><input name=q type=text class=form-control placeholder=Search>
<button type=submit class="btn btn-default" value=Search>Search</button></div></form></li></ul><nav id=header-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=https://blog.jverkamp.com/reviews/>Reviews</a></li><li><a href=https://blog.jverkamp.com/programming/>Programming</a></li><li><a href=https://blog.jverkamp.com/photography/>Photography</a></li><li><a href=https://blog.jverkamp.com/maker/>Maker</a></li><li><a href=https://blog.jverkamp.com/writing/>Writing</a></li><li><a href=https://blog.jverkamp.com/research/>Research</a></li><li><a href=https://blog.jverkamp.com/search/>Search</a></li><li class=subscription data-subscription=rss><a href=/atom.xml rel=subscribe-rss title="subscribe via RSS">RSS</a></li></ul></nav></header><div id=page-content-wrapper><div id=page-content><div class=entry-content></div><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2024/10/07/ludum-dareish-56-bugshine/ class=clearfix>Ludum Dare(ish) 56: BugShine</a></h1><div class=entry-meta><span class=entry-date>2024-10-07</span></div></header><div class=entry-content><p><a href=https://blog.jverkamp.com/series/ludum-dare/>Ludum Dare</a>? That&rsquo;s been a while!</p><p>I didn&rsquo;t actually enter the game jam. Honestly, I wasn&rsquo;t sure I was going to write anything. But I had a bit of an idea and spent a few hours only on Sunday hammering something out:</p><p><video width=100% controls src=/embeds/games/ludum-dare/56/bugshine.mp4></video></p><p>Yeah, I did another cellular automata thing ðŸ˜„</p><p>It&rsquo;s not at all complete, but the basic idea is:</p><ul><li>Generate a random level</li><li>See it with multiple players (colonies of bugs)</li><li>Each bug will send out waves of &lsquo;shine&rsquo;, expanding their territory</li><li>Take over the map to win</li></ul><p>It&rsquo;s sort of got that?</p><p>I&rsquo;m using Rust as I&rsquo;ve been doing a lot recently.</p><p>The main libraries are:</p><ul><li><a href=https://docs.rs/pixels/latest/pixels/ target=_blank rel=noopener>pixels</a> for the rendering; it gives me direct access to a pixel buffer, which is my favorite</li><li><a href=https://docs.rs/winit/latest/winit/ target=_blank rel=noopener>winit</a> for windowing; this did require the feature <code>rwh_05</code> to be properly compatible with <code>pixels</code>, which took a minute to track down</li></ul><p>Other than, that, it&rsquo;s straight custom code which you can see in it&rsquo;s entirety on <a href=https://github.com/jpverkamp/bug-shine target=_blank rel=noopener>my github</a>.</p><ul><li><a href=https://github.com/jpverkamp/bug-shine/blob/main/src/main.rs target=_blank rel=noopener>main.rs</a> - creates the window and handles input</li><li><a href=https://github.com/jpverkamp/bug-shine/blob/main/src/world.rs target=_blank rel=noopener>world.rs</a> - runs the simulation mostly in an <code>update</code> function; with generation in <code>new</code></li></ul><p>I think that perhaps the only really interesting bit about the code is how the &lsquo;shine waves&rsquo; work. Basically, I have a grid of the state of each cell, but I also have a <code>Vec</code> that tracks &lsquo;active&rsquo; pixels. Those are the only ones that can update&ndash;which both helps performance and makes the simulation appear the way it does.</p><p>Overall, a nice quick project. More than anything, it actually convinced me to try setting up something that can render pixel buffers on Rust. And with a (very minimal) GUI, too! Both things I&rsquo;ve been meaning to learn.</p><p>I probably won&rsquo;t do anything more with this code, but it&rsquo;s got the seeds of something more interesting. Keep an eye out. ðŸ˜„</p><p>Onward!</p><figure><img src=/embeds/games/ludum-dare/56/bugshine.png></figure></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2024/10/05/finish-myself-a-grep/ class=clearfix>Finish Myself a Grep</a></h1><div class=entry-meta><span class=entry-date>2024-10-05</span></div></header><div class=entry-content><p>Hey, I said that I would follow up on my post about <a href=https://blog.jverkamp.com/2024/08/28/codecrafters-build-myself-a-grep/>Building Myself a Grep</a>&mldr; well here it is!</p><p>And I&rsquo;m actually surprised with myself in how far I actually made it!</p><p>You can see the current state of my code <a href=https://github.com/jpverkamp/jp-grep target=_blank rel=noopener>on Github</a>. You can install it from that repo (checked out) with <code>cargo install --path .</code></p><p>I mostly worked off the <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_expressions target=_blank rel=noopener>MDN documentation</a>:</p><h2 id=details>Details</h2><nav id=TableOfContents><ul><li><a href=#details>Details</a></li><li><a href=#supported-regex-features>Supported Regex Features</a></li><li><a href=#unsupported-regex-features-so-far>Unsupported Regex Features (so far!)</a></li><li><a href=#supported-cli-flags>Supported CLI flags</a></li><li><a href=#unsupported-cli-flags>Unsupported CLI flags</a></li><li><a href=#error-handling>Error handling</a></li><li><a href=#expanding-past-codecrafters>Expanding past CodeCrafters</a></li><li><a href=#collecting-files>Collecting files</a></li><li><a href=#printing-lines>Printing lines</a></li></ul></nav><h2 id=supported-regex-features>Supported Regex Features</h2><ul><li><p>Assertions:</p><ul><li><code>^</code> and <code>$</code> for entire patterns</li><li>Parsing look head/behind (not matched)</li></ul></li><li><p>Character classes</p><ul><li>Single characters: <code>[abc]</code></li><li>Ranges: <code>[a-z]</code></li><li>Negated classes: <code>[^abc]</code></li><li>Wildcards: <code>.</code></li><li>Classes: <code>\d</code>/<code>\D</code> for digits, <code>\w</code>/<code>\W</code> for &lsquo;words&rsquo;, and <code>\s</code>/<code>\S</code> for whitespace</li><li>Escape characters: <code>\t\r\n\v\f</code></li><li>Control characters: <code>\cX</code> (I&rsquo;ve never used these)</li><li>Hex and unicode literals: <code>\hXX</code> and <code>\uXXXX</code></li><li>Disjunction: <code>|</code> (both in capture groups and not)</li></ul></li><li><p>Groups and back references</p><ul><li>Capture groups: <code>(abc)</code></li><li>Named capture groups: <code>(?&lt;name>abc)</code></li><li>Non-capturing groups: <code>(?:abc)</code></li><li>Flags: <code>(?ims-ims:abc)</code><ul><li>Both enabling and disabling</li><li><code>i</code> and <code>s</code> but not <code>m</code></li></ul></li><li>Backreferences: <code>\n</code></li><li>Named backreferences: <code>\k&lt;name></code></li></ul></li><li><p>Quantifiers</p><ul><li><code>*</code> for zero or more</li><li><code>+</code> for one or more</li><li><code>?</code> for zero or one</li><li><code>*?</code>, <code>+?</code>, and <code>??</code> for lazy / non-greedy matches</li><li><code>abc{n}</code> exactly n matches</li><li><code>abc{n,}</code> at least n matches</li><li><code>abc{,m}</code> up to m matches</li><li><code>abc{n,m}</code> at least n and up to m matches (inclusive)</li><li>Lazy matches for all of those</li></ul></li></ul><p>Most of those were fairly straight forward extensions of previous code. In think the most interesting ones were handling the parsing of all the different things that can go in groups (including flags).</p><p>For each of them, you can check my <a href=https://github.com/jpverkamp/jp-grep/commits/main/ target=_blank rel=noopener>git commit history</a> to see how I implemented specific things. It&rsquo;s mostly one commit per feature, but not always.</p><h2 id=unsupported-regex-features-so-far>Unsupported Regex Features (so far!)</h2><ul><li><p>Assertions:</p><ul><li>Word boundaries (<code>\b</code> and <code>\B</code>)</li><li>Look ahead/behind (parsed but not matched)</li></ul></li><li><p>Character classes</p><ul><li><code>[\b]</code> for backspace characters</li><li>Long unicode format: <code>\u{XXXXX}</code></li><li>Unicode properties: <code>\p{...}</code>/<code>\P{...}</code></li></ul></li><li><p>Groups and back references:</p><ul><li><code>m</code> flag / mode: multiline matches</li></ul></li></ul><p>The look ahead/behind is the one I&rsquo;m most interested in supporting. I don&rsquo;t even think it will be that hard, I just honestly missed it.</p><p>The more interesting one will be the <code>m</code> flag. Currently, I only match lines, so that will be a decently large restructuring. We&rsquo;ll see.</p><h2 id=supported-cli-flags>Supported CLI flags</h2><p>I&rsquo;ve made an awful lot of progress on this one too!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ jp-grep --help
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>A custom grep implementation; always behaves as egrep
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Usage: jp-grep <span style=color:#f92672>[</span>OPTIONS<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>PATTERN<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>PATHS<span style=color:#f92672>]</span>...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Arguments:
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span>PATTERN<span style=color:#f92672>]</span>   The regular expression to evaluate; may also be specified with -e
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span>PATHS<span style=color:#f92672>]</span>...  Paths to search <span style=color:#66d9ef>for</span> matches; <span style=color:#66d9ef>if</span> none are provided read from stdin
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Options:
</span></span><span style=display:flex><span>  -A, --after-context &lt;AFTER_CONTEXT&gt;
</span></span><span style=display:flex><span>          Lines of context to print after each match
</span></span><span style=display:flex><span>  -B, --before-context &lt;BEFORE_CONTEXT&gt;
</span></span><span style=display:flex><span>          Lines of context to print before each match
</span></span><span style=display:flex><span>  -C, --context &lt;CONTEXT&gt;
</span></span><span style=display:flex><span>          Lines to print both before and after
</span></span><span style=display:flex><span>  -c, --count
</span></span><span style=display:flex><span>          Only print the matching count
</span></span><span style=display:flex><span>  -E, --extended-regexp
</span></span><span style=display:flex><span>          Extended regex mode <span style=color:#f92672>(</span>egrep<span style=color:#f92672>)</span>; this option is ignored <span style=color:#f92672>(</span>always true<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  -e, --regexp &lt;ADDITIONAL_PATTERNS&gt;
</span></span><span style=display:flex><span>          Additional patterns, will <span style=color:#66d9ef>return</span> a line <span style=color:#66d9ef>if</span> any match
</span></span><span style=display:flex><span>  -h, --no-filename
</span></span><span style=display:flex><span>          Never print filenames
</span></span><span style=display:flex><span>      --help
</span></span><span style=display:flex><span>          Display this help message
</span></span><span style=display:flex><span>  -i, --ignore-case
</span></span><span style=display:flex><span>          Default to <span style=color:#66d9ef>case</span> insensitive match
</span></span><span style=display:flex><span>  -n, --line-number
</span></span><span style=display:flex><span>          Print line numbers before matches and context
</span></span><span style=display:flex><span>  -r, --recursive
</span></span><span style=display:flex><span>          Recursively add any directories <span style=color:#f92672>(</span>-R also works<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  -v, --invert-match
</span></span><span style=display:flex><span>          Invert the match; only print lines that don<span style=color:#960050;background-color:#1e0010>&#39;</span>t match any pattern
</span></span><span style=display:flex><span>  -V, --version
</span></span><span style=display:flex><span>          Print version
</span></span></code></pre></div><p>Of those, the context flags (<code>-A</code>, <code>-B</code>, and <code>-C</code>) were probably the most tricky, since I basically had to implement a <a href=https://en.wikipedia.org/wiki/circular%20buffer>circular buffer</a> for them. I could have just read the entire file into memory, but from the beginning, I didn&rsquo;t want to do that.</p><p><code>-E</code> is a little silly, since that&rsquo;s the only <code>grep</code> pattern I support (and the only one I actually use in <code>grep</code>, so that&rsquo;s fair).</p><p>So far as supporting multiple files, recursive search, and stdin, read the section on <a href=#collecting-files>collecting files</a> later.</p><p>So far as printing (handling line numbers and file names), read the section on <a href=#printing-lines>printing lines</a>.</p><p>Overall, pretty fun code.</p><h2 id=unsupported-cli-flags>Unsupported CLI flags</h2><p>So far, there are a bunch of flags that I don&rsquo;t support for grep. Of those, there are a bunch that I don&rsquo;t intend to support (like built in compression support and properly dealing with symlinks).</p><p>The things that I would still like to support though are:</p><ul><li><p>Input options:</p><ul><li><code>-f file</code>/<code>--file=file</code> - Read patterns from file</li></ul></li><li><p>Output options:</p><ul><li><code>-a</code>/<code>--text</code> - Currently I always have this set; I don&rsquo;t treat binary files differently</li><li><code>-L</code>/<code>--files-without-match</code> - only print files that don&rsquo;t match</li><li><code>-o</code>/<code>--only-matching</code> - only print the matching groups; I have the groups for backreferences, use them!</li></ul></li><li><p>File filtering - files to include/exclude (useful with recursive matches):</p><ul><li><code>--exclude pattern</code></li><li><code>--exclude-dir pattern</code></li><li><code>--include pattern</code></li><li><code>--include-dir pattern</code></li></ul></li></ul><p>That&rsquo;s not too bad, all things consider.</p><h2 id=error-handling>Error handling</h2><p>One thing that I actually played a bit with this time around was custom error handling in the parser. Rather than just returning <code>&amp;str</code> all over the place for <code>Err</code> types, I made my own:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#75715e>#[derive(Debug, Clone, Copy, PartialEq, Eq)]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>pub</span>(<span style=color:#66d9ef>crate</span>) <span style=color:#66d9ef>enum</span> <span style=color:#a6e22e>ParserError</span> {
</span></span><span style=display:flex><span>    RemainingInput,
</span></span><span style=display:flex><span>    UnexpectedEnd,
</span></span><span style=display:flex><span>    InvalidCharacter(<span style=color:#66d9ef>char</span>, <span style=color:#f92672>&amp;</span>&#39;static <span style=color:#66d9ef>str</span>),
</span></span><span style=display:flex><span>    InvalidUnicodeCodePoint(<span style=color:#66d9ef>u32</span>),
</span></span><span style=display:flex><span>    InvalidRange(<span style=color:#66d9ef>char</span>, <span style=color:#66d9ef>char</span>),
</span></span><span style=display:flex><span>    InvalidRepeatRange(<span style=color:#66d9ef>u32</span>, <span style=color:#66d9ef>u32</span>),
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>impl</span> std::fmt::Display <span style=color:#66d9ef>for</span> ParserError {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>fmt</span>(<span style=color:#f92672>&amp;</span>self, f: <span style=color:#66d9ef>&amp;</span><span style=color:#a6e22e>mut</span> std::fmt::Formatter<span style=color:#f92672>&lt;</span>&#39;_<span style=color:#f92672>&gt;</span>) -&gt; <span style=color:#a6e22e>std</span>::fmt::Result {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>match</span> self {
</span></span><span style=display:flex><span>            ParserError::RemainingInput <span style=color:#f92672>=&gt;</span> write!(f, <span style=color:#e6db74>&#34;Unexpected input after parsing&#34;</span>),
</span></span><span style=display:flex><span>            ParserError::UnexpectedEnd <span style=color:#f92672>=&gt;</span> write!(f, <span style=color:#e6db74>&#34;Unexpected end of input&#34;</span>),
</span></span><span style=display:flex><span>            ParserError::InvalidCharacter(c, expected) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>                write!(f, <span style=color:#e6db74>&#34;Invalid character &#39;{}&#39;, expected {}&#34;</span>, c, expected)
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            ParserError::InvalidUnicodeCodePoint(code_point) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>                write!(f, <span style=color:#e6db74>&#34;Invalid unicode code point: {}&#34;</span>, code_point)
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            ParserError::InvalidRange(start, end) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>                write!(f, <span style=color:#e6db74>&#34;Invalid range: {}-{}&#34;</span>, start, end)
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            ParserError::InvalidRepeatRange(start, end) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>                write!(f, <span style=color:#e6db74>&#34;Invalid range: {}-{}&#34;</span>, start, end)
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#[derive(Debug, Clone, Copy, PartialEq, Eq)]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>pub</span>(<span style=color:#66d9ef>crate</span>) <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>ParserErrorWithPosition</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>pub</span> position: <span style=color:#66d9ef>usize</span>,
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>pub</span> error: <span style=color:#a6e22e>ParserError</span>,
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The <code>WithPosition</code> type also lets me pinpoint exactly where in a pattern I failed:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span>jp<span style=color:#f92672>-</span>grep <span style=color:#a6e22e>&#39;this</span> is some long complicated pattern, <span style=color:#960050;background-color:#1e0010>\</span>hXX see<span style=color:#f92672>?</span><span style=color:#a6e22e>&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Error parsing regex: <span style=color:#a6e22e>Invalid</span> character <span style=color:#e6db74>&#39;X&#39;</span>, expected hex digit
</span></span><span style=display:flex><span><span style=color:#f92672>|</span> this is some long complicated pattern, <span style=color:#960050;background-color:#1e0010>\</span>hXX see<span style=color:#f92672>?</span>
</span></span><span style=display:flex><span><span style=color:#f92672>|</span>                                          <span style=color:#f92672>^</span>
</span></span></code></pre></div><p>That&rsquo;s pretty neat and I hope helpful! ðŸ˜„</p><h2 id=expanding-past-codecrafters>Expanding past CodeCrafters</h2><p>Overall, I&rsquo;m pretty happy with this project. It&rsquo;s got a pretty decent chunk of code, including&mldr;</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ jp-grep -c -v -e <span style=color:#e6db74>&#39;//&#39;</span> -e <span style=color:#e6db74>&#39;^\s*$&#39;</span> **/*.rs
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>1241</span>
</span></span></code></pre></div><p>&mldr;over 1000 lines of Rust code, including tests but not blank lines or comments. ðŸ˜„</p><p>I&rsquo;ll probably pick this up at least once more.</p><p>Now&mldr; will I actually use this? Probably not. But it was certainly interesting to write.</p><p>Other than that, was CodeCrafters actually helpful for this? Middling. It was the kick I needed to actually do it (I&rsquo;ve been meaning to write this for <em>years</em> at this point) and once I was started, I could finish it. On the other hand, the output format they require was a bit annoying at times, I&rsquo;ve mostly moved away from that.</p><p>Still, worth I think. I&rsquo;ll probably continue to do their free programs. Kafka is up next. Whee servers!</p><p><a href=/2024/10/05/finish-myself-a-grep/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2024/09/04/codecrafters-build-myself-an-interpreter/ class=clearfix>CodeCrafters: Build Myself an Interpreter</a></h1><div class=entry-meta><span class=entry-date>2024-09-04</span></div></header><div class=entry-content>Didn&rsquo;t I just do one of these? Well, yes. Yes I did. But I love building compilers and interpreters, so when I saw this one was in beta (and thus free ðŸ˜‰), I had to try it!
It&rsquo;s directly an implemention of the Lox languages from the Crafting Interpreters website / book (my review), if incomplete. By the end of the lesson, we&rsquo;ll have:
A tokenizer that handles parentheses, braces, operators (single and multiple character), whitespace, identifiers, string literals, numeric literals, and keywords A parser that can take those tokens and build an abstract syntax tree using recursive descent parsing A simple tree walking interpreter for some subset of the language It doesn&rsquo;t handle all of the syntax (yet).<p><a href=/2024/09/04/codecrafters-build-myself-an-interpreter/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2024/09/02/solving-cosmic-express/ class=clearfix>Solving Cosmic Express</a></h1><div class=entry-meta><span class=entry-date>2024-09-02</span></div></header><div class=entry-content><p>Another <a href=https://blog.jverkamp.com/series/rust-solvers/>Rust Solvers</a> puzzle: <a href=https://store.steampowered.com/app/583270/Cosmic_Express/ target=_blank rel=noopener>Cosmic Express</a>. Basically, it&rsquo;s a routefinding puzzle. You have a train that needs a track from entrance to exit, picking up and dropping off cargo on the way.</p><p>It&rsquo;s actual a relatively simple puzzle, so far as things go, but one thing that&rsquo;s interesting from a solving perspective is that branching paths <em>really</em> don&rsquo;t work great with my solver code. Paths just have a crazy branching factor when compared to (for example) <a href=https://blog.jverkamp.com/2024/06/17/the-golf-peaks-of-solving/>playing one of a handful of cards</a>.</p><p>But it&rsquo;s still an interesting puzzle!</p><p><a href=/2024/09/02/solving-cosmic-express/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2024/08/28/codecrafters-build-myself-a-grep/ class=clearfix>CodeCrafters: Build Myself a Grep</a></h1><div class=entry-meta><span class=entry-date>2024-08-28</span></div></header><div class=entry-content><p>I recently stumbled across <a href=https://codecrafters.io/ target=_blank rel=noopener>CodeCrafters</a> again<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>. In a nutshell, they give a number of &lsquo;Build Your Own&mldr;&rsquo; courses, each of which will automatically create a repo for you, guide you through solving the program step by step, and provide some feedback on the way.</p><p>On one hand, it&rsquo;s a freemium (one problem a month is free) / paid service. I wish they had tiers. I really think their monthly fee is a bit steep for what they offer (we&rsquo;ll come back to that). But on the other hand, it&rsquo;s a neat tool and I&rsquo;ve been wanting some more larger programming projects to learn more Rust on, so away we go!</p><p>First up, <a href=https://en.wikipedia.org/wiki/grep>grep</a>!</p><p><a href=/2024/08/28/codecrafters-build-myself-a-grep/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2024/08/19/testit-integration-testing-for-my-rust-solvers/ class=clearfix>TestIT - Integration Testing for My Rust Solvers</a></h1><div class=entry-meta><span class=entry-date>2024-08-19</span></div></header><div class=entry-content><p>One of the problems (of a sorts) I&rsquo;ve been having with my series on <a href=https://blog.jverkamp.com/series/rust-solvers/>Rust Solvers</a> is that, for each input puzzle, I need a way to save one or more &lsquo;known good&rsquo; solutions so that when I change and add new functionality, I can verify that I&rsquo;ve either not changed the solution or found another valid one.</p><p><a href=https://en.wikipedia.org/wiki/Integration%20tests>Integration tests</a> as it were.</p><p>So far, I&rsquo;d been building this <a href=https://github.com/jpverkamp/rust-solvers/blob/ab65482417d0edfb9f24887d41ba3c724e4346e3/src/bin/golf-peaks.rs#L1064-L1202 target=_blank rel=noopener>into each solution</a>. While this worked perfectly fine, it&rsquo;s a bit annoying to copy and paste to each binary, and then have to edit each test case with the answers.</p><nav id=TableOfContents><ul><li><a href=#an-example-run>An example run</a></li><li><a href=#command-line-options>Command line options</a></li><li><a href=#test-file-collection>Test file collection</a></li><li><a href=#parallel-execution--building-the-command>Parallel Execution + Building the Command</a></li><li><a href=#running-each-command-with-a-timeout>Running each command with a timeout</a></li><li><a href=#collecting-the-results>Collecting the results</a></li><li><a href=#summary>Summary</a></li></ul></nav><h2 id=an-example-run>An example run</h2><p>Enter: <a href=https://github.com/jpverkamp/testit target=_blank rel=noopener>testit</a>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># First run, without --db/--save for previous runs</span>
</span></span><span style=display:flex><span>$ testit <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --command <span style=color:#e6db74>&#34;./target/release/golf-peaks&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --files <span style=color:#e6db74>&#34;data/golf-peaks/**/*.txt&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --timeout <span style=color:#ae81ff>60</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>data/golf-peaks/1-1.txt: New success:
</span></span><span style=display:flex><span>1-â†—
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>===</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>data/golf-peaks/1-10.txt: New success:
</span></span><span style=display:flex><span>1-â†˜ 3-â†™ 2-â†˜
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>===</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>data/golf-peaks/9-8.txt: New success:
</span></span><span style=display:flex><span>1/3-â†˜ 1/2-â†– 1/â†— 2/1-â†– 1/1-â†—
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>===</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>data/golf-peaks/9-9.txt: New success:
</span></span><span style=display:flex><span>1-â†— 1/â†˜ 1-â†˜ 4-â†— 3-â†˜ 1/1-â†—
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>===</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>data/golf-peaks/Credits.txt: New success:
</span></span><span style=display:flex><span>4-â†– 5-â†— 3-â†— 6-â†˜
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>===</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Summary:
</span></span><span style=display:flex><span>	Successes: <span style=color:#ae81ff>121</span> <span style=color:#f92672>(</span><span style=color:#ae81ff>121</span> new<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>	Failures: <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>	Timeouts: <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Later runs</span>
</span></span><span style=display:flex><span>$ testit <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --command <span style=color:#e6db74>&#34;./target/release/golf-peaks&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --files <span style=color:#e6db74>&#34;data/golf-peaks/**/*.txt&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --timeout <span style=color:#ae81ff>60</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --db testit/golf-peaks.json <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --save
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Summary:
</span></span><span style=display:flex><span>	Successes: <span style=color:#ae81ff>121</span> <span style=color:#f92672>(</span><span style=color:#ae81ff>0</span> new<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>	Failures: <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>	Timeouts: <span style=color:#ae81ff>0</span>
</span></span></code></pre></div><p>Pretty cool, I do think. ðŸ˜„</p><p><a href=/2024/08/19/testit-integration-testing-for-my-rust-solvers/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2024/06/17/the-golf-peaks-of-solving/ class=clearfix>The Golf (Peaks) of Solving</a></h1><div class=entry-meta><span class=entry-date>2024-06-17</span></div></header><div class=entry-content><p>Another day (week? month?), another puzzle game.</p><p>This time around, we&rsquo;re going to solve <a href=https://store.steampowered.com/app/923260/Golf_Peaks/ target=_blank rel=noopener>Golf Peaks</a>. I picked this up a while ago on iOS, but only recently on Steam. It&rsquo;s a cute little puzzle game themed around minigolf.</p><p><img src=1.7-slopes.png alt></p><p>Basically, you&rsquo;re on a grid and you have to get the ball (in the bottom in that screenshot above) to the flag (currently at the top). You have a set list of moves you can take, styled as cards&ndash;all of which either move a certain number of tiles in a specific direction or possibly jump into the air (and fly over obstacles).</p><p>It gets more complicated from there, but hopefully you have the basic idea. ðŸ˜„</p><p><a href=/2024/06/17/the-golf-peaks-of-solving/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2024/04/06/solving-sokobond/ class=clearfix>Solving Sokobond</a></h1><div class=entry-meta><span class=entry-date>2024-04-06</span></div></header><div class=entry-content><p>Another solver that I&rsquo;ve been working on, after <a href=https://blog.jverkamp.com/2024/03/28/a-good-snowman-is-hard-to-...-solve/>A Good Snowman Is Hard To &mldr; Solve?</a>. This time, we have <a href=https://store.steampowered.com/app/290260/Sokobond/ target=_blank rel=noopener>Sokobond</a>! It&rsquo;s a <a href=https://en.wikipedia.org/wiki/Sokobon>Sokobon</a>&mldr; but with chemical bonds! Yeah, that&rsquo;s a really good title.</p><p>The basic idea is you have a field of elements with (chemical accurate) free electrons):</p><p><img src=basic-image.png alt="A basic level"></p><p>Here we have 4 hydrogens (1 bond each) and a carbon (4 bonds). It should seem pretty obvious that the carbon should end up with a hydrogen on each end. The one last bit of interest: the element with the dashed border is the one we actually control, that will never change.</p><p>This eventually gets more complicated, adding:</p><ul><li>Modifiers that are placed on the map between squares:<ul><li>One that strengthens bonds, turning a single bond into double into triple</li><li>One that weakens bonds, turning triple to double to single or breaking single bonds</li><li>One that rotates bonds as you move by it</li></ul></li><li>More elements, eventually hydrogen (1), oxygen (2), nitrogen (3), carbon (4), and helium (0)</li><li>Solutions that require forming multiple elements at the same time</li></ul><p>It&rsquo;s a pretty neat puzzle game with 144 levels of increasing difficulty. Perfect to solve.</p><hr><p><a href=/2024/04/06/solving-sokobond/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2024/03/28/a-good-snowman-is-hard-to-...-solve/ class=clearfix>A Good Snowman Is Hard To ... Solve?</a></h1><div class=entry-meta><span class=entry-date>2024-03-28</span></div></header><div class=entry-content><p>I enjoy puzzle games. I especially enjoy letting computers solve them for me ðŸ˜„. Once upon a time, I set up a <a href=https://blog.jverkamp.com/2022/10/16/stateful-solvers-and-iterators/>framework for solving random things</a>. Let&rsquo;s solve some more.</p><p>Today: <a href=https://store.steampowered.com/app/316610/A_Good_Snowman_Is_Hard_To_Build/ target=_blank rel=noopener>A Good Snowman Is Hard To Build</a></p><p>It&rsquo;s a <a href=https://en.wikipedia.org/wiki/Sokoban>Sokoban</a> about making snowmen! You can push snowballs of three sizes around, collecting snow if you roll over it. You can push smaller snowballs onto bigger ones, stacking them. Or back off, in order to get around one another.</p><p>And that&rsquo;s really it.</p><p>There are some interesting twists (multiple snowmen, the ability to leave and re-enter levels, and even a whole second &lsquo;hard mode&rsquo;), but at a basic level, it&rsquo;s just pushing.</p><p><a href=/2024/03/28/a-good-snowman-is-hard-to-...-solve/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2023/12/28/advent-of-code-2023-testing-and-timing/ class=clearfix>Advent of Code 2023 - Testing and Timing</a></h1><div class=entry-meta><span class=entry-date>2023-12-28</span></div></header><div class=entry-content><p>A quick follow up to <a href=https://blog.jverkamp.com/series/advent-of-code-2023/>Advent of Code 2023</a>: testing and timing.</p><p>It&rsquo;s been bothering me a bit that I haven&rsquo;t had a generic way to run tests and timing on every problem as I&rsquo;m going.</p><p>So let&rsquo;s fix it!</p><nav id=TableOfContents><ul><li><a href=#testing>Testing</a></li><li><a href=#timing>Timing</a></li><li><a href=#summary>Summary</a></li></ul></nav><p><a href=/2023/12/28/advent-of-code-2023-testing-and-timing/>read more...</a></p></div><hr></article><nav id=pagination-navigation role=navigation><ul class="pagination pagination-default"><li class=page-item><a href=/programming/languages/rust/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/programming/languages/rust/page/2/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=/programming/languages/rust/ aria-label="Page 1" class=page-link role=button>1</a></li><li class=page-item><a href=/programming/languages/rust/page/2/ aria-label="Page 2" class=page-link role=button>2</a></li><li class="page-item active"><a aria-current=page aria-label="Page 3" class=page-link role=button>3</a></li><li class=page-item><a href=/programming/languages/rust/page/4/ aria-label="Page 4" class=page-link role=button>4</a></li><li class=page-item><a href=/programming/languages/rust/page/5/ aria-label="Page 5" class=page-link role=button>5</a></li><li class=page-item><a href=/programming/languages/rust/page/4/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/programming/languages/rust/page/10/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></nav></div></div><footer id=page-footer role=contentinfo><nav id=footer-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=/archive-by-date/>All posts: By Date</a></li><li><a href=/archive-by-tag/>All posts: By Tag</a></li><li><a href=/atom.xml>RSS: All <sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li><li><a href=/programming/languages/atom.xml>RSS: programming/languages<sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li></ul></nav><div id=page-footer-content data-pagefind-ignore=all><div class=legal><p>All posts unless otherwise mentioned are licensed under
<a rel=license href=//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US><img alt="Creative Commons License" style=border-width:0 src=//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png></a></p><p>Any source code unless otherwise mentioned is licensed under the <a href=//directory.fsf.org/wiki/License:BSD_3Clause>3 clause BSD license</a></p></div></div></footer></div></body></html>