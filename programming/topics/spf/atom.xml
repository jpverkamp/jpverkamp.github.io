<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>SPF on jverkamp.com</title><link>https://blog.jverkamp.com/programming/topics/spf/</link><description>Recent content in SPF on jverkamp.com</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><atom:link href="https://blog.jverkamp.com/programming/topics/spf/atom.xml" rel="self" type="application/rss+xml"/><item><title>An SPF DNS Server</title><link>https://blog.jverkamp.com/2020/07/16/an-spf-dns-server/</link><pubDate>Thu, 16 Jul 2020 00:00:00 +0000</pubDate><guid>https://blog.jverkamp.com/2020/07/16/an-spf-dns-server/</guid><description>&lt;p>The &lt;a href="https://en.wikipedia.org/wiki/Sender%20Policy%20Framework">Sender Policy Framework&lt;/a> is one of those things that&amp;rsquo;s really powerful and useful to help prevent phishing and email spam, but can be a royal pain to work with. Specifically, SPF is a series of DNS TXT records&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup> with a specific format that can be looked up by any email service to verify that an email was sent by a server that should be authorized to send email on your behalf. For example&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#e6db74">&amp;#34;v=spf1 ip4:192.0.2.0/24 ip4:198.51.100.123 a -all&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>v=spf1&lt;/code> - tells the client this is an SPF record and should always start the record&lt;/li>
&lt;li>&lt;code>{key}[:{value}]?&lt;/code> - one of many different key/value pairs that can define the record
&lt;ul>
&lt;li>in the case above a &lt;code>ip4&lt;/code> key species an &lt;a href="https://en.wikipedia.org/wiki/IPv4">IPv4&lt;/a> address range that can send emails on your behalf (the value can be optional)&lt;/li>
&lt;li>the &lt;code>a&lt;/code> above is another special case where if the sender domain (&lt;code>jp@example.com&lt;/code> would be &lt;code>example.com&lt;/code>) resolves via a &lt;code>DNS A&lt;/code> record to the server that sent the email, it&amp;rsquo;s allows&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>-all&lt;/code> is a fallthrough case meaning &amp;lsquo;fail all that didn&amp;rsquo;t match a previous case&lt;/li>
&lt;/ul>
&lt;p>There are a number of other cases, but we&amp;rsquo;ll get to the other interesting ones in a bit.&lt;/p></description></item></channel></rss>