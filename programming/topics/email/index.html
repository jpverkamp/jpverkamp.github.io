<!doctype html><html><head><title>Programming, Topic:
Email - jverkamp.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><link rel=alternate type=application/atom+xml title="jverkamp.com (Atom 2.0)" href=//blog.jverkamp.com/feed/><script src=/jquery_17422284542669262002.min.834c1e2313951f0c25b90152fe8b62250eab4a2e8cbd2560fa1a1cdc91c71733.js integrity="sha256-g0weIxOVHwwluQFS/otiJQ6rSi6MvSVg+hoc3JHHFzM=" defer></script><script src=/jquery.fancybox_16245765822111608191.min.ef050764ff69f3287c89ff655825479dd8304dcd9bc653d1ddd4772a701ad445.js integrity="sha256-7wUHZP9p8yh8if9lWCVHndgwTc2bxlPR3dR3KnAa1EU=" defer></script><script src=/katex_17296078054267651618.min.deed0e78a77391517d530a00324ce7b760ac204134992ef22d36f583615ae498.js integrity="sha256-3u0OeKdzkVF9UwoAMkznt2CsIEE0mS7yLTb1g2Fa5Jg=" defer></script><script src=/auto-render_14944144240389301023.min.e694d9d5eae2917984179683ead27b998784a81398e8836c369373d2c67fc32a.js integrity="sha256-5pTZ1erikXmEF5aD6tJ7mYeEqBOY6INsNpNz0sZ/wyo=" defer></script><script src=/bigfoot_28293813221957978.min.af671f08986f0a2267c5a0cb2748b005489e47fa25f55479b200e2a563d23022.js integrity="sha256-r2cfCJhvCiJnxaDLJ0iwBUieR/ol9VR5sgDipWPSMCI=" defer></script><script src=/mermaid_9520146763733687737.min.bfe50b47c0387e3c3bf97ec5f338bba94f7ccb02f962a4aec8cf0b4d68c8434d.js integrity="sha256-v+ULR8A4fjw7+X7F8zi7qU98ywL5YqSuyM8LTWjIQ00=" defer></script><script src=/main.min.d60298c89fc4f1e938aceb45c60926efee8b03efc8b50683082e669a100da643.js integrity="sha256-1gKYyJ/E8ek4rOtFxgkm7+6LA+/ItQaDCC5mmhANpkM=" defer></script><link rel=stylesheet href=/katex_13658330645258633971.min.64e42891d651aee0b8cd02ec9227ff271d37bcf06dae985d1acf0eba1623e850.css integrity="sha256-ZOQokdZRruC4zQLskif/Jx03vPBtrphdGs8OuhYj6FA="><link rel=stylesheet href=/bigfoot-default_8781527669040159104.min.0d2b289fa3451447692959fcee5676b846532fe7ab50ddc4660824c42d4adcd7.css integrity="sha256-DSson6NFFEdpKVn87lZ2uEZTL+erUN3EZggkxC1K3Nc="><link rel=stylesheet href=/jquery.fancybox_5330465509389191777.min.67505d77381ebd82623ab9296c1989c44ec828d867c00296e80e52ef860cac37.css integrity="sha256-Z1BddzgevYJiOrkpbBmJxE7IKNhnwAKW6A5S74YMrDc="><link rel=stylesheet href=/css_1846377409604050217.min.fffe842bc000dd1fe8661ac6427a392a08faa95e8edab1ea7fb98c5f8dac6a6f.css integrity="sha256-//6EK8AA3R/oZhrGQno5Kgj6qV6O2rHqf7mMX42sam8="><link rel=stylesheet href=/main.min.b60cba31b8c292392a2d336408f8f344e261df78516eb17bcf029173b24a42b5.css integrity="sha256-tgy6MbjCkjkqLTNkCPjzROJh33hRbrF7zwKRc7JKQrU="></head><body><div id=wrapper><header id=page-header role=banner><h1><a href=/>JP's Blog</a></h1><ul id=page-header-links><li><a href=https://github.com/jpverkamp>GitHub</a> *
<a href=https://www.flickr.com/photos/jpverkamp>Flickr</a> *
<a href=/resume>Resume</a></li><li><form action=/search/ method=get class="navbar-form navbar-right" role=search _lpchecked=1><div class=form-group><input name=q type=text class=form-control placeholder=Search>
<button type=submit class="btn btn-default" value=Search>Search</button></div></form></li></ul><nav id=header-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=https://blog.jverkamp.com/home-automation/>Home Automation</a></li><li><a href=https://blog.jverkamp.com/reviews/>Reviews</a></li><li><a href=https://blog.jverkamp.com/programming/>Programming</a></li><li><a href=https://blog.jverkamp.com/photography/>Photography</a></li><li><a href=https://blog.jverkamp.com/maker/>Maker</a></li><li><a href=https://blog.jverkamp.com/writing/>Writing</a></li><li><a href=https://blog.jverkamp.com/research/>Research</a></li><li><a href=https://blog.jverkamp.com/search/>Search</a></li><li class=subscription data-subscription=rss><a href=/atom.xml rel=subscribe-rss title="subscribe via RSS">RSS</a></li></ul></nav></header><div id=page-content-wrapper><div id=page-content><h1 class=entry-title data-pagefind-meta=title>Programming, Topic:
Email</h1><div class=entry-content></div><h2>All posts</h2><ul><li><span class=entry-date>2021-01-25</span>:
<a href=https://blog.jverkamp.com/2021/01/25/gmail-oldest-first/>GMail Oldest First</a></li><li><span class=entry-date>2020-07-16</span>:
<a href=https://blog.jverkamp.com/2020/07/16/an-spf-dns-server/>An SPF DNS Server</a></li><li><span class=entry-date>2020-06-10</span>:
<a href=https://blog.jverkamp.com/2020/06/10/observation-server/>Observation Server</a></li><li><span class=entry-date>2018-07-09</span>:
<a href=https://blog.jverkamp.com/2018/07/09/creating-a-temporary-smtp-server-to-catch-domain-validation-emails/>Creating a temporary SMTP server to 'catch' domain validation emails</a></li><li><span class=entry-date>2016-01-02</span>:
<a href=https://blog.jverkamp.com/2016/01/02/inlining-plaintext-attachments-in-gmail/>Inlining plaintext attachments in Gmail</a></li><li><span class=entry-date>2015-08-10</span>:
<a href=https://blog.jverkamp.com/2015/08/10/setting-up-postfix-and-opendkim/>Setting up Postfix and OpenDKIM</a></li><li><span class=entry-date>2012-09-03</span>:
<a href=https://blog.jverkamp.com/2012/09/03/backing-up-gmail/>Backing up Gmail</a></li></ul><h2>Recent posts</h2><div class=post-list><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2021/01/25/gmail-oldest-first/ class=clearfix>GMail Oldest First</a></h1><div class=entry-meta><span class=entry-date>2021-01-25</span></div></header><div class=entry-content><p>It&rsquo;s been <a href=https://blog.jverkamp.com/2016/01/02/inlining-plaintext-attachments-in-gmail/>rather a while</a> since I last worked on a userscript, but there&rsquo;s been a problem I&rsquo;ve been trying to solve for some time.</p><p>I want to have my GMail in order from oldest to newest. While you can do this for all messages, you can&rsquo;t do it within a single page.</p><p><a href=/2021/01/25/gmail-oldest-first/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2020/07/16/an-spf-dns-server/ class=clearfix>An SPF DNS Server</a></h1><div class=entry-meta><span class=entry-date>2020-07-16</span></div></header><div class=entry-content><p>The <a href=https://en.wikipedia.org/wiki/Sender%20Policy%20Framework>Sender Policy Framework</a> is one of those things that&rsquo;s really powerful and useful to help prevent phishing and email spam, but can be a royal pain to work with. Specifically, SPF is a series of DNS TXT records<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> with a specific format that can be looked up by any email service to verify that an email was sent by a server that should be authorized to send email on your behalf. For example</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#e6db74>&#34;v=spf1 ip4:192.0.2.0/24 ip4:198.51.100.123 a -all&#34;</span>
</span></span></code></pre></div><ul><li><code>v=spf1</code> - tells the client this is an SPF record and should always start the record</li><li><code>{key}[:{value}]?</code> - one of many different key/value pairs that can define the record<ul><li>in the case above a <code>ip4</code> key species an <a href=https://en.wikipedia.org/wiki/IPv4>IPv4</a> address range that can send emails on your behalf (the value can be optional)</li><li>the <code>a</code> above is another special case where if the sender domain (<code>jp@example.com</code> would be <code>example.com</code>) resolves via a <code>DNS A</code> record to the server that sent the email, it&rsquo;s allows</li></ul></li><li><code>-all</code> is a fallthrough case meaning &lsquo;fail all that didn&rsquo;t match a previous case</li></ul><p>There are a number of other cases, but we&rsquo;ll get to the other interesting ones in a bit.</p><p><a href=/2020/07/16/an-spf-dns-server/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2020/06/10/observation-server/ class=clearfix>Observation Server</a></h1><div class=entry-meta><span class=entry-date>2020-06-10</span></div></header><div class=entry-content><p>For a number of years now, I&rsquo;ve been writing down my &lsquo;observations&rsquo;. Essentially, it&rsquo;s a semi-structured set of text files that I keep in Dropbox. One for each day, in a folder by month. I record interesting people I see, things I did worth doing, and things my children did which were adorable.</p><p>After a while, I started wanting to look back, so first, I wrote a relatively simple script that would go back through my archives and send me everything I did 1/2/3/4/etc years ago. That worked well enough, but it ended up generating a lot of emails to go through some days. So the second generation is a server that can format those pages and display them as a nice webpage.</p><p>The most interesting part perhaps was dealing with the tarballs that I keep the archives in (they&rsquo;re plain text, so they compress very well). I wanted to keep them compressed, so I had to decompress them in memory on the fly.</p><p><a href=/2020/06/10/observation-server/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2018/07/09/creating-a-temporary-smtp-server-to-catch-domain-validation-emails/ class=clearfix>Creating a temporary SMTP server to 'catch' domain validation emails</a></h1><div class=entry-meta><span class=entry-date>2018-07-09</span></div></header><div class=entry-content><p>One problem that has come up a time or two is dealing with email-based domain validation (specifically in this case for the issuance of TLS certificates) on domains that aren&rsquo;t actually configured to receive email. Yes, in a perfect world, it would be easier to switch to DNS-based validation (since we have to have control of the DNS for the domain, we need it later), but let&rsquo;s just assume that&rsquo;s not an option. So, how do we &lsquo;catch&rsquo; the activation email so we can prove we can receive email on that domain?</p><p><a href=/2018/07/09/creating-a-temporary-smtp-server-to-catch-domain-validation-emails/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2016/01/02/inlining-plaintext-attachments-in-gmail/ class=clearfix>Inlining plaintext attachments in Gmail</a></h1><div class=entry-meta><span class=entry-date>2016-01-02</span></div></header><div class=entry-content><p>When you send a text message to a Gmail email address (at least from an iPhone using AT&amp;T), you get something like this:</p><figure><img src=/embeds/2016/gpti-before.png></figure><p>It&rsquo;s vaguely annoying to have to click through every single time just to see what the message is, especially when various extensions (such as <a href=https://github.com/gorhill/uMatrix>uMatrix</a>) break overlay rendering or when you have multiple attachments.</p><p>Much better would be to just display the plaintext attachments inline:</p><figure><img src=/embeds/2016/gpti-after.png></figure><p><a href=/2016/01/02/inlining-plaintext-attachments-in-gmail/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2015/08/10/setting-up-postfix-and-opendkim/ class=clearfix>Setting up Postfix and OpenDKIM</a></h1><div class=entry-meta><span class=entry-date>2015-08-10</span></div></header><div class=entry-content><p>Last week, I was presented with a fairly interesting challenge: add DKIM (via <a href=http://www.opendkim.org/>OpenDKIM</a>) support to our mail servers (running <a href=http://www.postfix.org/>Postfix</a>). Given that I&rsquo;ve never actually worked on a mail server before, it sounded fun. &#x1f604;</p><p><a href=/2015/08/10/setting-up-postfix-and-opendkim/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2012/09/03/backing-up-gmail/ class=clearfix>Backing up Gmail</a></h1><div class=entry-meta><span class=entry-date>2012-09-03</span></div></header><div class=entry-content><p>A little while ago, I decided to finally get around to backing up everything. I&rsquo;m pulling all of my files from both my website and the servers on campus to my desktop at home, backing my desktop up to an external hard drive, and pushing those backups to an offsite location.</p><p>The former two steps are using <a href=https://github.com/jpverkamp/small-projects/blob/master/scripts/backup-gmail.txt target=_blank rel=noopener>here</a>.</p><p>First, some basic setup. Of course, I&rsquo;ve blanked out my own username and password. This definitely isn&rsquo;t the best way to authenticate (storing the password in plain text? :(), but it works out well enough.</p><p><a href=/2012/09/03/backing-up-gmail/>read more...</a></p></div></article></div><nav id=pagination-navigation role=navigation></nav></div></div><footer id=page-footer role=contentinfo><nav id=footer-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=/archive-by-date/>All posts: By Date</a></li><li><a href=/archive-by-tag/>All posts: By Tag</a></li><li><a href=/atom.xml>RSS: All <sup><svg width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li><li><a href=/programming/atom.xml>RSS: programming<sup><svg width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li></ul></nav><div id=page-footer-content data-pagefind-ignore=all><div class=legal><p>All posts unless otherwise mentioned are licensed under
<a rel=license href=//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US><img alt="Creative Commons License" style=border-width:0 src=//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png></a></p><p>Any source code unless otherwise mentioned is licensed under the <a href=//directory.fsf.org/wiki/License:BSD_3Clause>3 clause BSD license</a></p></div></div></footer></div></body></html>