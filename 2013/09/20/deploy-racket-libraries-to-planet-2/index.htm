<!DOCTYPE html>
<html>
<head>
        
        

        <title>Deploy Racket libraries to Planet 2 | jverkamp.com | John-Paul Verkamp</title>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" />
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css" />
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/3.0.3a/ekko-lightbox.min.css" />
        <script src="//cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/3.0.3a/ekko-lightbox.min.js"></script>

        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.transit/0.9.9/jquery.transit.min.js"></script>

        <!-- Highlight.js for syntax highlighting -->
        <link rel="stylesheet" href="/highlight/styles/tomorrow-night.css" />
        <script src="/highlight/highlight.pack.js"></script>

        <!-- MathJax for LaTeX support -->
        <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- nanoGallery for Flickr Galleries -->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/nanogallery/4.4.2/css/themes/light/nanogallery_light.css" />
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/nanogallery/4.4.2/jquery.nanogallery.min.js"></script>

        <!-- Any custom CSS or JS that I've written; this should be kept minimal -->
        <link rel="stylesheet" href="/custom.css" />
        <script src="/custom.js"></script>

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
        <header class="container">
        <nav class="navbar navbar-default" role="navigation">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://blog.jverkamp.com"><span style="color: green;">jv</span>erkamp.com</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav"><li class="dropdown"><a href="http://blog.jverkamp.com/category/archives" class="dropdown-toggle">Archives<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/archives/2004">2004</a></li><li><a href="http://blog.jverkamp.com/category/archives/2005">2005</a></li><li><a href="http://blog.jverkamp.com/category/archives/2006">2006</a></li><li><a href="http://blog.jverkamp.com/category/archives/2007">2007</a></li><li><a href="http://blog.jverkamp.com/category/archives/2008">2008</a></li><li><a href="http://blog.jverkamp.com/category/archives/2009">2009</a></li><li><a href="http://blog.jverkamp.com/category/archives/2010">2010</a></li><li><a href="http://blog.jverkamp.com/category/archives/2011">2011</a></li><li><a href="http://blog.jverkamp.com/category/archives/2012">2012</a></li><li><a href="http://blog.jverkamp.com/category/archives/2013">2013</a></li><li><a href="http://blog.jverkamp.com/category/archives/2014">2014</a></li></ul></li><li class="dropdown"><a href="http://blog.jverkamp.com/category/other" class="dropdown-toggle">Other<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/other/board-game-reviews">Board Game Reviews</a></li><li><a href="http://blog.jverkamp.com/category/other/cooking">Cooking</a></li><li><a href="http://blog.jverkamp.com/category/other/movie-reviews">Movie Reviews</a></li></ul></li><li class="dropdown"><a href="http://blog.jverkamp.com/category/photography" class="dropdown-toggle">Photography<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/photography/dp-challenge">DP Challenge</a></li><li><a href="http://blog.jverkamp.com/category/photography/photosets">Photosets</a></li><li><a href="http://blog.jverkamp.com/category/photography/photosynth">Photosynth</a></li></ul></li><li class="dropdown"><a href="http://blog.jverkamp.com/category/programming" class="dropdown-toggle">Programming<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/programming/by-language">By Language</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-project">By Project</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-source">By Source</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-topic">By Topic</a></li><li><a href="http://blog.jverkamp.com/category/programming/libraries">Libraries</a></li></ul></li><li class="dropdown"><a href="http://blog.jverkamp.com/category/research" class="dropdown-toggle">Research<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/research/by-topic">By Topic</a></li><li><a href="http://blog.jverkamp.com/category/research/publications">Publications</a></li></ul></li><li class="dropdown"><a href="http://blog.jverkamp.com/category/writing" class="dropdown-toggle">Writing<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/writing/by-genre">By Genre</a></li><li><a href="http://blog.jverkamp.com/category/writing/nanowrimo">NaNoWriMo</a></li><li><a href="http://blog.jverkamp.com/category/writing/novels">Novels</a></li><li><a href="http://blog.jverkamp.com/category/writing/other">Other</a></li><li><a href="http://blog.jverkamp.com/category/writing/short-stories">Short Stories</a></li></ul></li></ul>

      <form action="http://www.google.com/search" method="get" onSubmit="(function(obj){obj.q.value='site:blog.jverkamp.com '+obj.qfront.value;})(this)" class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input name="q" type="hidden" />
          <input name="qfront" type="text" class="form-control" placeholder="Search" />
          <button type="submit" class="btn btn-default" value="Search">Search</button>
        </p>
      </form>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
        </header>

        <article class="container">
                <header>
                        <h1 class="entry-title">Deploy Racket libraries to Planet 2</h1>

                        <div class="entry-meta">
                                <span class="posted-on"><time class="entry-date" datetime="2013-09-20"><span class="year">2013</span> <span class="month">Sept</span> <span class="day">20</span></time></span>
                                <span class="tags"><ul class="tag-list list-inline"><li><a href="http://blog.jverkamp.com/category/programming">Programming</a></li><li><a href="http://blog.jverkamp.com/category/programming/libraries">Libraries</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-language/scheme">Scheme</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-language/racket">Racket</a></li></ul></span>
                        </div>

                        <hr />
                </header>
                <div class="entry-content">
                        <p>Over the last few years, I've managed to write a fair bit of Racket code. It's a lovely language and an even better ecosystem for writing quick/clean code (<code><a href="http://docs.racket-lang.org/search/index.html?q=batteries included!">batteries included!</a></code>). Several times throughout that, I've written code that I thought could be useful to others, including several libraries that I used to write my <a href="http://blog.jverkamp.com/2013/03/28/writing-a-roguelike-in-racket-day-0">Racket Roguelike</a> and code that I've used working with the C211 class at Indiana University. I've always said that I should turn these into packages that others can use and... I've finally figured it out.<!--more--></p>
<p>Part of the reason that I finally figured it out is the introduction of the new and improved Planet 2 framework (currently in beta). Theoretically, it makes creating a library as simple as publishing the GitHub URL it's hosted at. In practice, it's a bit more complicated than that, but not much.</p>
<p>When I finally set about working on this, my first stop was <a href="http://lists.racket-lang.org/dev/archive/2012-November/010768.html">this message</a> from Jay McCarthy on the Racket mailing list. Essentially, it announced the beta release and has temporary documentation <a href="http://faculty.cs.byu.edu/~jay/tmp/20121108-pkgs/planet2/index.html">here</a> which got me started. Specifically, it said that I should be able to just put a package in GitHub and then install it on any machine with this command:</p>
<pre class="bash"><code>raco pkg install github://github.com/{username}/{package-name}/{branch}/</code></pre>
<p>After that, there was a lot of chatter about fixing the idea that a package had to actually be a collection containing one or more packages. Since most of my code is one package per collection, I would love to see this work, but I haven't figured it out yet. That means that to work, each repository has to have a folder with the same name at the top level. So the general layout (for me at least) looks something like this:</p>
<pre class="bash"><code>github://jpverkamp/{package}
+ info.rkt
+ manual.scrbl
+ {package}
  + main.rkt
  + other-file.rkt
  + ...</code></pre>
<p>Strictly speaking, the info and manual files aren't necessary, but they seem useful. Here's some documentation for creating an info.rkt file (<code><a href="http://docs.racket-lang.org/search/index.html?q=linky">linky</a></code>) and here's some on creating documentation with Scribble (<code><a href="http://docs.racket-lang.org/search/index.html?q=linky">linky</a></code>). I'm really liking how Scribble works; I'm actually thinking about reworking this blog to be statically generated using it (similar to Greg Hendershott's <a href="https://github.com/greghendershott/frog">frog project</a>). We'll see.</p>
<p>In any case, once all of those files are in place, it really is that easy. Push all of those files to GitHub and the command earlier works just fine. About the only problem I've seen so far is that occasionally the timestamps get strange. That leads to Dr. Racket (but not the command line version) complaining about the timestamps on the .zo files and refusing to run. Wait until the match though and everything is golden.</p>
<p>That being said, I've gone through and started to push out some libraries (along with updating my code to use them). It's certainly cleaner than using Git submodules (which Racket Roguelike originally did), especially if several projects use the same library. We'll see if it continues to be so easy.</p>
<p>So far, I've converted / written these five libraries:</p>
<table class="table table-striped">
<thead>
<tr>
<td>Library</td>
<td>Source</td>
<td>Docs</td>
<td>Description</td>
</tr>
</thead>
<tbody>
<tr>
<td>ascii‑canvas</td>
<td><a href="https://github.com/jpverkamp/ascii-canvas/">src</a></td>
<td><a href="http://racket.jverkamp.com/ascii-canvas/">docs</a></td>
<td>ascii-canvas simulates a code page 437 ASCII terminal display. It supports all 256 characters of codepage 437, arbitrary foreground colors, arbitrary background colors, and arbitrary terminal sizes.</td>
</tr>
<tr>
<td>bit‑struct</td>
<td><a href="https://github.com/jpverkamp/bit-struct/">src</a></td>
<td><a href="http://racket.jverkamp.com/bit-struct/">docs</a></td>
<td>Extend standard Racket structs for bitfields. It creates the normal accessors for structure along with defining three new methods: <code>build‑*</code>, <code>*‑>bytes</code>, <code>bytes‑>*</code></td>
</tr>
<tr>
<td>c211</td>
<td><a href="https://github.com/jpverkamp/c211/">src</a></td>
<td><a href="http://racket.jverkamp.com/c211/">docs</a></td>
<td>c211 provides a Racket version of the C211 libraries used in Wombat. So far, the following libraries are (mostly) complete: <code>c211/color</code>, <code>c211/image</code>, <code>c211/matrix</code></td>
</tr>
<tr>
<td>noise</td>
<td><a href="https://github.com/jpverkamp/noise/">src</a></td>
<td><a href="http://racket.jverkamp.com/noise/">docs</a></td>
<td>This package provides Racket versions of the <a href="https://en.wikipedia.org/wiki/Perlin">Perlin noise</a> and <a href="https://en.wikipedia.org/wiki/Simplex">Simplex noise</a> noise generators.</td>
</tr>
<tr>
<td>thing</td>
<td><a href="https://github.com/jpverkamp/thing/">src</a></td>
<td><a href="http://racket.jverkamp.com/thing/">docs</a></td>
<td>This package provides a simple prototype object-based system for Racket.</td>
</tr>
</tbody>
</table>
<p>To install any of these libraries (unless otherwise mentioned), it really is as easy as running this command: <code>raco pkg install github://github.com/jpverkamp/<strong>{library name}</strong>/master</code></p>
<p>Alternatively, you can do it directly from DrRacket:</p>
<pre class="scheme"><code>&gt; (require pkg)
&gt; (install "github://github.com/jpverkamp/{library name}/master</code></pre>
<p>Either way, after the code runs, you can require the library directly:</p>
<pre class="scheme"><code>&gt; (require pkg)
&gt; (install "github://github.com/jpverkamp/noise/master")
...
&gt; (require noise)
&gt; (perlin 8.6 7.5 3.09)
0.49156684001488843</code></pre>
<p>Using the latter, I've gotten a few errors, but it seems to work regardless. I prefer the raco version anyways, so I didn't pay particularly much attention to them.</p>
<p>At the moment, that same list above lives at <a href="http://blog.jverkamp.com/lists/racket-libraries/ ‎">Lists > Racket Libraries</a>, although I can't guarantee that I won't move it if/when I ever finish my blog redesign / shift to static pages that I've been working on for a few months. We'll see. For now though it seems like a reasonable enough place though.</p>
                </div>
                <div class="entry-footnotes">
                        <div id="footnotes"><ol></ol></div>
                </div>

                <div id="disqus_thread"></div>
<script type="text/javascript">
var disqus_shortname = "jverkamp";
var disqus_title = "Deploy Racket libraries to Planet 2";
var disqus_url = "http://blog.jverkamp.com/2013/09/20/deploy-racket-libraries-to-planet-2/";
/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </article>

        <footer class="container" role="contentinfo">
                <nav class="navbar navbar-default" role="navigation"><ul class="nav navbar-nav nav-justified"><li><a href="http://blog.jverkamp.com/2013/09/19/smallest-consecutive-four-factor-composites">← Smallest consecutive four-factor composites</a></li><li><a href="http://blog.jverkamp.com/category/archives">Archives</a></li><li><a href="http://blog.jverkamp.com/2013/09/23/extending-racket-structs-to-bitfields">Extending Racket structs to bitfields →</a></li></ul><ul class="nav navbar-nav nav-justified"><li><a href="http://blog.jverkamp.com/2013/09/19/smallest-consecutive-four-factor-composites">← Smallest consecutive four-factor composites</a></li><li><a href="http://blog.jverkamp.com/category/programming">Programming</a></li><li><a href="http://blog.jverkamp.com/2013/09/23/extending-racket-structs-to-bitfields">Extending Racket structs to bitfields →</a></li></ul></nav>

                <div class="legal">
                        All posts unless otherwise mentioned are licensed under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" /></a><br />
                        Any source code unless otherwise mentioned is licensed under the <a href="http://directory.fsf.org/wiki/License:BSD_3Clause">3 clause BSD license</a>
                </div>
        </footer>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-53688146-1', 'auto');
ga('send', 'pageview');
</script>
</body>
</html>