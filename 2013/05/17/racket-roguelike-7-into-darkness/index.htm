<!DOCTYPE html>
<html>
<head>
        
        

        <title>Racket Roguelike 7: Into darkness! | jverkamp.com | John-Paul Verkamp</title>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" />
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css" />
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/3.0.3a/ekko-lightbox.min.css" />
        <script src="//cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/3.0.3a/ekko-lightbox.min.js"></script>

        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.transit/0.9.9/jquery.transit.min.js"></script>

        <!-- Highlight.js for syntax highlighting -->
        <link rel="stylesheet" href="/highlight/styles/tomorrow-night.css" />
        <script src="/highlight/highlight.pack.js"></script>

        <!-- MathJax for LaTeX support -->
        <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- nanoGallery for Flickr Galleries -->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/nanogallery/4.4.2/css/themes/light/nanogallery_light.css" />
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/nanogallery/4.4.2/jquery.nanogallery.min.js"></script>

        <!-- Any custom CSS or JS that I've written; this should be kept minimal -->
        <link rel="stylesheet" href="/custom.css" />
        <script src="/custom.js"></script>

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
        <header class="container">
        <nav class="navbar navbar-default" role="navigation">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://jpverkamp.github.io"><span style="color: green;">jv</span>erkamp.com</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav"><li class="dropdown"><a href="http://jpverkamp.github.io/category/archives" class="dropdown-toggle">Archives<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://jpverkamp.github.io/category/archives/2004">2004</a></li><li><a href="http://jpverkamp.github.io/category/archives/2005">2005</a></li><li><a href="http://jpverkamp.github.io/category/archives/2006">2006</a></li><li><a href="http://jpverkamp.github.io/category/archives/2007">2007</a></li><li><a href="http://jpverkamp.github.io/category/archives/2008">2008</a></li><li><a href="http://jpverkamp.github.io/category/archives/2009">2009</a></li><li><a href="http://jpverkamp.github.io/category/archives/2010">2010</a></li><li><a href="http://jpverkamp.github.io/category/archives/2011">2011</a></li><li><a href="http://jpverkamp.github.io/category/archives/2012">2012</a></li><li><a href="http://jpverkamp.github.io/category/archives/2013">2013</a></li><li><a href="http://jpverkamp.github.io/category/archives/2014">2014</a></li></ul></li><li class="dropdown"><a href="http://jpverkamp.github.io/category/other" class="dropdown-toggle">Other<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://jpverkamp.github.io/category/other/board-game-reviews">Board Game Reviews</a></li><li><a href="http://jpverkamp.github.io/category/other/cooking">Cooking</a></li><li><a href="http://jpverkamp.github.io/category/other/movie-reviews">Movie Reviews</a></li></ul></li><li class="dropdown"><a href="http://jpverkamp.github.io/category/photography" class="dropdown-toggle">Photography<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://jpverkamp.github.io/category/photography/dp-challenge">DP Challenge</a></li><li><a href="http://jpverkamp.github.io/category/photography/photosets">Photosets</a></li><li><a href="http://jpverkamp.github.io/category/photography/photosynth">Photosynth</a></li></ul></li><li class="dropdown"><a href="http://jpverkamp.github.io/category/programming" class="dropdown-toggle">Programming<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://jpverkamp.github.io/category/programming/by-language">By Language</a></li><li><a href="http://jpverkamp.github.io/category/programming/by-project">By Project</a></li><li><a href="http://jpverkamp.github.io/category/programming/by-source">By Source</a></li><li><a href="http://jpverkamp.github.io/category/programming/by-topic">By Topic</a></li><li><a href="http://jpverkamp.github.io/category/programming/libraries">Libraries</a></li></ul></li><li class="dropdown"><a href="http://jpverkamp.github.io/category/research" class="dropdown-toggle">Research<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://jpverkamp.github.io/category/research/by-topic">By Topic</a></li><li><a href="http://jpverkamp.github.io/category/research/publications">Publications</a></li></ul></li><li class="dropdown"><a href="http://jpverkamp.github.io/category/writing" class="dropdown-toggle">Writing<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://jpverkamp.github.io/category/writing/by-genre">By Genre</a></li><li><a href="http://jpverkamp.github.io/category/writing/nanowrimo">NaNoWriMo</a></li><li><a href="http://jpverkamp.github.io/category/writing/novels">Novels</a></li><li><a href="http://jpverkamp.github.io/category/writing/other">Other</a></li><li><a href="http://jpverkamp.github.io/category/writing/short-stories">Short Stories</a></li></ul></li></ul>

      <!--
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search">
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
        </header>

        <article class="container">
                <header>
                        <h1 class="entry-title">Racket Roguelike 7: Into darkness!</h1>

                        <div class="entry-meta">
                                <span class="posted-on"><time class="entry-date" datetime="2013-05-17"><span class="year">2013</span> <span class="month">May</span> <span class="day">17</span></time></span>
                                <span class="tags"><ul class="tag-list list-inline"><li><a href="http://jpverkamp.github.io/category/programming/by-source/7drl">7DRL</a></li><li><a href="http://jpverkamp.github.io/category/programming/by-topic/games">Games</a></li><li><a href="http://jpverkamp.github.io/category/programming/by-topic/games/roguelikes">Roguelikes</a></li><li><a href="http://jpverkamp.github.io/category/programming">Programming</a></li><li><a href="http://jpverkamp.github.io/category/programming/by-language/racket">Racket</a></li><li><a href="http://jpverkamp.github.io/category/programming/by-project/games/racket-roguelike">Racket Roguelike</a></li></ul></span>
                        </div>

                        <hr />
                </header>
                <div class="entry-content">
                        <p>When I was playing Racket Roguelike earlier this week<span class="footnote"><sup><a href="#footnote-1">[1]</a></sup></span>, I realized something: I can see everything. There are no surprises, no mystery, no <em>darkness</em></p>
<p>Let's fix that.</p>
<!--more-->
<p>(If you'd like to start at the beginning, click here: <a href="http://jpverkamp.github.io/2013/04/04/racket-roguelike-1-a-gui-screens-io-and-you">Racket Roguelike 1: A GUI, screens, I/O, and you!</a>)</p>
<p>This week, we want to add a dynamic lighting system to the game. If we were using a pre-built framework (like Doryen's excellent <a href="http://jpverkamp.github.io/2013/03/28/writing-a-roguelike-in-racket-day-0">AsciiPanel</a> some day}. But that's not the case. Luckily, the framework we've built already makes lighting relatively easy.</p>
<p>First, we need some way of representing which tiles should be lit. Technically, we could calculate this on the fly every frame. This isn't actually a terrible way of doing things and might just be more efficient than what we're doing (don't even bother rendering tiles you can't see), but since we want to have a 'fog of war' type system--where you can see the terrain you've passed, just not what's there--that won't quite work.</p>
<p>Instead, let's add it to the <code>tile</code> definitions:</p>
<pre class="scheme"><code>; levels.rkt

(define-thing tile
  [character #\space]
  [color "black"]
  [items '()]
  [lighting 'dark]    ; Dark: Invisible; Fog: Only show tile, not NPC or item; Lit: Everything
  [walkable #f]       ; Can the player walk on this tile?
  )</code></pre>
<p>As it says in the comment, we have a <code>lighting</code> parameter with three possible states:</p>
<ul>
<li><code>dark</code> - don't draw the tile</li>
<li><code>fog</code> - draw the tile, but no items or NPCs in it (used once we see a tile then leave)</li>
<li><code>lit</code> - draw the tile, items, and NPCs (used when the player is nearby)</li>
</ul>
<p>Easy enough. But how do we actually add that to our drawing function? Head over to <em>game-screen.rkt</em>:</p>
<pre class="scheme"><code>; game-screen.rkt

(define gray-background (make-object color% 32 32 32))

...

; Draw the tiles around the player
(for* ([xi (in-range (send canvas get-width-in-characters))]
       [yi (in-range (send canvas get-height-in-characters))])
  (define x/y (recenter canvas (- (thing-get player 'location) (pt xi yi))))
  (define tile (send world tile-at (pt-x x/y) (pt-y x/y)))
  (define lighting (thing-get tile 'lighting 'lit))
  (cond
    ; Draw nothing on dark tiles
    [(eq? lighting 'dark)
     (void)]
    ; If it's in fog, draw with a gray background
    [(eq? lighting 'fog)
     (send canvas write
           (thing-get tile 'character)
           xi yi
           (thing-get tile 'color) gray-background)]
    ; If it's lit but there are no items, draw the tile
    [(null? (thing-get tile 'items '()))
     (send canvas write
           (thing-get tile 'character)
           xi yi
           (thing-get tile 'color))]
    ; If it's lit and there are items, draw the item
    [else
     (send canvas write
           (thing-get (car (thing-get tile 'items)) 'character)
           xi yi
           (thing-get (car (thing-get tile 'items)) 'color))]))</code></pre>
<p>Basically, we draw nothing on dark tiles. This relies on the <code>clear</code> just above this code. If it's foggy, we have a background, defined at the top of the file<span class="footnote"><sup><a href="#footnote-2">[2]</a></sup></span>. Otherwise, we fall back on the methods that we already had.</p>
<p>Next, we need to actually calculate this lighting. Essentially, every tile starts dark. Then, if a tile is near to the player, light it up. If it's already lit but no longer near the tile, fade to fog. For now, we're just going to use a simple radius around the player (parameterized below). Here's the new <code>update-lighting</code> function and friends:</p>
<pre class="scheme"><code>; entities.rkt

; game-screen.rkt
(define-thing entity
  ...
  [view-range 5])

; Draw the game itself.
(define/override (draw canvas)
  (define player (send world get-player))
  (send canvas clear)

  ; Update lighting
  (send world update-lighting)

  ...)

; world.rkt

; Update lighting
(define/public (update-lighting)
  ; Turn any lit tiles to fog
  ; Turn any tiles within the player's view limit to lit
  (define player-location (thing-get player 'location))
  (define player-view (thing-get player 'view-range 5))
  (for-tile
   (lambda (x y tile)
     (cond
       ; Light tiles near the player
       [(&lt;= (distance player-location (pt x y)) player-view)
        (thing-set! tile 'lighting 'lit)]
       ; Fog previously lit tiles
       [(eq? 'lit (thing-get tile 'lighting))
        (thing-set! tile 'lighting 'fog)]
       ; Otherwise do nothing
       ))))</code></pre>
<p>For that, we need the <code>for-tile</code> function. You can check it out <a href="https://github.com/jpverkamp/racket-roguelike/blob/master/src/levels.rkt">on GitHub</a>, but essentially it takes a function of the form <code>(lambda (x y tile) ...)</code> and applies it to each tile on the current level. It might<span class="footnote"><sup><a href="#footnote-3">[3]</a></sup></span> get inefficient on more explored levels, but if people keep heading down, we should be good. So in this case, we'll just light the area around the player. How does that look?</p>
<p><a data-toggle="lightbox" href="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/simple-lighting.png"><img src="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/simple-lighting.png" /></a></p>
<p>Starting out, not too bad. We're out in the middle of a nice grass field like always. Just this time, we can't see much of it. Perhaps it's night time?</p>
<p><a data-toggle="lightbox" href="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/simple-fog.png"><img src="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/simple-fog.png" /></a></p>
<p>Wander around a bit until we find a way down. You can see the gray background of the fog. That actually looks pretty nice, particularly as you're moving around.</p>
<p><a data-toggle="lightbox" href="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/into-the-caves.png"><img src="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/into-the-caves.png" /></a></p>
<p>Okay, now we're into the caves. Let's explore for a bit.</p>
<p><a data-toggle="lightbox" href="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/this-is-a-problem.png"><img src="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/this-is-a-problem.png" /></a></p>
<p></p>
<p>Hmm. Well, this is a problem. It turns out... we can see right through walls. Perhaps we should work on that a bit.</p>
<p>This is when a pre-built framework would <em>really</em> come in handy. But the algorithm isn't too bad. Essentially, we want <a href="https://en.wikipedia.org/wiki/raycasting">raycasting</a>. We'll start with a series of lines out from the player and light tiles as we go. If we hit something that can't be lit up, stop. Sounds like a nicely recursive function to me!</p>
<p>Before that, let's modify the tile definitions again. We'll add the <code>solid</code> property. If a tile is <code>solid</code> (like a wall or a tree), you can't see through it. Otherwise (like empty space or over water), you can.</p>
<pre class="scheme"><code>; levels.rkt

(define-thing tile
  [character #\space]
  [color "black"]
  [items '()]
  [lighting 'dark]    ; Dark: Invisible; Fog: Only show tile, not NPC or item; Lit: Everything
  [walkable #f]       ; Can the player walk on this tile?
  [solid #f]          ; Does this tile block light?
  )</code></pre>
<p>So how do we write a raycasting function?</p>
<p>The basic idea<span class="footnote"><sup><a href="#footnote-4">[4]</a></sup></span> is to start with four rays, one in each of the cardinal directions. Give each ray its own direction. Then as we pass each tile, branch out in each direction for a total of three branches per iteration. It's certainly not optimal (we'll light some tiles more than once), but it does look nice.</p>
<pre class="scheme"><code>; world.rkt

; Update lighting
(define/public (update-lighting)
  ; Turn any lit tiles to fog
  (for-tile
   (lambda (x y tile)
     (cond
       [(eq? 'lit (thing-get tile 'lighting 'dark))
        (thing-set! tile 'lighting 'fog)])))

  ; Spread lighting from the player
  ; x/y current tile to light
  ; xd/yd direction to spread light:
  ;  if xd != 0, spread to (x+xd y-1) (x+xd y) (x+xd y+1)
  ;  if yd != 0, spread to (x-1 y+yd) (x y+yd) (x-1 y+yd)
  ; spread is initially set to player's light radius
  (define (spread-light x y xd yd spread)
    ; Light the current tile
    (define tile (get-tile x y))
    (thing-set! tile 'lighting 'lit)

    ; Recur
    (cond
      ; Don't spread pass solid tiles (spread to them though)
      ; Don't recur past the spread (vision range) value
      [(or (&lt;= spread 0) (thing-get tile 'solid #f))
       (void)]
      ; Spread in the x direction
      [(not (= xd 0))
       (spread-light (+ x xd) (- y 1) xd yd (- spread 1.41))
       (spread-light (+ x xd) y       xd yd (- spread 1.00))
       (spread-light (+ x xd) (+ y 1) xd yd (- spread 1.41))]
      ; Spread in the y direction
      [else
       (spread-light (- x 1) (+ y yd) xd yd (- spread 1.41))
       (spread-light x       (+ y yd) xd yd (- spread 1.00))
       (spread-light (+ x 1) (+ y yd) xd yd (- spread 1.41))]))

  ; Spread in the four directions
  (let ([player-x (pt-x (thing-get player 'location))]
        [player-y (pt-y (thing-get player 'location))]
        [player-v (thing-get player 'view-range 5)])
    (spread-light player-x player-y -1  0 player-v)
    (spread-light player-x player-y  1  0 player-v)
    (spread-light player-x player-y  0 -1 player-v)
    (spread-light player-x player-y  0  1 player-v)))</code></pre>
<p>Hopefully that all makes sense. One sneaky trick is reducing the <code>spread</code> by 1 on the orthogonal moves and 1.41 (roughly <span>\( sqrt(2) \)</span>) on the diagonals. This will give us a nice circle.</p>
<p>Let's see what an effect that has on the game:</p>
<p><a data-toggle="lightbox" href="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/nice-circle.png"><img src="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/nice-circle.png" /></a></p>
<p>Starting out, we have a nice circle. So far, it looks pretty much the same as it did last time.</p>
<p><a data-toggle="lightbox" href="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/trees-cast-shadows.png"><img src="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/trees-cast-shadows.png" /></a></p>
<p>Shadows! I can't tell you how excited this makes me. :)</p>
<p><a data-toggle="lightbox" href="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/over-troubled-waters.png"><img src="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/over-troubled-waters.png" /></a></p>
<p>And it works perfectly with water as well. We can see over the water, but we can't walk through it.</p>
<p><a data-toggle="lightbox" href="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/missing-something.png"><img src="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/missing-something.png" /></a></p>
<p>Unfortunately though, I haven't had any luck yet finding a staircase...</p>
<p><a data-toggle="lightbox" href="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/no-more-xray-vision.png"><img src="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/no-more-xray-vision.png" /></a></p>
<p>Finally, we're down a level. It's nice to see<span class="footnote"><sup><a href="#footnote-5">[5]</a></sup></span>: no more x-ray vision! It does look a bit weird to have all the nice thin walls around, but it looks a lot better once you get used to it.</p>
<p><a data-toggle="lightbox" href="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/there-are-rats.png"><img src="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/there-are-rats.png" /></a></p>
<p>Theoretically, the player shouldn't be able to hear updates from entities that aren't visible. That would actually be pretty easy to implement (just check for the lighting in the logging function), but for the moment, I like the atmosphere it gives.</p>
<p><a data-toggle="lightbox" href="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/still-no-rats.png"><img src="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness/still-no-rats.png" /></a></p>
<p>All that time wandering about and I still haven't actually found any of those rats to fight. I wanted to show that it won't draw them unless they're in a lit area. Sigh. So it goes.</p>
<p>Well, that's all we have for today. It's kind of amazing how much difference so few lines can make<span class="footnote"><sup><a href="#footnote-6">[6]</a></sup></span>.</p>
<p>As always, if you'd like to see all of the code for this project, you can do so on GitHub: - <a title="Racket Roguelike on GitHub" href="https://github.com/jpverkamp/racket-roguelike/tree/day-7">Racket Roguelike - Day 7</a> - <a title="Racket Roguelike on GitHub" href="https://github.com/jpverkamp/racket-roguelike">Racket Roguelike - Up to date</a></p>
<p>If you'd like to try it yourself, you'll need to have both <a href="http://git-scm.com/">Git</a> and <a href="http://racket-lang.org/">Racket</a> and run the following series of commands:</p>
<pre class="bash"><code>git clone git://github.com/jpverkamp/racket-roguelike.git
cd racket-roguelike
git checkout day-7
git submodule init
git submodule update
racket main.rkt</code></pre>
<p>For part 8, click here: <a href="http://jpverkamp.github.io/2013/06/21/racket-roguelike-8-a-million-words">Racket Roguelike 8: A million words!</a></p>
<div><h3 class="ranking-title">Racket Roguelike</h3><ol><li><a href="http://jpverkamp.github.io/2013/04/04/racket-roguelike-1-a-gui-screens-io-and-you">Racket Roguelike 1: A GUI, screens, I/O, and you!</a></li><li><a href="http://jpverkamp.github.io/2013/04/11/racket-roguelike-2-infinite-caves">Racket Roguelike 2: Infinite caves!</a></li><li><a href="http://jpverkamp.github.io/2013/04/18/racket-roguelike-3-rats-rats-everywhere">Racket Roguelike 3: Rats, rats, everywhere!</a></li><li><a href="http://jpverkamp.github.io/2013/04/25/racket-roguelike-4-slightly-smarter-critters">Racket Roguelike 4: Slightly smarter critters!</a></li><li><a href="http://jpverkamp.github.io/2013/05/02/racket-roguelike-5-armors-and-weapons-and-potions-oh-my">Racket Roguelike 5: Armors and weapons and potions, oh my!</a></li><li><a href="http://jpverkamp.github.io/2013/05/10/racket-roguelike-6-dig-deeper">Racket Roguelike 6: Dig deeper!</a></li><li><a href="http://jpverkamp.github.io/2013/05/17/racket-roguelike-7-into-darkness">Racket Roguelike 7: Into darkness!</a></li></ol></div>
                </div>
                <div class="entry-footnotes">
                        <div id="footnotes"><ol><li><a name="footnote-1"></a>Always a good sign when you find yourself actually playing your own game...</li><li><a name="footnote-2"></a>And defined only once to save just a bit on performance; we're going to have to look at that soon...</li><li><a name="footnote-3"></a>Read: will</li><li><a name="footnote-4"></a>Which may or may not be the standard way of doing it</li><li><a name="footnote-5"></a>Believe it or not, pun not intended</li><li><a name="footnote-6"></a>According to the git diff, 26 lines removed and 111 added</li></ol></div>
                </div>

                <div id="disqus_thread"></div>
<script type="text/javascript">
var disqus_shortname = "jverkamp";
var disqus_title = "Racket Roguelike 7: Into darkness!";
var disqus_url = "http://blog.jverkamp.com/2013/05/17/racket-roguelike-7-into-darkness/";
/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </article>

        <footer class="container" role="contentinfo">
                <nav class="navbar navbar-default" role="navigation"><ul class="nav navbar-nav nav-justified"><li><a href="http://jpverkamp.github.io/2013/05/16/pain-gain">← Pain &amp; Gain</a></li><li><a href="http://jpverkamp.github.io/category/archives">Archives</a></li><li><a href="http://jpverkamp.github.io/2013/05/18/t-minus-14">T Minus 14 →</a></li></ul><ul class="nav navbar-nav nav-justified"><li><a href="http://jpverkamp.github.io/2013/05/10/racket-roguelike-6-dig-deeper">← Racket Roguelike 6: Dig deeper!</a></li><li><a href="http://jpverkamp.github.io/category/programming">Programming</a></li><li><a href="http://jpverkamp.github.io/2013/05/21/ludum-dare-26-vtanks-results">Ludum Dare 26 -- VTanks -- Results →</a></li></ul></nav>

                <div class="legal">
                        All posts unless otherwise mentioned are licensed under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" /></a><br />
                        Any source code unless otherwise mentioned is licensed under the <a href="http://directory.fsf.org/wiki/License:BSD_3Clause">3 clause BSD license</a>
                </div>
        </footer>
</body>
</html>