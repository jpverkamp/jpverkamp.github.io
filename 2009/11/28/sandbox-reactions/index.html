<!doctype html><html><head><title>Sandbox - Reactions – jverkamp.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><link rel=alternate type=application/atom+xml title="jverkamp.com (Atom 2.0)" href=//blog.jverkamp.com/feed/><script src=/jquery_17422284542669262002.min.834c1e2313951f0c25b90152fe8b62250eab4a2e8cbd2560fa1a1cdc91c71733.js integrity="sha256-g0weIxOVHwwluQFS/otiJQ6rSi6MvSVg+hoc3JHHFzM=" defer></script><script src=/jquery.fancybox_16245765822111608191.min.ef050764ff69f3287c89ff655825479dd8304dcd9bc653d1ddd4772a701ad445.js integrity="sha256-7wUHZP9p8yh8if9lWCVHndgwTc2bxlPR3dR3KnAa1EU=" defer></script><script src=/katex_17296078054267651618.min.deed0e78a77391517d530a00324ce7b760ac204134992ef22d36f583615ae498.js integrity="sha256-3u0OeKdzkVF9UwoAMkznt2CsIEE0mS7yLTb1g2Fa5Jg=" defer></script><script src=/auto-render_14944144240389301023.min.e694d9d5eae2917984179683ead27b998784a81398e8836c369373d2c67fc32a.js integrity="sha256-5pTZ1erikXmEF5aD6tJ7mYeEqBOY6INsNpNz0sZ/wyo=" defer></script><script src=/bigfoot_28293813221957978.min.af671f08986f0a2267c5a0cb2748b005489e47fa25f55479b200e2a563d23022.js integrity="sha256-r2cfCJhvCiJnxaDLJ0iwBUieR/ol9VR5sgDipWPSMCI=" defer></script><script src=/mermaid_9520146763733687737.min.bfe50b47c0387e3c3bf97ec5f338bba94f7ccb02f962a4aec8cf0b4d68c8434d.js integrity="sha256-v+ULR8A4fjw7+X7F8zi7qU98ywL5YqSuyM8LTWjIQ00=" defer></script><script src=/main.min.d60298c89fc4f1e938aceb45c60926efee8b03efc8b50683082e669a100da643.js integrity="sha256-1gKYyJ/E8ek4rOtFxgkm7+6LA+/ItQaDCC5mmhANpkM=" defer></script><link rel=stylesheet href=/katex_13658330645258633971.min.64e42891d651aee0b8cd02ec9227ff271d37bcf06dae985d1acf0eba1623e850.css integrity="sha256-ZOQokdZRruC4zQLskif/Jx03vPBtrphdGs8OuhYj6FA="><link rel=stylesheet href=/bigfoot-default_8781527669040159104.min.0d2b289fa3451447692959fcee5676b846532fe7ab50ddc4660824c42d4adcd7.css integrity="sha256-DSson6NFFEdpKVn87lZ2uEZTL+erUN3EZggkxC1K3Nc="><link rel=stylesheet href=/jquery.fancybox_5330465509389191777.min.67505d77381ebd82623ab9296c1989c44ec828d867c00296e80e52ef860cac37.css integrity="sha256-Z1BddzgevYJiOrkpbBmJxE7IKNhnwAKW6A5S74YMrDc="><link rel=stylesheet href=/css_1846377409604050217.min.fffe842bc000dd1fe8661ac6427a392a08faa95e8edab1ea7fb98c5f8dac6a6f.css integrity="sha256-//6EK8AA3R/oZhrGQno5Kgj6qV6O2rHqf7mMX42sam8="><link rel=stylesheet href=/main.min.b60cba31b8c292392a2d336408f8f344e261df78516eb17bcf029173b24a42b5.css integrity="sha256-tgy6MbjCkjkqLTNkCPjzROJh33hRbrF7zwKRc7JKQrU="></head><body><div id=wrapper><header id=page-header role=banner><h1><a href=/>JP's Blog</a></h1><ul id=page-header-links><li><a href=https://github.com/jpverkamp>GitHub</a> *
<a href=https://www.flickr.com/photos/jpverkamp>Flickr</a> *
<a href=/resume>Resume</a></li><li><form action=/search/ method=get class="navbar-form navbar-right" role=search _lpchecked=1><div class=form-group><input name=q type=text class=form-control placeholder=Search>
<button type=submit class="btn btn-default" value=Search>Search</button></div></form></li></ul><nav id=header-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=https://blog.jverkamp.com/home-automation/>Home Automation</a></li><li><a href=https://blog.jverkamp.com/reviews/>Reviews</a></li><li><a href=https://blog.jverkamp.com/programming/>Programming</a></li><li><a href=https://blog.jverkamp.com/photography/>Photography</a></li><li><a href=https://blog.jverkamp.com/maker/>Maker</a></li><li><a href=https://blog.jverkamp.com/writing/>Writing</a></li><li><a href=https://blog.jverkamp.com/research/>Research</a></li><li><a href=https://blog.jverkamp.com/search/>Search</a></li><li class=subscription data-subscription=rss><a href=/atom.xml rel=subscribe-rss title="subscribe via RSS">RSS</a></li></ul></nav></header><div id=page-content-wrapper><div id=page-content><article data-pagefind-body><header><h1 class=entry-title data-pagefind-meta=title>Sandbox - Reactions</h1><div class=entry-meta><span class=entry-date>2009-11-28</span></div><div class=entry-taxonomies><div class=entry-tags><ul class=taxonomy-keys><li><a class=taxonomy-key href=/programming/languages/>Languages</a><ul class=taxonomy-values><li><a href=https://blog.jverkamp.com/2009/11/28/sandbox-and-so-it-begins/ class=previous-link></a><a class=taxonomy-value href=/programming/languages/.net>.NET</a><a href=https://blog.jverkamp.com/2009/11/29/sandbox-interactivity/ class=next-link></a></li><li><a href=https://blog.jverkamp.com/2009/11/28/sandbox-and-so-it-begins/ class=previous-link></a><a class=taxonomy-value href=/programming/languages/c>C#</a><a href=https://blog.jverkamp.com/2009/11/29/sandbox-interactivity/ class=next-link></a></li></ul></li><li><a class=taxonomy-key href=/programming/topics/>Topics</a><ul class=taxonomy-values><li><a href=https://blog.jverkamp.com/2009/11/28/sandbox-and-so-it-begins/ class=previous-link></a><a class=taxonomy-value href=/programming/topics/falling-sand>Falling Sand</a><a href=https://blog.jverkamp.com/2009/11/29/sandbox-interactivity/ class=next-link></a></li><li><a href=https://blog.jverkamp.com/2009/11/28/sandbox-and-so-it-begins/ class=previous-link></a><a class=taxonomy-value href=/programming/topics/games>Games</a><a href=https://blog.jverkamp.com/2009/11/29/sandbox-interactivity/ class=next-link></a></li></ul></li><li><a class=taxonomy-key href=/programming>programming</a><ul><li><a href=https://blog.jverkamp.com/2009/11/28/sandbox-and-so-it-begins/ class=previous-link>Prev</a>
<a href=https://blog.jverkamp.com/2009/11/29/sandbox-interactivity/ class=next-link>Next</a></ul></li><li><a class=taxonomy-key href=/>All Posts</a><ul><li><a href=https://blog.jverkamp.com/2009/11/28/sandbox-and-so-it-begins/ class=previous-link>Prev</a>
<a href=https://blog.jverkamp.com/2009/11/29/sandbox-interactivity/ class=next-link>Next</a></ul></li></ul></div></div></header><div class=entry-content><p>So I stayed up entirely too late last night / this morning and decided to go ahead and add reacti0ns to Sandbox.  Turns out, it was far easier than anything that I&rsquo;ve implemented thus far on this project.  I spent some of the day (when I wasn&rsquo;t at the family Thanksgiving celebration) tweaking a few things to make it look a little better.</p><p>Basically, reactions have four parts: a core, reactants, a chance, and (possibly) a product.  The core is the particle that will be reacting.  The reactants (each given with a concentration) are the neighboring particles.  The chance adds a bit of randomness to reactions and allows particles to fade (see the fire below).  The product (if present) is the result of the reaction.</p><p>Overall, it&rsquo;s a pretty simple system with some pretty awesome effects.  Check out the screenshots and downloads towards the end.</p><p><strong>Current progress:</strong></p><ul><li>Added reactions based on reactants and/or random chance.</li><li>Added definitions for plants (grown when watered) and fire (burn plants).</li></ul><p><strong>Things to do:</strong></p><ul><li>Allow the user to paint the canvas with different materials.</li><li>Add emitters.</li></ul><p><strong>Screenshots:</strong></p><p><strong><figure><img src=/embeds/2009/Sandbox-0.1.2-A-drop-to-drink.png></figure></strong></p><p>The blue at the top is water falling downwards.  The red in the middle represents a torch (that won&rsquo;t go out even with the water pouring over it).  The green line along the bottom is a plant base.  The basic idea is that the water will fall onto the plants, the plants will grow up to the torch, and the torch will burn the plant back down.</p><figure><img src=/embeds/2009/Sandbox-0.1.2-Growing.png></figure><p>For how simple the system is, the plants actually look pretty good when they grow.  It&rsquo;s called <a href=https://en.wikipedia.org/wiki/emergence>emergence</a>and is one of the tenets of <a href=https://en.wikipedia.org/wiki/swarm%20intelligence>swarm intelligence</a>&ndash;one of the parts of <a href=https://en.wikipedia.org/wiki/artificial%20intelligence>artificial intelligence</a> I am particularly interested in.  In any case, the plants have just about reached the fire.</p><figure><img src=/embeds/2009/Sandbox-0.1.2-Spreading-flames.png></figure><p>Then the fire reaches the plants!  It&rsquo;s rather spectacular as the plants try to grow up while the fire is burning them down.  I modeled the actual behavior of the fire using two types of particles: fire and sparks.  Fire is modeled as a gas (flowing upwards) and will randomly convert into sparks (falling down) so that it can more easily burn the plants beneath it.</p><figure><img src=/embeds/2009/Sandbox-0.1.2-Burnt-out.png></figure><p>Due to a bug in how the grid is arranged, the line of plants along the bottom is not actually checking if it should be on fire (it&rsquo;s on the top of an inactive region) so it&rsquo;s not actually burning.  I&rsquo;ve already fixed this issue and I&rsquo;ll put it in with the definitions for the next version.  In any case, here you can see the plants growing just fast enough to create a more or less continual fire at the base of the falling water.</p><p><strong>Downloads:</strong></p><ul><li><figure><a href=Sandbox-0.1.2.zip><img src=/embeds/2009/Sandbox%200.1.2></a></figure></li><li><figure><a href=Sandbox-0.1.2-Source.zip><img src=/embeds/2009/Sandbox%200.1.2%20%28Source%29></a></figure></li></ul><p><strong>Keyboard shortcuts:</strong></p><ul><li>Esc/Q – Quit the program</li><li>F1 – Toggle region display mode</li><li>B – Toggle border behavior (does not correctly reactivate particles yet)</li><li>P – Pause / Unpause</li><li>Space – Advance the simulation one step (when paused)</li></ul></div></article></div></div><footer id=page-footer role=contentinfo><nav id=footer-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=/archive-by-date/>All posts: By Date</a></li><li><a href=/archive-by-tag/>All posts: By Tag</a></li><li><a href=/atom.xml>RSS: All <sup><svg width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li><li><a href=/programming/atom.xml>RSS: programming<sup><svg width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li></ul></nav><div id=page-footer-content data-pagefind-ignore=all><div class=legal><p>All posts unless otherwise mentioned are licensed under
<a rel=license href=//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US><img alt="Creative Commons License" style=border-width:0 src=//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png></a></p><p>Any source code unless otherwise mentioned is licensed under the <a href=//directory.fsf.org/wiki/License:BSD_3Clause>3 clause BSD license</a></p></div></div></footer></div></body></html>