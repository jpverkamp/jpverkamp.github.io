<!DOCTYPE html>
<html onclick >
<head>
    <title>Sandbox - Reactions – jverkamp.com</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8"><link rel="alternate" type="application/atom+xml" title="jverkamp.com (Atom 2.0)" href="//blog.jverkamp.com/feed/">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.css" integrity="sha384-exe4Ak6B0EoJI0ogGxjJ8rn+RN3ftPnEQrGwX59KTCl5ybGzvHGKjhPKk/KC3abb" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bigfoot/2.1.4/bigfoot-default.min.css" integrity="sha256-s0KLB0LnI5oqhHF8gkgfmxU4usUFEHlWJTxT8q72Tq4=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous" />

<link href="https://fonts.googleapis.com/css?family=Spectral+SC|Lato|Share+Tech+Mono" rel="stylesheet">

<link rel="stylesheet" href="/custom.css" defer />

    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
</head>
<body>
    <div id="wrapper"><header id="page-header" role="banner">
    <h1><a href="/">JP's Blog</a></h1>

    <ul id="page-header-links">
        <li>
            <a href="https://github.com/jpverkamp">GitHub</a> *
            <a href="https://www.flickr.com/photos/jpverkamp">Flickr</a> *
            <a href="/resume">Resume</a>
        </li>
        <li>
            <form action="//www.google.com/search" method="get" onsubmit="(function(obj){obj.q.value='site:blog.jverkamp.com '+obj.qfront.value;})(this)" class="navbar-form navbar-right" role="search" _lpchecked="1">
                <div class="form-group">
                    <input name="q" type="hidden">
                    <input name="qfront" type="text" class="form-control" placeholder="Search">
                    <button type="submit" class="btn btn-default" value="Search">Search</button>
                </div>
            </form>
        </li>
    </ul>

    <nav id="header-navigation" role="navigation" class="ribbon">
        <ul class="main-navigation"><li><a href="https://blog.jverkamp.com/photography/">Photography</a></li><li><a href="https://blog.jverkamp.com/reviews/">Reviews</a></li><li><a href="https://blog.jverkamp.com/programming/">Programming</a></li><li><a href="https://blog.jverkamp.com/maker/">Maker</a></li><li><a href="https://blog.jverkamp.com/writing/">Writing</a></li><li><a href="https://blog.jverkamp.com/research/">Research</a></li><li class="subscription" data-subscription="rss"><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
        </ul>
    </nav>
</header>
<div id="page-content-wrapper">
            <div id="page-content"><article>
	<header>
		<h1 class="entry-title">Sandbox - Reactions</h1>

        <div class="entry-meta"><span class="entry-date">2009-11-28</span>
            </div>

        <div class="entry-taxonomies"><div class="entry-tags"><ul class="taxonomy-keys"><li>
            <a class="taxonomy-key" href="/programming/languages/">Languages</a>
            <ul class="taxonomy-values"><li><a href="https://blog.jverkamp.com/2009/11/28/sandbox-and-so-it-begins/" class="previous-link"></a><a class="taxonomy-value" href="/programming/languages/.net">.NET</a><a href="https://blog.jverkamp.com/2009/11/29/sandbox-interactivity/" class="next-link"></a></li><li><a href="https://blog.jverkamp.com/2009/11/28/sandbox-and-so-it-begins/" class="previous-link"></a><a class="taxonomy-value" href="/programming/languages/c">C#</a><a href="https://blog.jverkamp.com/2009/11/29/sandbox-interactivity/" class="next-link"></a></li></ul>
        </li><li>
            <a class="taxonomy-key" href="/programming/topics/">Topics</a>
            <ul class="taxonomy-values"><li><a href="https://blog.jverkamp.com/2009/11/28/sandbox-and-so-it-begins/" class="previous-link"></a><a class="taxonomy-value" href="/programming/topics/games">Games</a><a href="https://blog.jverkamp.com/2009/11/29/sandbox-interactivity/" class="next-link"></a></li></ul>
        </li><li><a class="taxonomy-key" href="/programming">programming</a>
            <ul>
                <li><a href="https://blog.jverkamp.com/2009/11/28/sandbox-and-so-it-begins/" class="previous-link">Prev</a>
                <a href="https://blog.jverkamp.com/2009/11/29/sandbox-interactivity/" class="next-link">Next</a></ul>
        </li><li><a class="taxonomy-key" href="/">All Posts</a>
            <ul>
                <li><a href="https://blog.jverkamp.com/2009/11/28/sandbox-and-so-it-begins/" class="previous-link">Prev</a>
                <a href="https://blog.jverkamp.com/2009/11/29/sandbox-interactivity/" class="next-link">Next</a></ul>
        </li></ul>
</div>
</div>
    </header>

	<div class="entry-content"><p>So I stayed up entirely too late last night / this morning and decided to go ahead and add reacti0ns to Sandbox.  Turns out, it was far easier than anything that I&rsquo;ve implemented thus far on this project.  I spent some of the day (when I wasn&rsquo;t at the family Thanksgiving celebration) tweaking a few things to make it look a little better.</p>

<p>Basically, reactions have four parts: a core, reactants, a chance, and (possibly) a product.  The core is the particle that will be reacting.  The reactants (each given with a concentration) are the neighboring particles.  The chance adds a bit of randomness to reactions and allows particles to fade (see the fire below).  The product (if present) is the result of the reaction.</p>

<p>Overall, it&rsquo;s a pretty simple system with some pretty awesome effects.  Check out the screenshots and downloads towards the end.</p>

<p><strong>Current progress:</strong></p>

<ul>
<li>Added reactions based on reactants and/or random chance.</li>
<li>Added definitions for plants (grown when watered) and fire (burn plants).</li>
</ul>

<p><strong>Things to do:</strong></p>

<ul>
<li>Allow the user to paint the canvas with different materials.</li>
<li>Add emitters.</li>
</ul>

<p><strong>Screenshots:</strong></p>

<p><strong><figure>
    <img src="/embeds/2009/Sandbox-0.1.2-A-drop-to-drink.png"/> 
</figure>
</strong></p>

<p>The blue at the top is water falling downwards.  The red in the middle represents a torch (that won&rsquo;t go out even with the water pouring over it).  The green line along the bottom is a plant base.  The basic idea is that the water will fall onto the plants, the plants will grow up to the torch, and the torch will burn the plant back down.</p>

<figure>
    <img src="/embeds/2009/Sandbox-0.1.2-Growing.png"/> 
</figure>


<p>For how simple the system is, the plants actually look pretty good when they grow.  It&rsquo;s called <a href="https://en.wikipedia.org/wiki/emergence">emergence</a>and is one of the tenets of <a href="https://en.wikipedia.org/wiki/swarm%20intelligence">swarm intelligence</a>&ndash;one of the parts of <a href="https://en.wikipedia.org/wiki/artificial%20intelligence">artificial intelligence</a> I am particularly interested in.  In any case, the plants have just about reached the fire.</p>

<figure>
    <img src="/embeds/2009/Sandbox-0.1.2-Spreading-flames.png"/> 
</figure>


<p>Then the fire reaches the plants!  It&rsquo;s rather spectacular as the plants try to grow up while the fire is burning them down.  I modeled the actual behavior of the fire using two types of particles: fire and sparks.  Fire is modeled as a gas (flowing upwards) and will randomly convert into sparks (falling down) so that it can more easily burn the plants beneath it.</p>

<figure>
    <img src="/embeds/2009/Sandbox-0.1.2-Burnt-out.png"/> 
</figure>


<p>Due to a bug in how the grid is arranged, the line of plants along the bottom is not actually checking if it should be on fire (it&rsquo;s on the top of an inactive region) so it&rsquo;s not actually burning.  I&rsquo;ve already fixed this issue and I&rsquo;ll put it in with the definitions for the next version.  In any case, here you can see the plants growing just fast enough to create a more or less continual fire at the base of the falling water.</p>

<p><strong>Downloads:</strong></p>

<ul>
<li><figure><a href="Sandbox-0.1.2.zip">
    <img src="/embeds/2009/Sandbox%200.1.2"/> </a>
</figure>
</li>
<li><figure><a href="Sandbox-0.1.2-Source.zip">
    <img src="/embeds/2009/Sandbox%200.1.2%20%28Source%29"/> </a>
</figure>
</li>
</ul>

<p><strong>Keyboard shortcuts:</strong></p>

<ul>
<li>Esc/Q – Quit the program</li>
<li>F1 – Toggle region display mode</li>
<li>B – Toggle border behavior (does not correctly reactivate particles yet)</li>
<li>P – Pause / Unpause</li>
<li>Space – Advance the simulation one step (when paused)</li>
</ul></div>
</article></div>
        </div><footer id="page-footer" role="contentinfo">
    <nav id="footer-navigation" role="navigation" class="ribbon">
        <ul class="main-navigation">
            <li><a href="/archive-by-date/">All posts: By Date</a></li>
            <li><a href="/archive-by-tag/">All posts: By Tag</a></li>

            <li>
                <a href="/atom.xml">
                    RSS: All <sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24">
    <path fill="white" d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z" />
</svg>
</sup>
                </a>
            </li><li>
                <a href="/programming/atom.xml">
                    RSS: programming<sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24">
    <path fill="white" d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z" />
</svg>
</sup>
                </a>
            </li></ul>
    </nav>

    <div id="page-footer-content">
        <div class="legal">
            <p>
                All posts unless otherwise mentioned are licensed under
                <a rel="license" href="//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US">
                    <img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png">
                </a>
            </p>

            <p>
                Any source code unless otherwise mentioned is licensed under the <a href="//directory.fsf.org/wiki/License:BSD_3Clause">3 clause BSD license</a>
            </p>
        </div>
    </div>
</footer>
</div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.js" integrity="sha256-yDarFEUo87Z0i7SaC6b70xGAKCghhWYAZ/3p+89o4lE=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.js" integrity="sha384-OMvkZ24ANLwviZR2lVq8ujbE/bUO8IR1FdBrKLQBI14Gq5Xp/lksIccGkmKL8m+h" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bigfoot/2.1.4/bigfoot.min.js" integrity="sha256-2ylggML6rCJMc817KbE8Cx+cuxYIM+6bjG2Gpq2g7iU=" crossorigin="anonymous"></script>

<script src="/custom.js"></script>
</body>
</html>
