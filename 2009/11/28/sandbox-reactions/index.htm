<!DOCTYPE html>
<html>
<head>
        
        

        <title>Sandbox - Reactions | jverkamp.com | John-Paul Verkamp</title>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" />
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css" />
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/3.0.3a/ekko-lightbox.min.css" />
        <script src="//cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/3.0.3a/ekko-lightbox.min.js"></script>

        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.transit/0.9.9/jquery.transit.min.js"></script>

        <!-- Highlight.js for syntax highlighting -->
        <link rel="stylesheet" href="/highlight/styles/tomorrow-night.css" />
        <script src="/highlight/highlight.pack.js"></script>

        <!-- MathJax for LaTeX support -->
        <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- nanoGallery for Flickr Galleries -->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/nanogallery/4.4.2/css/themes/light/nanogallery_light.css" />
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/nanogallery/4.4.2/jquery.nanogallery.min.js"></script>

        <!-- Any custom CSS or JS that I've written; this should be kept minimal -->
        <link rel="stylesheet" href="/custom.css" />
        <script src="/custom.js"></script>

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
        <header class="container">
        <nav class="navbar navbar-default" role="navigation">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://blog.jverkamp.com"><span style="color: green;">jv</span>erkamp.com</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav"><li class="dropdown"><a href="http://blog.jverkamp.com/category/archives" class="dropdown-toggle">Archives<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/archives/2004">2004</a></li><li><a href="http://blog.jverkamp.com/category/archives/2005">2005</a></li><li><a href="http://blog.jverkamp.com/category/archives/2006">2006</a></li><li><a href="http://blog.jverkamp.com/category/archives/2007">2007</a></li><li><a href="http://blog.jverkamp.com/category/archives/2008">2008</a></li><li><a href="http://blog.jverkamp.com/category/archives/2009">2009</a></li><li><a href="http://blog.jverkamp.com/category/archives/2010">2010</a></li><li><a href="http://blog.jverkamp.com/category/archives/2011">2011</a></li><li><a href="http://blog.jverkamp.com/category/archives/2012">2012</a></li><li><a href="http://blog.jverkamp.com/category/archives/2013">2013</a></li><li><a href="http://blog.jverkamp.com/category/archives/2014">2014</a></li></ul></li><li class="dropdown"><a href="http://blog.jverkamp.com/category/other" class="dropdown-toggle">Other<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/other/board-game-reviews">Board Game Reviews</a></li><li><a href="http://blog.jverkamp.com/category/other/cooking">Cooking</a></li><li><a href="http://blog.jverkamp.com/category/other/movie-reviews">Movie Reviews</a></li></ul></li><li class="dropdown"><a href="http://blog.jverkamp.com/category/photography" class="dropdown-toggle">Photography<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/photography/dp-challenge">DP Challenge</a></li><li><a href="http://blog.jverkamp.com/category/photography/photosets">Photosets</a></li><li><a href="http://blog.jverkamp.com/category/photography/photosynth">Photosynth</a></li></ul></li><li class="dropdown"><a href="http://blog.jverkamp.com/category/programming" class="dropdown-toggle">Programming<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/programming/by-language">By Language</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-project">By Project</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-source">By Source</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-topic">By Topic</a></li><li><a href="http://blog.jverkamp.com/category/programming/libraries">Libraries</a></li></ul></li><li class="dropdown"><a href="http://blog.jverkamp.com/category/research" class="dropdown-toggle">Research<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/research/by-topic">By Topic</a></li><li><a href="http://blog.jverkamp.com/category/research/publications">Publications</a></li></ul></li><li class="dropdown"><a href="http://blog.jverkamp.com/category/writing" class="dropdown-toggle">Writing<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/writing/by-genre">By Genre</a></li><li><a href="http://blog.jverkamp.com/category/writing/nanowrimo">NaNoWriMo</a></li><li><a href="http://blog.jverkamp.com/category/writing/novels">Novels</a></li><li><a href="http://blog.jverkamp.com/category/writing/other">Other</a></li><li><a href="http://blog.jverkamp.com/category/writing/short-stories">Short Stories</a></li></ul></li></ul>

      <!--
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search">
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
        </header>

        <article class="container">
                <header>
                        <h1 class="entry-title">Sandbox - Reactions</h1>

                        <div class="entry-meta">
                                <span class="posted-on"><time class="entry-date" datetime="2009-11-28"><span class="year">2009</span> <span class="month">Nov</span> <span class="day">28</span></time></span>
                                <span class="tags"><ul class="tag-list list-inline"><li><a href="http://blog.jverkamp.com/category/programming/by-language/c">C#</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-language/net">.NET</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-topic/games">Games</a></li><li><a href="http://blog.jverkamp.com/category/programming">Programming</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-project/games/sandbox">Sandbox</a></li></ul></span>
                        </div>

                        <hr />
                </header>
                <div class="entry-content">
                        <p>So I stayed up entirely too late last night / this morning and decided to go ahead and add reacti0ns to Sandbox.  Turns out, it was far easier than anything that I've implemented thus far on this project.  I spent some of the day (when I wasn't at the family Thanksgiving celebration) tweaking a few things to make it look a little better.</p>
<p>Basically, reactions have four parts: a core, reactants, a chance, and (possibly) a product.  The core is the particle that will be reacting.  The reactants (each given with a concentration) are the neighboring particles.  The chance adds a bit of randomness to reactions and allows particles to fade (see the fire below).  The product (if present) is the result of the reaction.</p>
<!--more-->
<p>Overall, it's a pretty simple system with some pretty awesome effects.  Check out the screenshots and downloads towards the end.</p>
<p><strong>Current progress:</strong></p>
<ul>
        <li>Added reactions based on reactants and/or random chance.</li>
        <li>Added definitions for plants (grown when watered) and fire (burn plants).</li>
</ul>
<p><strong>Things to do:</strong></p>
<ul>
        <li>Allow the user to paint the canvas with different materials.</li>
        <li>Add emitters.</li>
</ul>
<p><strong>Screenshots:</strong></p>
<p><strong><a data-toggle="lightbox" href="http://blog.jverkamp.com/2009/11/28/sandbox-reactions/Sandbox-0.1.2-A-drop-to-drink.png"><img src="http://blog.jverkamp.com/2009/11/28/sandbox-reactions/Sandbox-0.1.2-A-drop-to-drink.png" /></a></strong></p>
<p>The blue at the top is water falling downwards.  The red in the middle represents a torch (that won't go out even with the water pouring over it).  The green line along the bottom is a plant base.  The basic idea is that the water will fall onto the plants, the plants will grow up to the torch, and the torch will burn the plant back down.</p>
<p><a data-toggle="lightbox" href="http://blog.jverkamp.com/2009/11/28/sandbox-reactions/Sandbox-0.1.2-Growing.png"><img src="http://blog.jverkamp.com/2009/11/28/sandbox-reactions/Sandbox-0.1.2-Growing.png" /></a></p>
<p>For how simple the system is, the plants actually look pretty good when they grow.  It's called <a href="https://en.wikipedia.org/wiki/emergence">emergence</a>and is one of the tenets of <a href="https://en.wikipedia.org/wiki/swarm_intelligence">swarm intelligence</a>--one of the parts of <a href="https://en.wikipedia.org/wiki/artificial_intelligence">artificial intelligence</a> I am particularly interested in.  In any case, the plants have just about reached the fire.</p>
<p><a data-toggle="lightbox" href="http://blog.jverkamp.com/2009/11/28/sandbox-reactions/Sandbox-0.1.2-Spreading-flames.png"><img src="http://blog.jverkamp.com/2009/11/28/sandbox-reactions/Sandbox-0.1.2-Spreading-flames.png" /></a></p>
<p>Then the fire reaches the plants!  It's rather spectacular as the plants try to grow up while the fire is burning them down.  I modeled the actual behavior of the fire using two types of particles: fire and sparks.  Fire is modeled as a gas (flowing upwards) and will randomly convert into sparks (falling down) so that it can more easily burn the plants beneath it.</p>
<p><a data-toggle="lightbox" href="http://blog.jverkamp.com/2009/11/28/sandbox-reactions/Sandbox-0.1.2-Burnt-out.png"><img src="http://blog.jverkamp.com/2009/11/28/sandbox-reactions/Sandbox-0.1.2-Burnt-out.png" /></a></p>
<p>Due to a bug in how the grid is arranged, the line of plants along the bottom is not actually checking if it should be on fire (it's on the top of an inactive region) so it's not actually burning.  I've already fixed this issue and I'll put it in with the definitions for the next version.  In any case, here you can see the plants growing just fast enough to create a more or less continual fire at the base of the falling water.</p>
<p><strong>Downloads:</strong></p>
<ul>
        <li><a href="http://blog.jverkamp.com/2009/11/28/sandbox-reactions/Sandbox-0.1.2.zip">Sandbox 0.1.2</a></li>
        <li><a href="http://blog.jverkamp.com/2009/11/28/sandbox-reactions/Sandbox-0.1.2-Source.zip">Sandbox 0.1.2 (Source)</a></li>
</ul>
<p><strong>Keyboard shortcuts:</strong></p>
<ul>
        <li>Esc/Q – Quit the program</li>
        <li>F1 – Toggle region display mode</li>
        <li>B – Toggle border behavior (does not correctly reactivate particles yet)</li>
        <li>P – Pause / Unpause</li>
        <li>Space – Advance the simulation one step (when paused)</li>
</ul>
                </div>
                <div class="entry-footnotes">
                        <div id="footnotes"><ol></ol></div>
                </div>

                <div id="disqus_thread"></div>
<script type="text/javascript">
var disqus_shortname = "jverkamp";
var disqus_title = "Sandbox - Reactions";
var disqus_url = "http://blog.jverkamp.com/2009/11/28/sandbox-reactions/";
/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </article>

        <footer class="container" role="contentinfo">
                <nav class="navbar navbar-default" role="navigation"><ul class="nav navbar-nav nav-justified"><li><a href="http://blog.jverkamp.com/2009/11/28/sandbox-and-so-it-begins">← Sandbox - And so it begins</a></li><li><a href="http://blog.jverkamp.com/category/archives">Archives</a></li><li><a href="http://blog.jverkamp.com/2009/11/29/sandbox-interactivity">Sandbox - Interactivity →</a></li></ul><ul class="nav navbar-nav nav-justified"><li><a href="http://blog.jverkamp.com/2009/11/28/sandbox-and-so-it-begins">← Sandbox - And so it begins</a></li><li><a href="http://blog.jverkamp.com/category/programming">Programming</a></li><li><a href="http://blog.jverkamp.com/2009/11/29/sandbox-interactivity">Sandbox - Interactivity →</a></li></ul></nav>

                <div class="legal">
                        All posts unless otherwise mentioned are licensed under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" /></a><br />
                        Any source code unless otherwise mentioned is licensed under the <a href="http://directory.fsf.org/wiki/License:BSD_3Clause">3 clause BSD license</a>
                </div>
        </footer>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-53688146-1', 'auto');
ga('send', 'pageview');
</script>
</body>
</html>