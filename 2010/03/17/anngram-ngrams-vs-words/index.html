<!DOCTYPE html>
<html onclick >
<head>
    <title>AnnGram - nGrams vs Words – jverkamp.com</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8"><link rel="alternate" type="application/atom+xml" title="jverkamp.com (Atom 2.0)" href="//blog.jverkamp.com/feed/">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.css" integrity="sha384-exe4Ak6B0EoJI0ogGxjJ8rn+RN3ftPnEQrGwX59KTCl5ybGzvHGKjhPKk/KC3abb" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bigfoot/2.1.4/bigfoot-default.min.css" integrity="sha256-s0KLB0LnI5oqhHF8gkgfmxU4usUFEHlWJTxT8q72Tq4=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous" />

<link href="https://fonts.googleapis.com/css?family=Spectral+SC|Lato|Share+Tech+Mono" rel="stylesheet">

<link rel="stylesheet" href="/custom.css" defer />

    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
</head>
<body>
    <div id="wrapper"><header id="page-header" role="banner">
    <h1><a href="/">JP's Blog</a></h1>

    <ul id="page-header-links">
        <li>
            <a href="https://github.com/jpverkamp">GitHub</a> *
            <a href="https://www.flickr.com/photos/jpverkamp">Flickr</a> *
            <a href="/resume">Resume</a>
        </li>
        <li>
            <form action="//www.google.com/search" method="get" onsubmit="(function(obj){obj.q.value='site:blog.jverkamp.com '+obj.qfront.value;})(this)" class="navbar-form navbar-right" role="search" _lpchecked="1">
                <div class="form-group">
                    <input name="q" type="hidden">
                    <input name="qfront" type="text" class="form-control" placeholder="Search">
                    <button type="submit" class="btn btn-default" value="Search">Search</button>
                </div>
            </form>
        </li>
    </ul>

    <nav id="header-navigation" role="navigation" class="ribbon">
        <ul class="main-navigation"><li><a href="https://blog.jverkamp.com/programming/">Programming</a></li><li><a href="https://blog.jverkamp.com/reviews/">Reviews</a></li><li><a href="https://blog.jverkamp.com/maker/">Maker</a></li><li><a href="https://blog.jverkamp.com/photography/">Photography</a></li><li><a href="https://blog.jverkamp.com/writing/">Writing</a></li><li><a href="https://blog.jverkamp.com/research/">Research</a></li><li class="subscription" data-subscription="rss"><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
        </ul>
    </nav>
</header>
<div id="page-content-wrapper">
            <div id="page-content"><article>
	<header>
		<h1 class="entry-title">AnnGram - nGrams vs Words</h1>

        <div class="entry-meta"><span class="entry-date">2010-03-17</span>
            </div>

        <div class="entry-taxonomies"><div class="entry-tags"><ul class="taxonomy-keys"><li>
            <a class="taxonomy-key" href="/programming/languages/">Languages</a>
            <ul class="taxonomy-values"><li><a href="https://blog.jverkamp.com/2010/02/10/anngram-vs-k-means/" class="previous-link"></a><a class="taxonomy-value" href="/programming/languages/.net">.NET</a></li><li><a href="https://blog.jverkamp.com/2010/02/10/anngram-vs-k-means/" class="previous-link"></a><a class="taxonomy-value" href="/programming/languages/c">C#</a></li></ul>
        </li><li>
            <a class="taxonomy-key" href="/programming/topics/">Topics</a>
            <ul class="taxonomy-values"><li><a href="https://blog.jverkamp.com/2010/02/10/anngram-vs-k-means/" class="previous-link"></a><a class="taxonomy-value" href="/programming/topics/computational-linguistics">Computational Linguistics</a><a href="https://blog.jverkamp.com/2010/05/21/flairs-2010-augmenting-n-gram-based-authorship-attribution-with-neural-networks/" class="next-link"></a></li><li><a href="https://blog.jverkamp.com/2010/02/10/anngram-vs-k-means/" class="previous-link"></a><a class="taxonomy-value" href="/programming/topics/natural-language-processing">Natural Language Processing</a></li><li><a href="https://blog.jverkamp.com/2010/02/10/anngram-vs-k-means/" class="previous-link"></a><a class="taxonomy-value" href="/programming/topics/neural-networks">Neural Networks</a></li><li><a href="https://blog.jverkamp.com/2010/02/10/anngram-vs-k-means/" class="previous-link"></a><a class="taxonomy-value" href="/programming/topics/research">Research</a><a href="https://blog.jverkamp.com/2010/05/21/flairs-2010-augmenting-n-gram-based-authorship-attribution-with-neural-networks/" class="next-link"></a></li></ul>
        </li><li><a class="taxonomy-key" href="/research">research</a>
            <ul>
                <li><a href="https://blog.jverkamp.com/2010/02/10/anngram-vs-k-means/" class="previous-link">Prev</a>
                <a href="https://blog.jverkamp.com/2010/05/21/flairs-2010-augmenting-n-gram-based-authorship-attribution-with-neural-networks/" class="next-link">Next</a></ul>
        </li><li><a class="taxonomy-key" href="/">All Posts</a>
            <ul>
                <li><a href="https://blog.jverkamp.com/2010/02/10/anngram-vs-k-means/" class="previous-link">Prev</a>
                <a href="https://blog.jverkamp.com/2010/03/18/%E7%A7%81%E3%81%AE%E7%9F%A5%E3%81%AA%E3%81%84%E5%A0%B4%E6%89%80/" class="next-link">Next</a></ul>
        </li></ul>
</div>
</div>
    </header>

	<div class="entry-content"><p><strong>Overview</strong></p>

<p>For another comparison, I&rsquo;ve been looking for a way to replace the nGrams with another way of turning a document into a vector.  Based on word frequency instead of nGrams, I&rsquo;ve run a number of tests to see how the accuracy and speed of the algorithm compares for the two.</p>

<p><strong>nGrams</strong></p>

<figure>
    <img src="/embeds/2010/SOM-ngram.png"/> 
</figure>


<p>I still intend to look into why the Tragedy of Macbeth does not stay with the rest of Shakespeare&rsquo;s plays.  I still believe that it is because portions of it were possible written by another author.</p>

<p>From Wikipedia:</p>

<p>*The text that survives had been plainly altered by later hands. Most notable is the inclusion of two songs from Thomas Middleton&rsquo;s play The Witch (1615); Middleton is conjectured to have inserted an extra scene involving the witches and Hecate, for these scenes had proven highly popular with audiences. These revisions, which since the Clarendon edition of 1869 have been assumed to include all of Act III, scene v, and a portion of Act IV, scene I, are often indicated in modern texts. *</p>

<p>Soon, I intend to try to remove the noted portions of my copy of the Tragedy of Macbeth to see if that makes it fit better with the others of Shakespeare&rsquo;s plays.</p>

<p>Timing:</p>

<ul>
<li>32.5 seconds, error = 1.14</li>
<li>65.1 seconds, error = 0.54</li>
<li>97.9 seconds, error = 0.27</li>
<li>130.1 seconds, error = 0.11</li>
<li>164.5 seconds, error = 0.04</li>
<li>196.5 seconds, error = 0.01</li>
<li>230.1 seconds, error = 0.006</li>
<li>264.5 seconds, error = 0.002</li>
<li>300.3 seconds, error = 0.0007</li>
<li>336.3 seconds, error = 0.0001</li>
<li>372.5 seconds, complete</li>
</ul>

<p><strong>Words</strong></p>

<figure>
    <img src="/embeds/2010/SOM-words.png"/> 
</figure>


<p>There is still some grouping; however, the groups that would otherwise have been William Blake and the Bible are not as distinct as they are when using nGrams.  This actually makes sense as William Blake uses a less complex set of words on average than Shakespeare, more similar to the writing in many of the books of the Bible.  nGrams, on the other hand, can capture the transitions between words, showing the differences in word usage between Blake and the Bible.</p>

<p>Timing:</p>

<ul>
<li>34.4 seconds, error = 2.33</li>
<li>69.1 seconds, error = 1.38</li>
<li>103.7 seconds, error = 0.64</li>
<li>138.2 seconds, error = 0.25</li>
<li>172.5 seconds, error = 0.10</li>
<li>207.0 seconds, error = 0.03</li>
<li>241.3 seconds, error = 0.01</li>
<li>277.0 seconds, error = 0.004</li>
<li>314.6 seconds, error = 0.001</li>
<li>352.4 seconds, error = 0.0003</li>
<li>390.2 seconds, error = 0.0002</li>
<li>427.8 seconds, error = 0.0001</li>
<li>503.2 seconds, complete</li>
</ul>

<p><strong>Results</strong></p>

<p>Essentially, the nGrams appear to produce better grouping more quickly.  Using the results from my last post, it appears that the SOM part of the code is providing a larger portion of my results, but both parts are working together to improve the results.  Replacing either with an alternative yields poorer results.
The text that survives had been plainly altered by later hands. Most  notable is the inclusion of two songs from <a href="https://en.wikipedia.org/wiki/Thomas%20Middleton">Thomas Middleton</a>&rsquo;s play <em><a href="https://en.wikipedia.org/wiki/The%20Witch">The  Witch</a></em> (1615); Middleton is conjectured to have inserted an extra  scene involving <a href="https://en.wikipedia.org/wiki/Weird%20Sisters">the witches</a> and <a href="https://en.wikipedia.org/wiki/Hecate#Hecate%20in%20literature">Hecate</a>, for these scenes had proven highly popular  with audiences. These revisions, which since the Clarendon edition of  1869 have been assumed to include all of Act III, scene v, and a portion  of Act IV, scene I, are often indicated in modern texts</p></div>
</article></div>
        </div><footer id="page-footer" role="contentinfo">
    <nav id="footer-navigation" role="navigation" class="ribbon">
        <ul class="main-navigation">
            <li><a href="/archive-by-date/">All posts: By Date</a></li>
            <li><a href="/archive-by-tag/">All posts: By Tag</a></li>

            <li>
                <a href="/atom.xml">
                    RSS: All <sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24">
    <path fill="white" d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z" />
</svg>
</sup>
                </a>
            </li><li>
                <a href="/research/atom.xml">
                    RSS: research<sup><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24">
    <path fill="white" d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z" />
</svg>
</sup>
                </a>
            </li></ul>
    </nav>

    <div id="page-footer-content">
        <div class="legal">
            <p>
                All posts unless otherwise mentioned are licensed under
                <a rel="license" href="//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US">
                    <img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png">
                </a>
            </p>

            <p>
                Any source code unless otherwise mentioned is licensed under the <a href="//directory.fsf.org/wiki/License:BSD_3Clause">3 clause BSD license</a>
            </p>
        </div>
    </div>
</footer>
</div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.js" integrity="sha256-yDarFEUo87Z0i7SaC6b70xGAKCghhWYAZ/3p+89o4lE=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.js" integrity="sha384-OMvkZ24ANLwviZR2lVq8ujbE/bUO8IR1FdBrKLQBI14Gq5Xp/lksIccGkmKL8m+h" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bigfoot/2.1.4/bigfoot.min.js" integrity="sha256-2ylggML6rCJMc817KbE8Cx+cuxYIM+6bjG2Gpq2g7iU=" crossorigin="anonymous"></script>

<script src="/custom.js"></script>
</body>
</html>
