<!DOCTYPE html>
<html>
<head>
        
        

        <title>AnnGram - nGrams vs Words | jverkamp.com | John-Paul Verkamp</title>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" />
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css" />
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/3.0.3a/ekko-lightbox.min.css" />
        <script src="//cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/3.0.3a/ekko-lightbox.min.js"></script>

        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.transit/0.9.9/jquery.transit.min.js"></script>

        <!-- Highlight.js for syntax highlighting -->
        <link rel="stylesheet" href="/highlight/styles/tomorrow-night.css" />
        <script src="/highlight/highlight.pack.js"></script>

        <!-- MathJax for LaTeX support -->
        <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- nanoGallery for Flickr Galleries -->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/nanogallery/4.4.2/css/themes/light/nanogallery_light.css" />
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/nanogallery/4.4.2/jquery.nanogallery.min.js"></script>

        <!-- Any custom CSS or JS that I've written; this should be kept minimal -->
        <link rel="stylesheet" href="/custom.css" />
        <script src="/custom.js"></script>

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
        <header class="container">
        <nav class="navbar navbar-default" role="navigation">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://blog.jverkamp.com"><span style="color: green;">jv</span>erkamp.com</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav"><li class="dropdown"><a href="http://blog.jverkamp.com/category/archives" class="dropdown-toggle">Archives<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/archives/2004">2004</a></li><li><a href="http://blog.jverkamp.com/category/archives/2005">2005</a></li><li><a href="http://blog.jverkamp.com/category/archives/2006">2006</a></li><li><a href="http://blog.jverkamp.com/category/archives/2007">2007</a></li><li><a href="http://blog.jverkamp.com/category/archives/2008">2008</a></li><li><a href="http://blog.jverkamp.com/category/archives/2009">2009</a></li><li><a href="http://blog.jverkamp.com/category/archives/2010">2010</a></li><li><a href="http://blog.jverkamp.com/category/archives/2011">2011</a></li><li><a href="http://blog.jverkamp.com/category/archives/2012">2012</a></li><li><a href="http://blog.jverkamp.com/category/archives/2013">2013</a></li><li><a href="http://blog.jverkamp.com/category/archives/2014">2014</a></li></ul></li><li class="dropdown"><a href="http://blog.jverkamp.com/category/other" class="dropdown-toggle">Other<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/other/board-game-reviews">Board Game Reviews</a></li><li><a href="http://blog.jverkamp.com/category/other/cooking">Cooking</a></li><li><a href="http://blog.jverkamp.com/category/other/movie-reviews">Movie Reviews</a></li></ul></li><li class="dropdown"><a href="http://blog.jverkamp.com/category/photography" class="dropdown-toggle">Photography<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/photography/dp-challenge">DP Challenge</a></li><li><a href="http://blog.jverkamp.com/category/photography/photosets">Photosets</a></li><li><a href="http://blog.jverkamp.com/category/photography/photosynth">Photosynth</a></li></ul></li><li class="dropdown"><a href="http://blog.jverkamp.com/category/programming" class="dropdown-toggle">Programming<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/programming/by-language">By Language</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-project">By Project</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-source">By Source</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-topic">By Topic</a></li><li><a href="http://blog.jverkamp.com/category/programming/libraries">Libraries</a></li></ul></li><li class="dropdown"><a href="http://blog.jverkamp.com/category/research" class="dropdown-toggle">Research<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/research/by-topic">By Topic</a></li><li><a href="http://blog.jverkamp.com/category/research/publications">Publications</a></li></ul></li><li class="dropdown"><a href="http://blog.jverkamp.com/category/writing" class="dropdown-toggle">Writing<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="http://blog.jverkamp.com/category/writing/by-genre">By Genre</a></li><li><a href="http://blog.jverkamp.com/category/writing/nanowrimo">NaNoWriMo</a></li><li><a href="http://blog.jverkamp.com/category/writing/novels">Novels</a></li><li><a href="http://blog.jverkamp.com/category/writing/other">Other</a></li><li><a href="http://blog.jverkamp.com/category/writing/short-stories">Short Stories</a></li></ul></li></ul>

      <!--
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search">
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
        </header>

        <article class="container">
                <header>
                        <h1 class="entry-title">AnnGram - nGrams vs Words</h1>

                        <div class="entry-meta">
                                <span class="posted-on"><time class="entry-date" datetime="2010-03-17"><span class="year">2010</span> <span class="month">Mar</span> <span class="day">17</span></time></span>
                                <span class="tags"><ul class="tag-list list-inline"><li><a href="http://blog.jverkamp.com/category/programming/by-language/c">C#</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-language/net">.NET</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-topic/neural-networks">Neural Networks</a></li><li><a href="http://blog.jverkamp.com/category/programming">Programming</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-topic/natural-language-processing">Natural Language Processing</a></li><li><a href="http://blog.jverkamp.com/category/research">Research</a></li><li><a href="http://blog.jverkamp.com/category/programming/by-project/anngram">AnnGram</a></li><li><a href="http://blog.jverkamp.com/category/research/by-topic/computational-linguistics">Computational Linguistics</a></li></ul></span>
                        </div>

                        <hr />
                </header>
                <div class="entry-content">
                        <p><strong>Overview</strong></p>
<p>For another comparison, I've been looking for a way to replace the nGrams with another way of turning a document into a vector.  Based on word frequency instead of nGrams, I've run a number of tests to see how the accuracy and speed of the algorithm compares for the two.</p>
<p><strong>nGrams</strong></p>
<p><a data-toggle="lightbox" href="http://blog.jverkamp.com/2010/03/17/anngram-ngrams-vs-words/SOM-ngram.png"><img src="http://blog.jverkamp.com/2010/03/17/anngram-ngrams-vs-words/SOM-ngram.png" /></a></p>
<p>I still intend to look into why the Tragedy of Macbeth does not stay with the rest of Shakespeare's plays.  I still believe that it is because portions of it were possible written by another author.</p>
<!--more-->
<p>From Wikipedia:</p>
<p><em>The text that survives had been plainly altered by later hands. Most notable is the inclusion of two songs from Thomas Middleton's play The Witch (1615); Middleton is conjectured to have inserted an extra scene involving the witches and Hecate, for these scenes had proven highly popular with audiences. These revisions, which since the Clarendon edition of 1869 have been assumed to include all of Act III, scene v, and a portion of Act IV, scene I, are often indicated in modern texts. </em></p>
<p>Soon, I intend to try to remove the noted portions of my copy of the Tragedy of Macbeth to see if that makes it fit better with the others of Shakespeare's plays.</p>
<p>Timing:</p>
<ul>
        <li>32.5 seconds, error = 1.14</li>
        <li>65.1 seconds, error = 0.54</li>
        <li>97.9 seconds, error = 0.27</li>
        <li>130.1 seconds, error = 0.11</li>
        <li>164.5 seconds, error = 0.04</li>
        <li>196.5 seconds, error = 0.01</li>
        <li>230.1 seconds, error = 0.006</li>
        <li>264.5 seconds, error = 0.002</li>
        <li>300.3 seconds, error = 0.0007</li>
        <li>336.3 seconds, error = 0.0001</li>
        <li>372.5 seconds, complete</li>
</ul>
<p><strong>Words</strong></p>
<p><a data-toggle="lightbox" href="http://blog.jverkamp.com/2010/03/17/anngram-ngrams-vs-words/SOM-words.png"><img src="http://blog.jverkamp.com/2010/03/17/anngram-ngrams-vs-words/SOM-words.png" /></a></p>
<p>There is still some grouping; however, the groups that would otherwise have been William Blake and the Bible are not as distinct as they are when using nGrams.  This actually makes sense as William Blake uses a less complex set of words on average than Shakespeare, more similar to the writing in many of the books of the Bible.  nGrams, on the other hand, can capture the transitions between words, showing the differences in word usage between Blake and the Bible.</p>
<p>Timing:</p>
<ul>
        <li>34.4 seconds, error = 2.33</li>
        <li>69.1 seconds, error = 1.38</li>
        <li>103.7 seconds, error = 0.64</li>
        <li>138.2 seconds, error = 0.25</li>
        <li>172.5 seconds, error = 0.10</li>
        <li>207.0 seconds, error = 0.03</li>
        <li>241.3 seconds, error = 0.01</li>
        <li>277.0 seconds, error = 0.004</li>
        <li>314.6 seconds, error = 0.001</li>
        <li>352.4 seconds, error = 0.0003</li>
        <li>390.2 seconds, error = 0.0002</li>
        <li>427.8 seconds, error = 0.0001</li>
        <li>503.2 seconds, complete</li>
</ul>
<p><strong>Results</strong></p>
<p>Essentially, the nGrams appear to produce better grouping more quickly.  Using the results from my last post, it appears that the SOM part of the code is providing a larger portion of my results, but both parts are working together to improve the results.  Replacing either with an alternative yields poorer results.</p>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 3px; width: 1px; height: 1px; overflow: hidden;">The text that survives had been plainly altered by later hands. Most  notable is the inclusion of two songs from <a href="https://en.wikipedia.org/wiki/Thomas_Middleton">Thomas Middleton</a>'s play <em><a href="https://en.wikipedia.org/wiki/The_ Witch">The Witch</a></em> (1615); Middleton is conjectured to have inserted an extra  scene involving <a href="https://en.wikipedia.org/wiki/the_witches">Weird Sisters</a> and <a href="https://en.wikipedia.org/wiki/Hecate">Hecate#Hecate in literature</a>, for these scenes had proven highly popular  with audiences. These revisions, which since the Clarendon edition of  1869 have been assumed to include all of Act III, scene v, and a portion  of Act IV, scene I, are often indicated in modern texts</div>
                </div>
                <div class="entry-footnotes">
                        <div id="footnotes"><ol></ol></div>
                </div>

                <div id="disqus_thread"></div>
<script type="text/javascript">
var disqus_shortname = "jverkamp";
var disqus_title = "AnnGram - nGrams vs Words";
var disqus_url = "http://blog.jverkamp.com/2010/03/17/anngram-ngrams-vs-words/";
/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </article>

        <footer class="container" role="contentinfo">
                <nav class="navbar navbar-default" role="navigation"><ul class="nav navbar-nav nav-justified"><li><a href="http://blog.jverkamp.com/2010/02/10/anngram-vs-k-means">← AnnGram vs k-means</a></li><li><a href="http://blog.jverkamp.com/category/archives">Archives</a></li><li><a href="http://blog.jverkamp.com/2010/03/18/contrast">私の知ない場所 →</a></li></ul><ul class="nav navbar-nav nav-justified"><li><a href="http://blog.jverkamp.com/2010/02/10/anngram-vs-k-means">← AnnGram vs k-means</a></li><li><a href="http://blog.jverkamp.com/category/programming">Programming</a></li><li><a href="http://blog.jverkamp.com/2010/05/21/flairs-2010-augmenting-n-gram-based-authorship-attribution-with-neural-networks">FLAIRS 2010 -- Augmenting n-gram Based Authorship Attribution With Neural Networks →</a></li></ul><ul class="nav navbar-nav nav-justified"><li><a href="http://blog.jverkamp.com/2010/02/10/anngram-vs-k-means">← AnnGram vs k-means</a></li><li><a href="http://blog.jverkamp.com/category/research">Research</a></li><li><a href="http://blog.jverkamp.com/2010/05/21/flairs-2010-augmenting-n-gram-based-authorship-attribution-with-neural-networks">FLAIRS 2010 -- Augmenting n-gram Based Authorship Attribution With Neural Networks →</a></li></ul></nav>

                <div class="legal">
                        All posts unless otherwise mentioned are licensed under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" /></a><br />
                        Any source code unless otherwise mentioned is licensed under the <a href="http://directory.fsf.org/wiki/License:BSD_3Clause">3 clause BSD license</a>
                </div>
        </footer>
</body>
</html>