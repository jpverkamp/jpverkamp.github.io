<!doctype html><html><head><title>Setting up a Zigbee Tuya IR Blaster â€“ jverkamp.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><link rel=alternate type=application/atom+xml title="jverkamp.com (Atom 2.0)" href=//blog.jverkamp.com/feed/><script src=/jquery_17422284542669262002.min.834c1e2313951f0c25b90152fe8b62250eab4a2e8cbd2560fa1a1cdc91c71733.js integrity="sha256-g0weIxOVHwwluQFS/otiJQ6rSi6MvSVg+hoc3JHHFzM=" defer></script><script src=/jquery.fancybox_16245765822111608191.min.a8e11addf4349ee2ca5045f7f3cbf1febbf2c3a2840be2143ea69539c10f8c7f.js integrity="sha256-qOEa3fQ0nuLKUEX388vx/rvyw6KEC+IUPqaVOcEPjH8=" defer></script><script src=/katex_17296078054267651618.min.4a06464d8d6f8358d8896de62b53b5a89205d335dfd8c5b6b27edd7c039ae9d8.js integrity="sha256-SgZGTY1vg1jYiW3mK1O1qJIF0zXf2MW2sn7dfAOa6dg=" defer></script><script src=/auto-render_14944144240389301023.min.e694d9d5eae2917984179683ead27b998784a81398e8836c369373d2c67fc32a.js integrity="sha256-5pTZ1erikXmEF5aD6tJ7mYeEqBOY6INsNpNz0sZ/wyo=" defer></script><script src=/bigfoot_28293813221957978.min.af671f08986f0a2267c5a0cb2748b005489e47fa25f55479b200e2a563d23022.js integrity="sha256-r2cfCJhvCiJnxaDLJ0iwBUieR/ol9VR5sgDipWPSMCI=" defer></script><script src=/mermaid_9520146763733687737.min.a17078917a4403310cd19178939257b706fb5e1da76167c9f4a6d2123c9d59c4.js integrity="sha256-oXB4kXpEAzEM0ZF4k5JXtwb7Xh2nYWfJ9KbSEjydWcQ=" defer></script><script src=/main.min.d60298c89fc4f1e938aceb45c60926efee8b03efc8b50683082e669a100da643.js integrity="sha256-1gKYyJ/E8ek4rOtFxgkm7+6LA+/ItQaDCC5mmhANpkM=" defer></script><link rel=stylesheet href=/katex_13658330645258633971.min.16bacd59fb224ae6c97a749ab0ac1e708cb5e0c9ce5c9a08d7fd73dc8e69429f.css integrity="sha256-FrrNWfsiSubJenSasKwecIy14MnOXJoI1/1z3I5pQp8="><link rel=stylesheet href=/bigfoot-default_8781527669040159104.min.f15d4faa4519addb976f9d69b42bd9eb491b3596b6b2eda83aa3e9e1f48b8f14.css integrity="sha256-8V1PqkUZrduXb51ptCvZ60kbNZa2su2oOqPp4fSLjxQ="><link rel=stylesheet href=/jquery.fancybox_5330465509389191777.min.7420a1602c62a85d4b50881c1d8ce42f72c049dc2b097d440696425d6e54bb1e.css integrity="sha256-dCChYCxiqF1LUIgcHYzkL3LASdwrCX1EBpZCXW5Uux4="><link rel=stylesheet href=/css_1846377409604050217.min.fffe842bc000dd1fe8661ac6427a392a08faa95e8edab1ea7fb98c5f8dac6a6f.css integrity="sha256-//6EK8AA3R/oZhrGQno5Kgj6qV6O2rHqf7mMX42sam8="><link rel=stylesheet href=/main.min.5ff4b87c40715a96119d8b5f34d971604fc65ab18f4870fd8da6ede9fd1e6188.css integrity="sha256-X/S4fEBxWpYRnYtfNNlxYE/GWrGPSHD9jabt6f0eYYg="></head><body><div id=wrapper><header id=page-header role=banner><h1><a href=/>JP's Blog</a></h1><ul id=page-header-links><li><a href=https://github.com/jpverkamp>GitHub</a> *
<a href=https://www.flickr.com/photos/jpverkamp>Flickr</a> *
<a href=/resume>Resume</a></li><li><form action=/search/ method=get class="navbar-form navbar-right" role=search _lpchecked=1><div class=form-group><input name=q type=text class=form-control placeholder=Search>
<button type=submit class="btn btn-default" value=Search>Search</button></div></form></li></ul><nav id=header-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=https://blog.jverkamp.com/programming/>Programming</a></li><li><a href=https://blog.jverkamp.com/reviews/>Reviews</a></li><li><a href=https://blog.jverkamp.com/maker/>Maker</a></li><li><a href=https://blog.jverkamp.com/photography/>Photography</a></li><li><a href=https://blog.jverkamp.com/home-automation/>Automation</a></li><li><a href=https://blog.jverkamp.com/writing/>Writing</a></li><li><a href=https://blog.jverkamp.com/research/>Research</a></li><li class=subscription data-subscription=rss><a href=/atom.xml rel=subscribe-rss title="subscribe via RSS">RSS</a></li></ul></nav></header><div id=page-content-wrapper><div id=page-content><article data-pagefind-body><header><h1 class=entry-title data-pagefind-meta=title>Setting up a Zigbee Tuya IR Blaster</h1><div class=entry-meta><span class=entry-date>2025-02-07</span></div><div class=entry-taxonomies><div class=entry-tags><ul class=taxonomy-keys><li><a class=taxonomy-key href=/programming/topics/>Topics</a><ul class=taxonomy-values><li><a class=taxonomy-value href=/programming/topics/home-assistant>Home Assistant</a><a href=https://blog.jverkamp.com/2025/02/12/a-kitchen-calendar-display-running-on-an-orange-pi-zero-2w/ class=next-link></a></li><li><a class=taxonomy-value href=/programming/topics/home-automation>Home Automation</a><a href=https://blog.jverkamp.com/2025/02/12/a-kitchen-calendar-display-running-on-an-orange-pi-zero-2w/ class=next-link></a></li><li><a class=taxonomy-value href=/programming/topics/infrared>Infrared</a></li><li><a class=taxonomy-value href=/programming/topics/ir>IR</a></li><li><a class=taxonomy-value href=/programming/topics/tuya>Tuya</a></li><li><a class=taxonomy-value href=/programming/topics/zha>ZHA</a></li><li><a class=taxonomy-value href=/programming/topics/zigbee>Zigbee</a></li></ul></li><li><a class=taxonomy-key href=/home-automation>home-automation</a><ul><li><a href=https://blog.jverkamp.com/2025/02/12/a-kitchen-calendar-display-running-on-an-orange-pi-zero-2w/ class=next-link>Next</a></ul></li><li><a class=taxonomy-key href=/>All Posts</a><ul><li><a href=https://blog.jverkamp.com/2025/02/05/a-man-on-the-inside/ class=previous-link>Prev</a>
<a href=https://blog.jverkamp.com/2025/02/08/spider-gwen-vol.-5-gwenom/ class=next-link>Next</a></ul></li></ul></div></div></header><div class=entry-content><p>I spent long than I would have liked setting up a touch of automation for our home media center setup. Specifically, we have a projector, an HDMI switch, and multiple input devices connected to it (Apple TV, Steam Deck, Switch at the moment).</p><p>There are a few things that are suboptimal with this setup, but so it goes. One thing that&rsquo;s been bothering me for a while is that there&rsquo;s no great way for the switch I have to easily switch devices. It has a remote&mldr; but where&rsquo;s the fun in that? (Plus we lost it for a few months).</p><p>So I took this as a chance to finally set up an IR transmitter with <a href=https://www.home-assistant.io/ target=_blank rel=noopener>Home Assistant</a>, using <a href=https://www.home-assistant.io/integrations/zha/ target=_blank rel=noopener>Zigbee Home Automation</a>!</p><p>It was a bit confusing to get it all working, so I&rsquo;m sharing it half so I can reproduce what I did if I ever need to or so that anyone trying the same can get it working.</p><p>A lot of what I did was based first on <a href=https://smarthomescene.com/reviews/tuya-zigbee-infrared-ir-remote-zs06-review/ target=_blank rel=noopener>this blog post</a>.</p><nav id=TableOfContents><ul><li><a href=#the-hardware>The hardware</a></li><li><a href=#setting-up-a-custom-quirk>Setting up a custom quirk</a></li><li><a href=#learning-ir-codes>Learning IR codes</a></li><li><a href=#setting-up-automation>Setting up automation</a></li><li><a href=#parameterizing-the-script>Parameterizing the script</a></li><li><a href=#overall>Overall</a></li><li><a href=#harmony>Harmony</a></li><li><a href=#the-codes-i-learned>The codes I learned</a></li></ul></nav><h2 id=the-hardware>The hardware</h2><p>First up, the hardware (none of these are affiliate links):</p><ul><li>ConBee II Zigbee Gateway (<a href=https://www.amazon.com/dp/B07PZ7ZHG5 target=_blank rel=noopener>Amazon</a>)</li><li>Tuya IR Remote (<a href=https://www.aliexpress.us/item/3256806627878566.html target=_blank rel=noopener>AliExpress</a>, <a href=https://www.amazon.com/Yitouniu-Conditioner-Universal-Controller-Compatible/dp/B0CCWSYQRW? target=_blank rel=noopener>Amazon</a>?)</li><li>5 port HDMI switch (<a href=https://www.amazon.com/dp/B095H9NF35 target=_blank rel=noopener>Amazon</a>)</li><li>Optoma GT1080Darbee Short Throw Projectr (<a href=https://www.amazon.com/dp/B06XHG92Y5 target=_blank rel=noopener>Amazon</a>)</li></ul><p>The ConBee is plugged into my server to configure Zigbee devices.</p><p>The Tuya IR remote is what actually transmits the IR codes (and can also <a href=#learning-ir-codes>learn them</a>). There are a few options for this locally and on Amazon, but I haven&rsquo;t been able to actually find one that&rsquo;s designed for Zigbee. This one technically can support wifi as well, but it&rsquo;s not necessary, I didn&rsquo;t want it, and I didn&rsquo;t end up configuring it that way.</p><p>The HDMI switch and projector are just what we have. I expect a different switch might make this better and the projector has already caused me some other issues in the past&ndash;specifically, it doesn&rsquo;t support HDMI ARC which would allow me to passthrough audio from the HDMI signal, so I needed an HDMI switch that could do that part for me.</p><h2 id=setting-up-a-custom-quirk>Setting up a custom quirk</h2><p>The next thing I had to do was on the software end. ZHA doesn&rsquo;t (didn&rsquo;t at the time?) support configuring the Tuya IR, so I installed a <a href=https://github.com/ferehcarb/zha-device-handlers/blob/dev/zhaquirks/tuya/ts1201.py target=_blank rel=noopener>&lsquo;custom quirk&rsquo;</a>.</p><p>To do this, you have to manually install and configure the script:</p><ul><li><p>Install to a path in your config directory (like <code>/config/custom_zha_quirks</code>)</p></li><li><p>Update your <code>configuration.yaml</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>zha:
</span></span><span style=display:flex><span>  custom_quirks_path: /config/custom_zha_quirks/
</span></span></code></pre></div></li><li><p>Reboot Home Assistant</p></li></ul><h2 id=learning-ir-codes>Learning IR codes</h2><p>You should now be able to add the device to ZHA just like any other Zigbee device. To see that it&rsquo;s working and that you are actually using the custom Quirk, you should see a configuration like this:</p><p><img src=device.png alt="UI for &lsquo;Device info&rsquo; showing the quirk and IEEE ID"></p><p>Note specifically the <code>Quirk</code> at the bottom there.</p><p>Next up, we can click the three dots there and go into &lsquo;Manage Zigbee device&rsquo;. The <code>Cluster</code> you want is the new <code>ZosungIRControl</code>. Then you can send commands!</p><p>First, a command to put the device into learning mode:</p><p><img src=manage-learn.png alt="UI for &lsquo;Manage Zigbee device&rsquo; showing how to learn IR along with the endpoint, ID, and type"></p><p>(set <code>on_off</code> to <code>true</code>)</p><p>Send that and you should get a blue light on the IR device. Point your remote at it and push a button! If the light goes out, it worked.</p><p>But nothing changed? Well, now you need to switch back to the <code>Attributes</code> tab:</p><p><img src=manage-read.png alt="UI for &lsquo;Manage Zigbee device&rsquo; showing how to read the learned code"></p><p>Once you&rsquo;re there, click <code>Read Attribute</code> and the <code>Value</code> field will be populated. This is exactly the value you will need to transmit to copy whatever the IR remote did in the first place!</p><p>You can actually try this out, back on the <code>Commands</code> tab:</p><p><img src=manage-send.png alt="UI for &lsquo;Manage Zigbee device&rsquo; showing how to send that code"></p><p>Change the command to <code>IRSend</code>, put in that <code>Value</code> as <code>code</code> and send it! Whatever that button on your remote does should now happen.</p><p>Which all pretty cool, but remembering these codes and putting them in this panel is a pain. So let&rsquo;s automate it better!</p><p>(Side note: If you want to see all of the codes I learned, they&rsquo;re <a href=#the-codes-i-learned>available here</a>. I doubt anyone has exactly the same hardware. This is mostly so I have them later. &#x1f604;)</p><h2 id=setting-up-automation>Setting up automation</h2><p>Okay, next up, we&rsquo;re going to set up a Home Assistant script to actually issue these commands for me. In a nutshell:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>action: zha.issue_zigbee_cluster_command
</span></span><span style=display:flex><span>metadata: {}
</span></span><span style=display:flex><span>data:
</span></span><span style=display:flex><span>  cluster_type: in
</span></span><span style=display:flex><span>  ieee: f8:44:77:ff:fe:5a:57:3d
</span></span><span style=display:flex><span>  endpoint_id: 1
</span></span><span style=display:flex><span>  command: 2
</span></span><span style=display:flex><span>  params:
</span></span><span style=display:flex><span>    code: &gt;-
</span></span><span style=display:flex><span>      CRgjChIfArcGHwJAAQJpAh/gAAHAC8AHQCPgFwNAAcAjQDdAA8ABQAtAG0ABwAtAD0ADD8ieGCMBCR8C//8YIwEJHwI=
</span></span><span style=display:flex><span>  command_type: server
</span></span><span style=display:flex><span>  cluster_id: 57348
</span></span></code></pre></div><p>That&rsquo;s what you&rsquo;re going to end up needing, but getting those values right is a bit of a pain&mldr; We&rsquo;ve seen all but one of them in the previous screenshots though!</p><p>The <code>IEEE</code> value is here in the device UI:</p><p><img src=device.png alt="UI for &lsquo;Device info&rsquo; showing the quirk and IEEE ID"></p><p>And the rest are in the <code>Clusters</code> part of <code>Manage Zigbee device</code>:</p><p><img src=manage-learn.png alt="UI for &lsquo;Manage Zigbee device&rsquo; showing how to learn IR along with the endpoint, ID, and type"></p><p>Specifically after <code>ZosungIRControl</code>. The <code>endpoint_id</code> and <code>Type</code> are obvious, but the other one <code>Id</code> is the value for <code>cluster_id</code>. I just converted the hex (<code>0xe004</code>) to decimal (<code>57348</code>). I&rsquo;m not sure which <code>command_type</code> we need, so I tried <code>client</code> (didn&rsquo;t work) and <code>server</code> (did!).</p><p>And that&rsquo;s all you need to send a Zigbee command!</p><p>You can how set up a single script for each and every single one of those!</p><p>But that sounds a bit annoying.</p><h2 id=parameterizing-the-script>Parameterizing the script</h2><p>To fix this, I added a <code>field</code> named <code>device</code> to the script. Specifically, I wanted to have the options <code>1</code> through <code>5</code> plus one for <code>auto</code>. Then I can use template parameters to send the correct code for each to Zigbee!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>alias</span>: <span style=color:#ae81ff>Switch HDMI</span>
</span></span><span style=display:flex><span><span style=color:#f92672>description</span>: <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>icon</span>: <span style=color:#ae81ff>mdi:hdmi-port</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>fields</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>device</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>selector</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>select</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>options</span>:
</span></span><span style=display:flex><span>          - <span style=color:#e6db74>&#34;1&#34;</span>
</span></span><span style=display:flex><span>          - <span style=color:#e6db74>&#34;2&#34;</span>
</span></span><span style=display:flex><span>          - <span style=color:#e6db74>&#34;3&#34;</span>
</span></span><span style=display:flex><span>          - <span style=color:#e6db74>&#34;4&#34;</span>
</span></span><span style=display:flex><span>          - <span style=color:#e6db74>&#34;5&#34;</span>
</span></span><span style=display:flex><span>          - <span style=color:#e6db74>&#34;auto&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>name</span>: <span style=color:#ae81ff>HDMI Port ID</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>default</span>: <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>sequence</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>action</span>: <span style=color:#ae81ff>zha.issue_zigbee_cluster_command</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>metadata</span>: {}
</span></span><span style=display:flex><span>    <span style=color:#f92672>data</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>cluster_type</span>: <span style=color:#ae81ff>in</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>ieee</span>: <span style=color:#ae81ff>f8:44:77:ff:fe:5a:57:3d</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>endpoint_id</span>: <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>command</span>: <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>params</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>code</span>: &gt;-<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          {% if device == &#34;1&#34; %}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          CRgjChIfArcGHwJAAQJpAh/gAAHAC8AHQCPgFwNAAcAjQDdAA8ABQAtAG0ABwAtAD0ADD8ieGCMBCR8C//8YIwEJHwI=
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          {% elif device == &#34;2&#34; %}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          C2gjsxEGAscGBgJiAuAFA0AB4AMTQCPgDwNAJ4AbAGKgBwMGAmIC4AEDQA9AAeAHEwLHBmIgAwkGAt2eaCO4CAYC
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          {% elif device == &#34;3&#34; %}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          DT0jsRECAtAGAgJkAgIC4BMDQCPgEwNAO8AfQAvgBwNAG8ATQAvgAwMPw549IwQJAgL//z0jBAkCAg==
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          {% elif device == &#34;4&#34; %}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          CXEjzxEVAqsGFQJAAQFjAuARA0Aj4A8DQAEBqwZAPQEVAkAFA6sGFQJAAUALQAMBqwZABQMVAqsGQAPACwBjIA+AAwdTnnEjsQhjAg==
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          {% elif device == &#34;5&#34; %}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          C2MjsRFlAr0GBwJlAuAVA0AjgAMAZaAHwA8DBwJlAuABA0AB4AcTQA/gAwNAL+ADDw+nnmMjyQgHAv//YyPJCAcC
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          {% else %}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          C2EjsREAAs0GAAJiAuAVA0Aj4A8DQDuAGwBiYAcBYgLgBQMDzQYAAuADE0AP4AMDD8ueYSPNCAAC//9hI80IAAI=
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          {% endif %}</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>command_type</span>: <span style=color:#ae81ff>server</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>cluster_id</span>: <span style=color:#ae81ff>57348</span>
</span></span></code></pre></div><p>Now, I can directly add that as an <code>Entity</code> to my dashboard. If I click it, it asks which ID I want and then sends the right command:</p><p><img src=run-script-ui.png alt="UI showing script parameter selector"></p><p>But you can also manually specify it for buttons:</p><p><img src=hdmi-buttons.png alt="UI showing the HDMI buttons"></p><p>Switch.</p><p>To configure this, I set up a <code>Grid Card</code> with a <code>Button</code> for each. Here&rsquo;s the configuration for the Apple TV button (on HDMI 1):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Apple TV</span>
</span></span><span style=display:flex><span><span style=color:#f92672>entity</span>: <span style=color:#ae81ff>script.switch_hdmi</span>
</span></span><span style=display:flex><span><span style=color:#f92672>icon</span>: <span style=color:#ae81ff>mdi:apple</span>
</span></span><span style=display:flex><span><span style=color:#f92672>show_name</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#f92672>show_icon</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#f92672>type</span>: <span style=color:#ae81ff>button</span>
</span></span><span style=display:flex><span><span style=color:#f92672>tap_action</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>action</span>: <span style=color:#ae81ff>perform-action</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>perform_action</span>: <span style=color:#ae81ff>script.switch_hdmi</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>data</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>device</span>: <span style=color:#e6db74>&#34;1&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>target</span>: {}
</span></span><span style=display:flex><span><span style=color:#f92672>show_state</span>: <span style=color:#66d9ef>false</span>
</span></span></code></pre></div><p>That <code>tap_action.data.device</code> is any of the IDs we set up as a <code>Field</code> before. You can also configure this in the visual editor, but I couldn&rsquo;t get the <code>device</code> field to populate there until I&rsquo;d already put it in the YAML, so YMMV.</p><p>It was fun to find that the built in Home Assistant icons include ones for Apple, the Steam Deck, and a Switch. &#x1f604;</p><h2 id=overall>Overall</h2><p>And&mldr; that&rsquo;s it! For now. I&rsquo;m going to eventually set up some automations where you can say or push a button for &lsquo;watch TV&rsquo; and it will start the projector, start the Apple TV, and switch to HDMI 1. Basically what the Harmony used to do for me&mldr;</p><p>But for now, one more step to automation!</p><h2 id=harmony>Harmony</h2><p>I used to do all of this with a Logitech <a href=https://support.myharmony.com/en-us/hub target=_blank rel=noopener>Harmony Hub</a>. This actually worked pretty well&mldr; until it didn&rsquo;t. They&rsquo;ve basically stopped selling them and mostly don&rsquo;t support them any more. They technically work (or did a year ago when I last tried it), but there&rsquo;s no guarantee that they will continue to do so. Especially since all of the configs for the Hub are required to go through Logitech&rsquo;s servers&mldr;</p><p>With my local Zigbee setup? No remote connection at all needed!</p><p>Well, other than the internet to watch the TV. But we can play games without it!</p><h2 id=the-codes-i-learned>The codes I learned</h2><table><thead><tr><th>device</th><th>button</th><th>code</th></tr></thead><tbody><tr><td>hdmi</td><td>on</td><td><code>CTIjCBIMAsYGDAJAAQFlAuARA0Aj4A8DwDfgAx9AAUAPQBtAB0ADQAvAA8APQAcPo54yI</code></td></tr><tr><td>hdmi</td><td>off</td><td><code>C08jjRFtAsgGAAJtAuAVA0Aj4CMD4CNPD82eTyPnCAAC</code></td></tr><tr><td>hdmi</td><td>1</td><td><code>CRgjChIfArcGHwJAAQJpAh/gAAHAC8AHQCPgFwNAAcAjQDdAA8ABQAtAG0ABwAtAD0ADD8ieGCMBCR8C//8YIwEJHwI=</code></td></tr><tr><td>hdmi</td><td>2</td><td><code>C2gjsxEGAscGBgJiAuAFA0AB4AMTQCPgDwNAJ4AbAGKgBwMGAmIC4AEDQA9AAeAHEwLHBmIgAwkGAt2eaCO4CAYC</code></td></tr><tr><td>hdmi</td><td>3</td><td><code>DT0jsRECAtAGAgJkAgIC4BMDQCPgEwNAO8AfQAvgBwNAG8ATQAvgAwMPw549IwQJAgL//z0jBAkCAg==</code></td></tr><tr><td>hdmi</td><td>4</td><td><code>CXEjzxEVAqsGFQJAAQFjAuARA0Aj4A8DQAEBqwZAPQEVAkAFA6sGFQJAAUALQAMBqwZABQMVAqsGQAPACwBjIA+AAwdTnnEjsQhjAg==</code></td></tr><tr><td>hdmi</td><td>5</td><td><code>C2MjsRFlAr0GBwJlAuAVA0AjgAMAZaAHwA8DBwJlAuABA0AB4AcTQA/gAwNAL+ADDw+nnmMjyQgHAv//YyPJCAcC</code></td></tr><tr><td>hdmi</td><td>auto</td><td><code>C2EjsREAAs0GAAJiAuAVA0Aj4A8DQDuAGwBiYAcBYgLgBQMDzQYAAuADE0AP4AMDD8ueYSPNCAAC//9hI80IAAI=</code></td></tr><tr><td>hdmi</td><td>arc</td><td><code>C2MjsREZAp8GGQJmAuAVA0AjAp8GZiADQAfgFQNAAQFmAuARA+AHPw+BnmMjzwgZAv//YyPPCBkC</code></td></tr><tr><td>projector</td><td>on</td><td><code>BjcjqhFrAgEgAQPgBgECQAlAA0ALQANAC0ADwAtAB0ADQBNAA0ALQAPAC0AH4AsD4AMjQAvgBwMPIpo3IwwJAQL//zcjDAkBAg==</code></td></tr><tr><td>projector</td><td>off</td><td><code>DSoj/xEUAmMCFALRBhQCQAdAA0ALQANAC0ADAdEGQAUDFALRBoADQAFAEeADD0ALQAFAF+AHAwHRBkARAxQC0QbgCwMRYwLOmSojDQkUAv//KiMNCRQC</code></td></tr><tr><td>projector</td><td>hdmi 1</td><td><code>BkUjqRFrAgMgAQPeBgMCQAlAA0ALQANAC0ADwAsC3gZrIAMBAwJAAQNrAgMCQAtAA+ALC0ATwAPAI0APwAtAB8ADDySaRSPrCAMC//9FI+sIAwI=</code></td></tr><tr><td>projector</td><td>hdmi 2</td><td><code>DSAj7hEAAnACAALfBgACQAdAA0ALQANAC0ADwAtAB0ADQBNAA0ALQANAC+ADA0ATQAPAE0AL4AMD4AcXDyOaICMQCXAC//8gIxAJAAI=</code></td></tr></tbody></table><p>I&rsquo;ve tested all of these and with one exception they all work great! The one I haven&rsquo;t gotten to work yet for some reason is <code>projector off</code>. It just doesn&rsquo;t do anything. Previously with the Harmony, I had to set up a custom script that pushed the button, waited a second, then pushed it a again because of a timer, but this doesn&rsquo;t even show that much progress. I have no idea why, especially when everything else works. And I have auto-shutoff on inactivity so it&rsquo;s not <em>necessary</em>. But I am curious.</p><p>I do wish I knew how those related to <a href=https://github.com/probonopd/irdb target=_blank rel=noopener>this crowdsourced IR database</a>. The HDMI switch isn&rsquo;t in there, but the projector is! I expect it&rsquo;s backed binary somehow, but I don&rsquo;t have the time at the moment to figure it out. If you happen to know, let <em>me</em> know!</p></div></article></div></div><footer id=page-footer role=contentinfo><nav id=footer-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=/archive-by-date/>All posts: By Date</a></li><li><a href=/archive-by-tag/>All posts: By Tag</a></li><li><a href=/atom.xml>RSS: All <sup><svg width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li><li><a href=/home-automation/atom.xml>RSS: home-automation<sup><svg width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li></ul></nav><div id=page-footer-content data-pagefind-ignore=all><div class=legal><p>All posts unless otherwise mentioned are licensed under
<a rel=license href=//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US><img alt="Creative Commons License" style=border-width:0 src=//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png></a></p><p>Any source code unless otherwise mentioned is licensed under the <a href=//directory.fsf.org/wiki/License:BSD_3Clause>3 clause BSD license</a></p></div></div></footer></div></body></html>