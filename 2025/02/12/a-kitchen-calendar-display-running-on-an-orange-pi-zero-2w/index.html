<!doctype html><html><head><title>A kitchen calendar display running on an Orange Pi Zero 2W â€“ jverkamp.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><link rel=alternate type=application/atom+xml title="jverkamp.com (Atom 2.0)" href=//blog.jverkamp.com/feed/><script src=/jquery_17422284542669262002.min.834c1e2313951f0c25b90152fe8b62250eab4a2e8cbd2560fa1a1cdc91c71733.js integrity="sha256-g0weIxOVHwwluQFS/otiJQ6rSi6MvSVg+hoc3JHHFzM=" defer></script><script src=/jquery.fancybox_16245765822111608191.min.ef050764ff69f3287c89ff655825479dd8304dcd9bc653d1ddd4772a701ad445.js integrity="sha256-7wUHZP9p8yh8if9lWCVHndgwTc2bxlPR3dR3KnAa1EU=" defer></script><script src=/katex_17296078054267651618.min.deed0e78a77391517d530a00324ce7b760ac204134992ef22d36f583615ae498.js integrity="sha256-3u0OeKdzkVF9UwoAMkznt2CsIEE0mS7yLTb1g2Fa5Jg=" defer></script><script src=/auto-render_14944144240389301023.min.e694d9d5eae2917984179683ead27b998784a81398e8836c369373d2c67fc32a.js integrity="sha256-5pTZ1erikXmEF5aD6tJ7mYeEqBOY6INsNpNz0sZ/wyo=" defer></script><script src=/bigfoot_28293813221957978.min.af671f08986f0a2267c5a0cb2748b005489e47fa25f55479b200e2a563d23022.js integrity="sha256-r2cfCJhvCiJnxaDLJ0iwBUieR/ol9VR5sgDipWPSMCI=" defer></script><script src=/mermaid_9520146763733687737.min.bfe50b47c0387e3c3bf97ec5f338bba94f7ccb02f962a4aec8cf0b4d68c8434d.js integrity="sha256-v+ULR8A4fjw7+X7F8zi7qU98ywL5YqSuyM8LTWjIQ00=" defer></script><script src=/main.min.d60298c89fc4f1e938aceb45c60926efee8b03efc8b50683082e669a100da643.js integrity="sha256-1gKYyJ/E8ek4rOtFxgkm7+6LA+/ItQaDCC5mmhANpkM=" defer></script><link rel=stylesheet href=/katex_13658330645258633971.min.64e42891d651aee0b8cd02ec9227ff271d37bcf06dae985d1acf0eba1623e850.css integrity="sha256-ZOQokdZRruC4zQLskif/Jx03vPBtrphdGs8OuhYj6FA="><link rel=stylesheet href=/bigfoot-default_8781527669040159104.min.0d2b289fa3451447692959fcee5676b846532fe7ab50ddc4660824c42d4adcd7.css integrity="sha256-DSson6NFFEdpKVn87lZ2uEZTL+erUN3EZggkxC1K3Nc="><link rel=stylesheet href=/jquery.fancybox_5330465509389191777.min.67505d77381ebd82623ab9296c1989c44ec828d867c00296e80e52ef860cac37.css integrity="sha256-Z1BddzgevYJiOrkpbBmJxE7IKNhnwAKW6A5S74YMrDc="><link rel=stylesheet href=/css_1846377409604050217.min.fffe842bc000dd1fe8661ac6427a392a08faa95e8edab1ea7fb98c5f8dac6a6f.css integrity="sha256-//6EK8AA3R/oZhrGQno5Kgj6qV6O2rHqf7mMX42sam8="><link rel=stylesheet href=/main.min.b60cba31b8c292392a2d336408f8f344e261df78516eb17bcf029173b24a42b5.css integrity="sha256-tgy6MbjCkjkqLTNkCPjzROJh33hRbrF7zwKRc7JKQrU="></head><body><div id=wrapper><header id=page-header role=banner><h1><a href=/>JP's Blog</a></h1><ul id=page-header-links><li><a href=https://github.com/jpverkamp>GitHub</a> *
<a href=https://www.flickr.com/photos/jpverkamp>Flickr</a> *
<a href=/resume>Resume</a></li><li><form action=/search/ method=get class="navbar-form navbar-right" role=search _lpchecked=1><div class=form-group><input name=q type=text class=form-control placeholder=Search>
<button type=submit class="btn btn-default" value=Search>Search</button></div></form></li></ul><nav id=header-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=https://blog.jverkamp.com/reviews/>Reviews</a></li><li><a href=https://blog.jverkamp.com/programming/>Programming</a></li><li><a href=https://blog.jverkamp.com/maker/>Maker</a></li><li><a href=https://blog.jverkamp.com/photography/>Photography</a></li><li><a href=https://blog.jverkamp.com/home-automation/>Home Automation</a></li><li><a href=https://blog.jverkamp.com/writing/>Writing</a></li><li><a href=https://blog.jverkamp.com/research/>Research</a></li><li><a href=https://blog.jverkamp.com/search/>Search</a></li><li class=subscription data-subscription=rss><a href=/atom.xml rel=subscribe-rss title="subscribe via RSS">RSS</a></li></ul></nav></header><div id=page-content-wrapper><div id=page-content><article data-pagefind-body><header><h1 class=entry-title data-pagefind-meta=title>A kitchen calendar display running on an Orange Pi Zero 2W</h1><div class=entry-meta><span class=entry-date>2025-02-12</span></div><div class=entry-taxonomies><div class=entry-tags><ul class=taxonomy-keys><li><a class=taxonomy-key href=/programming/topics/>Topics</a><ul class=taxonomy-values><li><a href=https://blog.jverkamp.com/2025/02/07/setting-up-a-zigbee-tuya-ir-blaster/ class=previous-link></a><a class=taxonomy-value href=/programming/topics/home-assistant>Home Assistant</a></li><li><a href=https://blog.jverkamp.com/2025/02/07/setting-up-a-zigbee-tuya-ir-blaster/ class=previous-link></a><a class=taxonomy-value href=/programming/topics/home-automation>Home Automation</a><a href=https://blog.jverkamp.com/2025/06/04/timing-reddit-and-enabling-grayness-ios-shortcuts/ class=next-link></a></li><li><a class=taxonomy-value href=/programming/topics/linux>Linux</a><a href=https://blog.jverkamp.com/2025/12/29/syncing-kobo-annotations/ class=next-link></a></li><li><a class=taxonomy-value href=/programming/topics/monitoring>Monitoring</a></li><li><a class=taxonomy-value href=/programming/topics/orange-pi>Orange Pi</a></li><li><a class=taxonomy-value href=/programming/topics/raspberry-pi>Raspberry Pi</a></li></ul></li><li><a class=taxonomy-key href=/home-automation>home-automation</a><ul><li><a href=https://blog.jverkamp.com/2025/02/07/setting-up-a-zigbee-tuya-ir-blaster/ class=previous-link>Prev</a>
<a href=https://blog.jverkamp.com/2025/06/04/timing-reddit-and-enabling-grayness-ios-shortcuts/ class=next-link>Next</a></ul></li><li><a class=taxonomy-key href=/>All Posts</a><ul><li><a href=https://blog.jverkamp.com/2025/02/11/the-southern-book-clubs-guide-to-slaying-vampires/ class=previous-link>Prev</a>
<a href=https://blog.jverkamp.com/2025/02/16/persephone-station/ class=next-link>Next</a></ul></li></ul></div></div></header><div class=entry-content><p><img src=final-display.jpg alt="The final display on the wall"></p><p><strong>UPDATE 2025-06-05: <a href=#and-i-give-up-plan-b>And&mldr; I give up: Plan B</a></strong></p><p>I&rsquo;ve been on a home automation kick for the last little while, so what better time than to dust off an old project and put up a home / family dashboard in the kitchen/dining room!</p><p>Previously, I had this running off a FireTV and <a href=https://magicmirror.builders/ target=_blank rel=noopener>MagicMirror</a>. This worked well enough&mldr; but oh man is the FireTV browser terrible. Plus I had to do some crazy things to get it to stay on and never could get it to launch right back into the display on a power outage. So now we have version 2!</p><p>In the end, I ended up with:</p><ul><li>An <a href=http://www.orangepi.org/ target=_blank rel=noopener>Orange Pi</a> Zero 2W for the brains</li><li><a href=https://www.armbian.com/ target=_blank rel=noopener>Armbian</a> for the operating system</li><li><a href=https://www.chromium.org/Home/ target=_blank rel=noopener>Chromium</a> as the browser (I did try Firefox first&mldr;)</li><li><a href=https://www.home-assistant.io/ target=_blank rel=noopener>Home Assistant</a> for the data, remote control, and UI<ul><li><a href=https://github.com/j-a-n/lovelace-wallpanel target=_blank rel=noopener>WallPanel</a> to hide the side/top bar</li><li><a href=#home-assistant-browser-mod>Browser Mod</a> for remote control</li></ul></li></ul><p>Not too bad.</p><hr><p>Okay, detail time.</p><nav id=TableOfContents><ul><li><a href=#the-hardware>The Hardware</a></li><li><a href=#the-operating-system>The Operating System</a></li><li><a href=#installing>Installing</a></li><li><a href=#adding-mdns-discovery>Adding mDNS discovery</a></li><li><a href=#enable-autologin>Enable autologin</a></li><li><a href=#launch-chromium-in-kiosk-mode>Launch chromium in kiosk mode</a></li><li><a href=#disable-overview-mode>Disable overview mode</a></li><li><a href=#disable-sleep>Disable sleep</a></li><li><a href=#home-assistant-wallpanel>Home Assistant: WallPanel</a></li><li><a href=#home-assistant-browser-mod>Home Assistant: Browser Mod</a></li><li><a href=#remote-control-ui>Remote control UI</a></li><li><a href=#case-and-final-wiring>Case and final wiring</a></li><li><a href=#overview>Overview</a></li><li><a href=#and-i-give-up-plan-b>And&mldr; I give up: Plan B</a></li></ul></nav><h2 id=the-hardware>The Hardware</h2><p>Okay, first things first, setting up the Orange Pi. My goal is for it to have a single standalone device that can run a web browser that shows whatever page I have for the UI. It should be easy to update (remotely) and run without needing any sort of input for the device.</p><p>So, like I said, I used an <a href=http://www.OrangePi.org/ target=_blank rel=noopener>Orange Pi</a> Zero 2W for the brains (<a href=https://www.amazon.com/Allwinner-Computer-Frequency-Bluetooth-onboard/dp/B0CHM6XND9 target=_blank rel=noopener>Amazon</a>). On board, we have a 1.5 GHz ARM processor, 1 GB RAM, and 16MB flash which I won&rsquo;t end up using. It also comes with two USB-C ports (one for power) and mini HDMI out (I have an adaptor from a previous project).</p><p>The one I ordered came with the expansion board (for whatever reason it was cheaper that way) with ethernet, two USB-A ports, an IR receiver, a speaker, and a microphone; however, for this project I don&rsquo;t really need any of that, so I&rsquo;m going to ignore it. &#x1f604;</p><h2 id=the-operating-system>The Operating System</h2><p>Next up, the OS. It&rsquo;s not an esp32, so I want a full operating system on it. I do want to display a web browser, so I do actually need a desktop environment (I probably could have gotten by with just an X server? I&rsquo;m not sure.)</p><p>My first was <a href=http://www.OrangePi.org/html/softWare/OrangePiOS/index.html target=_blank rel=noopener>Orange Pi OS</a>. It&rsquo;s designed for the hardware and just works; however, I wanted something a little more cross platform and mainstream (ish), so instead I went with <a href=https://www.armbian.com/ target=_blank rel=noopener>Armbian</a>.</p><p>Other options I consider:</p><ul><li><a href=https://www.raspberrypi.com/software/ target=_blank rel=noopener>Raspberry Pi OS</a> - Couldn&rsquo;t get it working, as far as I can tell they&rsquo;re both based on ARM processors and similar enough that it&rsquo;s possible now, but upgrades can break</li><li><a href=https://porteus-kiosk.org/ target=_blank rel=noopener>Porteus Kiosk</a> - Would have been great since I just wanted a kiosk, but it&rsquo;s not ARM compatible</li></ul><h2 id=installing>Installing</h2><p>To install, I used the <a href=https://www.raspberrypi.com/news/raspberry-pi-imager-imaging-utility/ target=_blank rel=noopener>Raspberry Pi Imager</a> with the Armbian image referenced above. That was really all it took. The custom install settings didn&rsquo;t work, but on first boot Armbian set up most of what that would have needed anyways.</p><p>Copy it to the SD card, install in the Orange Pi, turn it on and&mldr; That&rsquo;s it. I have a running Linux system! That &mldr; was surprisingly easy. I can SSH in or use the desktop environment so long as I&rsquo;m hooked up to a keyboard and monitor. It&rsquo;s a little sluggish, but I am planning on displaying static content, so that will be fine.</p><h2 id=adding-mdns-discovery>Adding mDNS discovery</h2><p>Basically, the thing that lets you use <code>orangepizero2w.local</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get update
</span></span><span style=display:flex><span>sudo apt-get install avahi-daemon
</span></span><span style=display:flex><span>sudo systemctl start avahi-daemon
</span></span><span style=display:flex><span>sudo systemctl enable avahi-daemon
</span></span></code></pre></div><p>As a sidenote, if you want to change the hostname of your machine (to match the above):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ sudo hostnamectl hostname new-hostname-here
</span></span></code></pre></div><h2 id=enable-autologin>Enable autologin</h2><p>Okay, next up the software tweaks. First off, I want this machine to immediately go into it&rsquo;s kiosk mode when launching and to do that, I need to enable autologin. Luckily, this is pretty straight forward:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#75715e># /etc/lightdm/lightdm.conf.d/12-autologin.conf</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[Seat:*]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>pam-service</span><span style=color:#f92672>=</span><span style=color:#e6db74>lightdm</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>pam-autologin-service</span><span style=color:#f92672>=</span><span style=color:#e6db74>lightdm-autologin</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>autologin-user</span><span style=color:#f92672>=</span><span style=color:#e6db74>jp</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>autologin-user-timeout</span><span style=color:#f92672>=</span><span style=color:#e6db74>0</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>autologin-session</span><span style=color:#f92672>=</span>
</span></span></code></pre></div><p>Any <code>.conf</code> files in the <code>lightdm.conf.d</code> directory will work, so I just added a new one. The <code>autologin-user</code> is the setting that matters most here.</p><h2 id=launch-chromium-in-kiosk-mode>Launch chromium in kiosk mode</h2><p>Next up, the browser. I really did try to get Firefox to work, but &mldr; it just didn&rsquo;t want to launch from an automated script. I also tried <code>chromium-shell</code> which is just the rendering component, but that still had buttons like reload and the address bar and didn&rsquo;t support either <code>--kiosk</code> or <code>--app</code> mode,</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/usr/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e># Located in /usr/bin/kiosk</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#!/usr/bin/bash</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Launch chrome in kiosk mode</span>
</span></span><span style=display:flex><span>chromium <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --user-data-dir<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/home/jp/.kiosk/&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --app<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://example.com/lovelace/calendar?wp_hide_toolbar=true&amp;wp_hide_sidebar=true&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --start-fullscreen
</span></span></code></pre></div><p>What this does is launch <code>chromium</code> with a dedicated user directory (if you launch in <code>--kiosk</code> mode, it will not save this it seems, I&rsquo;m not actually sure about <code>app</code>) in <code>--app</code> mode (which removes all of the UI elements like the buttons and address bar), and in <code>--fullscreen</code>.</p><p>I did try <code>--kiosk</code> mode, but I do actually want to be able to have some input when I plug in a keyboard and mouse. And I&rsquo;m not on a touchscreen, so that part at least is also not a problem. So that&rsquo;s why I switched to <code>--app</code>.</p><p>As mentioned, I do need to be able to login once to Home Assistant (it&rsquo;s possible to make a dashboard which is available without logging in, which if this ends up not staying logged in I will need to fix) and save my &lsquo;dark mode&rsquo; preference locally. For that persistence, I do want the <code>--user-data-dir</code>.</p><p>Now to actually get this to run on launch, I used this <code>.desktop</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#75715e># ~/.config/autostart/kiosk.desktop</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[Desktop Entry]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Name</span><span style=color:#f92672>=</span><span style=color:#e6db74>kiosk</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>GenericName</span><span style=color:#f92672>=</span><span style=color:#e6db74>kiosk</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Comment</span><span style=color:#f92672>=</span><span style=color:#e6db74>MagicMirror kiosk</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Exec</span><span style=color:#f92672>=</span><span style=color:#e6db74>/usr/bin/kiosk</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Terminal</span><span style=color:#f92672>=</span><span style=color:#e6db74>false</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Type</span><span style=color:#f92672>=</span><span style=color:#e6db74>Application</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>X-GNOME-Autostart-enabled</span><span style=color:#f92672>=</span><span style=color:#e6db74>true</span>
</span></span></code></pre></div><p>You don&rsquo;t actually have to put the <code>Exec</code> in a separate script, you can put command line args directly here. But to make testing easier and also since I had a good number of parameters, this ended up being easier.</p><h2 id=disable-overview-mode>Disable overview mode</h2><p>One last tweak that I needed was that by default Armbian (Gnome) launches into &lsquo;Overview&rsquo; mode, which has the app launcher. The browser would launch fine into this, but not actually fullscreen, instead with a larger border with UI elements.</p><p>To get around that, I ended up just directly using <a href=https://unix.stackexchange.com/questions/717123/how-to-disable-gnome-workspace-selection-at-login target=_blank rel=noopener>this StackExchange post&rsquo;s solution</a>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/usr/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e># Located in /usr/bin/exit-overview</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Monitoring time in tenths of seconds</span>
</span></span><span style=display:flex><span>MTIME<span style=color:#f92672>=</span><span style=color:#ae81ff>50</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#f92672>((</span>i<span style=color:#f92672>=</span>0; i&lt;<span style=color:#e6db74>${</span>MTIME<span style=color:#e6db74>}</span>; i++<span style=color:#f92672>))</span>; <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>  read -r DUMMY DUMMY IS_OVERVIEW <span style=color:#f92672>&lt;&lt;&lt;</span> <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>dbus-send --print-reply<span style=color:#f92672>=</span>literal --session --dest<span style=color:#f92672>=</span>org.gnome.Shell --type<span style=color:#f92672>=</span>method_call /org/gnome/Shell org.freedesktop.DBus.Properties.Get string:org.gnome.Shell string:OverviewActive<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>IS_OVERVIEW<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;true&#34;</span> <span style=color:#f92672>]]</span> ; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>    /usr/bin/dbus-send --session --dest<span style=color:#f92672>=</span>org.gnome.Shell --type<span style=color:#f92672>=</span>method_call /org/gnome/Shell org.freedesktop.DBus.Properties.Set string:org.gnome.Shell string:OverviewActive variant:boolean:false
</span></span><span style=display:flex><span>    exit
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>  sleep 0.1
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><p>This has a matching <code>.config/autostart</code> file.</p><p>With all that, it just works! We have our software launch on boot as intended. While I still had it hooked up to a keyboard, I went through one last time to log in and configure <a href=https://github.com/thomasloven/hass-browser_mod target=_blank rel=noopener>Browser Mod</a> for remote control and that was it!</p><h2 id=disable-sleep>Disable sleep</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ gsettings set org.gnome.settings-daemon.plugins.power sleep-inactive-ac-timeout <span style=color:#e6db74>&#39;0&#39;</span>
</span></span><span style=display:flex><span>$ gsettings set org.gnome.settings-daemon.plugins.power sleep-inactive-battery-timeout <span style=color:#e6db74>&#39;0&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ gsettings set org.gnome.desktop.session idle-delay <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ sudo systemctl mask sleep.target suspend.target hibernate.target hybrid-sleep.target
</span></span></code></pre></div><h2 id=home-assistant-wallpanel>Home Assistant: WallPanel</h2><p>There are two HACS integrations that I added to Home Assistant to make this better. The first of those is <a href=https://github.com/j-a-n/lovelace-wallpanel target=_blank rel=noopener>WallPanel</a>. In a nutshell, this is an integration that can be used to disable the side and top bars on the display (since I can&rsquo;t change them anyways). You can also use it to set up a screensaver, which sounds really cool, but isn&rsquo;t something that I particularly need.</p><p>That&rsquo;s also why the URL above was:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>/lovelace/calendar?wp_hide_toolbar=true&amp;wp_hide_sidebar=true
</span></span></code></pre></div><p>You can provide these parameters to any URL and it will hide the toolbar or sidebar for you! Exactly what I needed.</p><h2 id=home-assistant-browser-mod>Home Assistant: Browser Mod</h2><p>The other mod I added was <a href=https://github.com/thomasloven/hass-browser_mod target=_blank rel=noopener>Browser Mod</a>. This basically lets you add Home Assistant running in a specific browser on a specific machine as a <code>Device</code>! You can get some stats from it (such as battery life, although that&rsquo;s not relevant in this case), but you can also use the corresponding services to do things such as <code>browser_mod.refresh</code> to reload the page (when you make changes) and <code>browser_mod.navigate</code> to load other pages on the UI!</p><p>This can also be used to hide the sidebar and topbar, but I found it to be a bit more finicky than WallPanel above, so I stuck with that instead.</p><h2 id=remote-control-ui>Remote control UI</h2><p>One more thing I wanted to set up with <a href=#home-assistant-browser-mod>Browser Mod</a> was remote control from any other machine running Home Assistant:</p><p><img src=remote-ui.png alt="UI for remote navigation"></p><p>Those are all just buttons. The first one directly controls <code>ceres.screen</code> which blacks it out (for overnight for example). The second calls a script which runs <code>browser_mod.refresh</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>alias</span>: <span style=color:#ae81ff>Refresh Ceres</span>
</span></span><span style=display:flex><span><span style=color:#f92672>description</span>: <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>sequence</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>action</span>: <span style=color:#ae81ff>browser_mod.refresh</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>metadata</span>: {}
</span></span><span style=display:flex><span>    <span style=color:#f92672>data</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>browser_id</span>:
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>e3ed386cc4d03c9cf2c1df925aae50d8</span>
</span></span></code></pre></div><p>The rest use a parameterized script that can navigate to any URL (although I&rsquo;m only using it for internal dashboards at the moment):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>alias</span>: <span style=color:#ae81ff>Ceres navigation</span>
</span></span><span style=display:flex><span><span style=color:#f92672>description</span>: <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>fields</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>url</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>selector</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>text</span>: <span style=color:#66d9ef>null</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>name</span>: <span style=color:#ae81ff>URL</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>sequence</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>action</span>: <span style=color:#ae81ff>browser_mod.navigate</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>metadata</span>: {}
</span></span><span style=display:flex><span>    <span style=color:#f92672>data</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>browser_id</span>:
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>e3ed386cc4d03c9cf2c1df925aae50d8</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>path</span>: <span style=color:#e6db74>&#34;{{ url }}&#34;</span>
</span></span></code></pre></div><h2 id=case-and-final-wiring>Case and final wiring</h2><p>As one final bit was wiring everything up and putting the Orange Pi in a 3D printed case:</p><p><img src=wiring-setup.jpg alt="The wiring behind the monitor"></p><p>It&rsquo;s &mldr; ugly, but I can fix that as I go. I have an extension cord running up to the back of the monitor arm (which I had from a previous office setup). Then the monitor is powered from that and I have a USB power brock for the Orange Pi and a mini HDMI to HDMI adaptor + cable to the monitor.</p><p>One thing I&rsquo;d love to be able to do is power the Orange Pi from the monitor. That should (in theory) be practical but I don&rsquo;t have that ability with this monitor, so not for now.</p><p>For the case, I just printed <a href=https://www.thingiverse.com/thing:6319669 target=_blank rel=noopener>this one</a>. It might in the future have some heating issues if I drive the Orange Pi too hard, but it has a neat little snap in place for the wifi antenna and just works, so that was great to see!</p><h2 id=overview>Overview</h2><p>And&mldr; that&rsquo;s it! It was a fun little project and so much better to get working that my previous FireTV + MagicMirror setup. We&rsquo;ll have to see what else I can do with it now!</p><h2 id=and-i-give-up-plan-b>And&mldr; I give up: Plan B</h2><p>Man, that was such a cool idea.</p><p>In the end though, the hardware just kept burning through SD cards. I could reset them or switch them out and it would work for a while longer, but that&rsquo;s not really something that I want to deal with. So instead, I already have a server I&rsquo;m using.</p><ol><li><p>Hook a wireless HDMI transmitter/receiver to the server + my display.</p><p>That&rsquo;s really it.</p><p>But if you want to remote in to manage it, this is what I have set up:</p></li><li><p>Set up Vino (Gnome VNC server):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Enable vino</span>
</span></span><span style=display:flex><span>gsettings set org.gnome.Vino prompt-enabled true
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Disable encryption</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Yes, I know</span>
</span></span><span style=display:flex><span>gsettings set org.gnome.Vino require-encryption false
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Only allow connections over loopback</span>
</span></span><span style=display:flex><span><span style=color:#75715e># This makes the above better :)</span>
</span></span><span style=display:flex><span>gsettings set org.gnome.Vino network-interface lo
</span></span></code></pre></div></li><li><p>Set up an SSH tunnel + the VNC server (to set it up)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># The -L is tunneling, 5900 to 5900 is the VNC port, connecting to localhost</span>
</span></span><span style=display:flex><span><span style=color:#75715e># The --display :0 is to connect to the default display</span>
</span></span><span style=display:flex><span><span style=color:#75715e># You should only need to change the yourself.local</span>
</span></span><span style=display:flex><span>ssh -L 5900:localhost:5900 yourserver.local /usr/lib/vino/vino-server --display :0
</span></span></code></pre></div></li><li><p>Profit? (Not likely)</p></li></ol><p>Such is life.</p></div></article></div></div><footer id=page-footer role=contentinfo><nav id=footer-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=/archive-by-date/>All posts: By Date</a></li><li><a href=/archive-by-tag/>All posts: By Tag</a></li><li><a href=/atom.xml>RSS: All <sup><svg width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li><li><a href=/home-automation/atom.xml>RSS: home-automation<sup><svg width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li></ul></nav><div id=page-footer-content data-pagefind-ignore=all><div class=legal><p>All posts unless otherwise mentioned are licensed under
<a rel=license href=//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US><img alt="Creative Commons License" style=border-width:0 src=//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png></a></p><p>Any source code unless otherwise mentioned is licensed under the <a href=//directory.fsf.org/wiki/License:BSD_3Clause>3 clause BSD license</a></p></div></div></footer></div></body></html>