<!doctype html><html><head><title>jverkamp.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><link rel=alternate type=application/atom+xml title="jverkamp.com (Atom 2.0)" href=//blog.jverkamp.com/feed/><script src=/jquery_17422284542669262002.min.834c1e2313951f0c25b90152fe8b62250eab4a2e8cbd2560fa1a1cdc91c71733.js integrity="sha256-g0weIxOVHwwluQFS/otiJQ6rSi6MvSVg+hoc3JHHFzM=" defer></script><script src=/jquery.fancybox_16245765822111608191.min.ef050764ff69f3287c89ff655825479dd8304dcd9bc653d1ddd4772a701ad445.js integrity="sha256-7wUHZP9p8yh8if9lWCVHndgwTc2bxlPR3dR3KnAa1EU=" defer></script><script src=/katex_17296078054267651618.min.deed0e78a77391517d530a00324ce7b760ac204134992ef22d36f583615ae498.js integrity="sha256-3u0OeKdzkVF9UwoAMkznt2CsIEE0mS7yLTb1g2Fa5Jg=" defer></script><script src=/auto-render_14944144240389301023.min.e694d9d5eae2917984179683ead27b998784a81398e8836c369373d2c67fc32a.js integrity="sha256-5pTZ1erikXmEF5aD6tJ7mYeEqBOY6INsNpNz0sZ/wyo=" defer></script><script src=/bigfoot_28293813221957978.min.af671f08986f0a2267c5a0cb2748b005489e47fa25f55479b200e2a563d23022.js integrity="sha256-r2cfCJhvCiJnxaDLJ0iwBUieR/ol9VR5sgDipWPSMCI=" defer></script><script src=/mermaid_9520146763733687737.min.bfe50b47c0387e3c3bf97ec5f338bba94f7ccb02f962a4aec8cf0b4d68c8434d.js integrity="sha256-v+ULR8A4fjw7+X7F8zi7qU98ywL5YqSuyM8LTWjIQ00=" defer></script><script src=/main.min.d60298c89fc4f1e938aceb45c60926efee8b03efc8b50683082e669a100da643.js integrity="sha256-1gKYyJ/E8ek4rOtFxgkm7+6LA+/ItQaDCC5mmhANpkM=" defer></script><link rel=stylesheet href=/katex_13658330645258633971.min.64e42891d651aee0b8cd02ec9227ff271d37bcf06dae985d1acf0eba1623e850.css integrity="sha256-ZOQokdZRruC4zQLskif/Jx03vPBtrphdGs8OuhYj6FA="><link rel=stylesheet href=/bigfoot-default_8781527669040159104.min.0d2b289fa3451447692959fcee5676b846532fe7ab50ddc4660824c42d4adcd7.css integrity="sha256-DSson6NFFEdpKVn87lZ2uEZTL+erUN3EZggkxC1K3Nc="><link rel=stylesheet href=/jquery.fancybox_5330465509389191777.min.67505d77381ebd82623ab9296c1989c44ec828d867c00296e80e52ef860cac37.css integrity="sha256-Z1BddzgevYJiOrkpbBmJxE7IKNhnwAKW6A5S74YMrDc="><link rel=stylesheet href=/css_1846377409604050217.min.fffe842bc000dd1fe8661ac6427a392a08faa95e8edab1ea7fb98c5f8dac6a6f.css integrity="sha256-//6EK8AA3R/oZhrGQno5Kgj6qV6O2rHqf7mMX42sam8="><link rel=stylesheet href=/main.min.34a34d86b8aae11b989d80a1626629c053029d012419a1993cfb6c12ea175737.css integrity="sha256-NKNNhriq4RuYnYChYmYpwFMCnQEkGaGZPPtsEuoXVzc="></head><body><div id=wrapper><header id=page-header role=banner><h1><a href=/>JP's Blog</a></h1><ul id=page-header-links><li><a href=https://github.com/jpverkamp>GitHub</a> *
<a href=https://www.flickr.com/photos/jpverkamp>Flickr</a> *
<a href=/resume>Resume</a></li><li><form action=/search/ method=get class="navbar-form navbar-right" role=search _lpchecked=1><div class=form-group><input name=q type=text class=form-control placeholder=Search>
<button type=submit class="btn btn-default" value=Search>Search</button></div></form></li></ul><nav id=header-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=https://blog.jverkamp.com/programming/>Programming</a></li><li><a href=https://blog.jverkamp.com/reviews/>Reviews</a></li><li><a href=https://blog.jverkamp.com/home-automation/>Home Automation</a></li><li><a href=https://blog.jverkamp.com/photography/>Photography</a></li><li><a href=https://blog.jverkamp.com/maker/>Maker</a></li><li><a href=https://blog.jverkamp.com/writing/>Writing</a></li><li><a href=https://blog.jverkamp.com/research/>Research</a></li><li><a href=https://blog.jverkamp.com/search/>Search</a></li><li class=subscription data-subscription=rss><a href=/atom.xml rel=subscribe-rss title="subscribe via RSS">RSS</a></li></ul></nav></header><div id=page-content-wrapper><div id=page-content><div class=entry-content></div><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2018/12/03/aoc-2018-day-3-regionification/ class=clearfix>AoC 2018 Day 3: Regionification</a></h1><div class=entry-meta><span class=entry-date>2018-12-03</span></div></header><div class=entry-content><h3 id=source-no-matter-how-you-slice-it>Source: <a href=https://adventofcode.com/2018/day/3 target=_blank rel=noopener>No Matter How You Slice It</a></h3><blockquote><p><strong>Part 1:</strong> Given a list of overlapping regions defined by (left, top, width, height) count how many integer points occur in more than one region.</p></blockquote><p><a href=/2018/12/03/aoc-2018-day-3-regionification/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2018/12/02/aoc-2018-day-2-counting-letters/ class=clearfix>AoC 2018 Day 2: Counting letters</a></h1><div class=entry-meta><span class=entry-date>2018-12-02</span></div></header><div class=entry-content><h3 id=source-inventory-management-system>Source: <a href=https://adventofcode.com/2018/day/2 target=_blank rel=noopener>Inventory Management System</a></h3><blockquote><p><strong>Part 1:</strong> Given a list of strings, count how many contain exactly two of a letter (<code>a</code>) and how many contain exactly three of a letter (<code>b</code>). Calculate <code>a*b</code>.</p></blockquote><p><a href=/2018/12/02/aoc-2018-day-2-counting-letters/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2018/12/01/aoc-2018-day-1-sum-thing-to-start-with/ class=clearfix>AoC 2018 Day 1: Sum-thing to start with</a></h1><div class=entry-meta><span class=entry-date>2018-12-01</span></div></header><div class=entry-content><h3 id=source-chronal-calibration>Source: <a href=https://adventofcode.com/2018/day/1 target=_blank rel=noopener>Chronal Calibration</a></h3><blockquote><p><strong>Part 1:</strong> Given a list of numbers (positive and negative) calculate the sum.</p></blockquote><p><a href=/2018/12/01/aoc-2018-day-1-sum-thing-to-start-with/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2018/12/01/advent-of-code-2018/ class=clearfix>Advent of Code 2018</a></h1><div class=entry-meta><span class=entry-date>2018-12-01</span></div></header><div class=entry-content><p>Let&rsquo;s do it again! I&rsquo;m starting a day late, but much better than <a href=https://blog.jverkamp.com/2018/01/08/advent-of-code-2017/>last year</a> &#x1f604;!</p><p>This time around, I&rsquo;m hoping to solve each problem in both Python and Racket, both to show an example of how the languages differ and &mldr; well, because I can &#x1f607;.</p><p><em>EDIT 2018-12-05</em>: Yeah&mldr; I&rsquo;m not actually going to do these in both Racket and Python. The solutions are ending up being near direct translations. Since there are probably fewer people solving these in Racket, I&rsquo;ll do that first and Python eventuallyâ„¢.</p><p>As always, these problems are wonderful to try to solve yourself. If you agree, <em>stop reading now</em>. This post isn&rsquo;t going anywhere.</p><p>If you&rsquo;d like to see the full form of any particular solution, you can do so on GitHub (including previous years and possibly some I haven&rsquo;t written up yet): <a href=https://github.com/jpverkamp/advent-of-code>jpverkamp/advent-of-code</a></p><p><a href=/2018/12/01/advent-of-code-2018/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2018/07/15/counting-and-sizing-s3-buckets/ class=clearfix>Counting and Sizing S3 Buckets</a></h1><div class=entry-meta><span class=entry-date>2018-07-15</span></div></header><div class=entry-content><p>A long time ago in a galaxy far far away, I wrote up a script that I used to take an <a href=https://aws.amazon.com/s3/ target=_blank rel=noopener>AWS S3</a> bucket and count how many objects there were in the bucket and calculate its total size. While you could get some of this information from billing reports, there just wasn&rsquo;t a good way to get it other than that at the time. The only way you could do it was to&mldr; iterate through the entire bucket, summing as you go. If you have buckets with millions (or more) objects, this could take a while.</p><p>Basically:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>conn <span style=color:#f92672>=</span> boto<span style=color:#f92672>.</span>connect_s3()
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> bucket <span style=color:#f92672>in</span> sorted(conn<span style=color:#f92672>.</span>get_all_buckets()):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>        total_count <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        total_size <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        start <span style=color:#f92672>=</span> datetime<span style=color:#f92672>.</span>datetime<span style=color:#f92672>.</span>now()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> key <span style=color:#f92672>in</span> bucket<span style=color:#f92672>.</span>list_versions():
</span></span><span style=display:flex><span>            <span style=color:#75715e># Skip deleted files</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> isinstance(key, boto<span style=color:#f92672>.</span>s3<span style=color:#f92672>.</span>deletemarker<span style=color:#f92672>.</span>DeleteMarker):
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            size <span style=color:#f92672>=</span> key<span style=color:#f92672>.</span>size
</span></span><span style=display:flex><span>            total_count <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            total_size <span style=color:#f92672>+=</span> size
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#39;-- </span><span style=color:#e6db74>{count}</span><span style=color:#e6db74> files, </span><span style=color:#e6db74>{size}</span><span style=color:#e6db74>, </span><span style=color:#e6db74>{time}</span><span style=color:#e6db74> to calculate&#39;</span><span style=color:#f92672>.</span>format(
</span></span><span style=display:flex><span>            count <span style=color:#f92672>=</span> total_count,
</span></span><span style=display:flex><span>            size <span style=color:#f92672>=</span> humanize<span style=color:#f92672>.</span>naturalsize(total_size),
</span></span><span style=display:flex><span>            time <span style=color:#f92672>=</span> humanize<span style=color:#f92672>.</span>naturaltime(datetime<span style=color:#f92672>.</span>datetime<span style=color:#f92672>.</span>now() <span style=color:#f92672>-</span> start)<span style=color:#f92672>.</span>replace(<span style=color:#e6db74>&#39; ago&#39;</span>, <span style=color:#e6db74>&#39;&#39;</span>)
</span></span><span style=display:flex><span>        ))
</span></span></code></pre></div><p><a href=/2018/07/15/counting-and-sizing-s3-buckets/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2018/07/09/creating-a-temporary-smtp-server-to-catch-domain-validation-emails/ class=clearfix>Creating a temporary SMTP server to 'catch' domain validation emails</a></h1><div class=entry-meta><span class=entry-date>2018-07-09</span></div></header><div class=entry-content><p>One problem that has come up a time or two is dealing with email-based domain validation (specifically in this case for the issuance of TLS certificates) on domains that aren&rsquo;t actually configured to receive email. Yes, in a perfect world, it would be easier to switch to DNS-based validation (since we have to have control of the DNS for the domain, we need it later), but let&rsquo;s just assume that&rsquo;s not an option. So, how do we &lsquo;catch&rsquo; the activation email so we can prove we can receive email on that domain?</p><p><a href=/2018/07/09/creating-a-temporary-smtp-server-to-catch-domain-validation-emails/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2018/03/12/generating-zone-files-from-route53/ class=clearfix>Generating zone files from Route53</a></h1><div class=entry-meta><span class=entry-date>2018-03-12</span></div></header><div class=entry-content><p>Recently I found myself wanting to do some analysis on all of our DNS entires stored in AWS&rsquo;s Route53 for security reasons (specifically to prevent subdomain takeover attacks, I&rsquo;ll probably write that up soon). In doing so, I realized that while Route53 has the ability to import a <a href=https://en.wikipedia.org/wiki/zone%20file>zone file</a>, it&rsquo;s not possible to export one.</p><p>To some extent, this makes sense. Since Route53 supports ALIAS records (which can automatically determine their values based on other AWS products, such as an ELB changing its public IP) and those aren&rsquo;t actually &lsquo;real&rsquo; DNS entries, things will get confused. But I don&rsquo;t currently intend to re-import these zone files, just use them. So let&rsquo;s see what we can do.</p><p><a href=/2018/03/12/generating-zone-files-from-route53/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2018/01/08/advent-of-code-2017/ class=clearfix>Advent of Code 2017</a></h1><div class=entry-meta><span class=entry-date>2018-01-08</span></div></header><div class=entry-content><p>As I did with <a href=https://blog.jverkamp.com/2018/01/03/advent-of-code-2016/>last year</a> / <a href=https://blog.jverkamp.com/2018/01/03/advent-of-code-2016/>yesterday</a>, I&rsquo;ve written up a series of posts for the Advent of Code 2017 problems. Again, I didn&rsquo;t manage to write them up as I did them, but this time around I least I finished mostly on time.</p><p><a href=/2018/01/08/advent-of-code-2017/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2018/01/03/advent-of-code-2016/ class=clearfix>Advent of Code 2016</a></h1><div class=entry-meta><span class=entry-date>2018-01-03</span></div></header><div class=entry-content><p>As I did <a href=https://blog.jverkamp.com/2015/12/01/advent-of-code/>last year</a>, I&rsquo;m going to solve the Advent of Code problems again this year.</p><p>Or that was the plan. It turns out that instead I put down my blog for almost a year and a half and never quite got around to doing these problems. So I&rsquo;m actually backdating these posts from the early days of 2018 to where they would have been had I solved them on time. They&rsquo;re still interesting problems, so give them a read.</p><p><a href=/2018/01/03/advent-of-code-2016/>read more...</a></p></div><hr></article><article class=li><header><h1 class=entry-title><a href=https://blog.jverkamp.com/2017/12/25/aoc-2017-day-25-turing/ class=clearfix>AoC 2017 Day 25: Turing</a></h1><div class=entry-meta><span class=entry-date>2017-12-25</span></div></header><div class=entry-content><h3 id=source-the-halting-problem>Source: <a href=http://adventofcode.com/2017/day/25 target=_blank rel=noopener>The Halting Problem</a></h3><blockquote><p><strong>Part 1:</strong> Implement a <a href=https://en.wikipedia.org/wiki/Turing%20machine>Turing machine</a> defined as such:</p></blockquote><blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text></code></pre></div></blockquote><p>Begin in state A.
Perform a diagnostic checksum after 6 steps.</p><p>In state A:
If the current value is 0:
- Write the value 1.
- Move one slot to the right.
- Continue with state B.
If the current value is 1:
- Write the value 0.
- Move one slot to the left.
- Continue with state B.</p><p>&mldr;</p><pre tabindex=0><code>

&gt; What is the final number of `1s` on the tape?





Most of this problem actually came down to reading the input:

```python
# Map of (current state, current value, key) -&gt; value
# key is one of value, offset, state
transitions = {}
breakpoint = 0
state = None
pointer = 0
one_bits = set()

for line in lib.input():
    line = line.strip(&#39;- &#39;)
    arg = line.split()[-1][:-1]

    if arg == &#39;steps&#39;:
        arg = line.split()[-2]

    try:
        arg = int(arg)
    except:
        pass

    # Store values based on that argument
    if line.startswith(&#39;Begin&#39;):
        state = arg
    elif line.startswith(&#39;Perform&#39;):
        breakpoint = arg
    elif line.startswith(&#39;In&#39;):
        current_state = arg
    elif line.startswith(&#39;If&#39;):
        current_value = arg
    elif line.startswith(&#39;Write&#39;):
        transitions[current_state, current_value, &#39;value&#39;] = arg == 1
    elif line.startswith(&#39;Move&#39;):
        transitions[current_state, current_value, &#39;offset&#39;] = 1 if arg == &#39;right&#39; else -1
    elif line.startswith(&#39;Continue&#39;):
        transitions[current_state, current_value, &#39;state&#39;] = arg
</code></pre><p>As we did in part 1 of <a href=https://blog.jverkamp.com/2017/12/22/aoc-2017-day-22-langtons-ant/>day 22</a>, we&rsquo;ll use a <code>set</code> to store the current state (store <code>1</code>, if an index is not in the <code>set</code>, it&rsquo;s <code>0</code>). That gives us the ability to grow unbounded (so long as we have enough RAM).</p><p><a href=/2017/12/25/aoc-2017-day-25-turing/>read more...</a></p></div><hr></article><nav id=pagination-navigation role=navigation><ul class="pagination pagination-default"><li class=page-item><a href=/2025/02/19/python/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/2025/02/19/python/page/5/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=/2025/02/19/python/page/4/ aria-label="Page 4" class=page-link role=button>4</a></li><li class=page-item><a href=/2025/02/19/python/page/5/ aria-label="Page 5" class=page-link role=button>5</a></li><li class="page-item active"><a aria-current=page aria-label="Page 6" class=page-link role=button>6</a></li><li class=page-item><a href=/2025/02/19/python/page/7/ aria-label="Page 7" class=page-link role=button>7</a></li><li class=page-item><a href=/2025/02/19/python/page/8/ aria-label="Page 8" class=page-link role=button>8</a></li><li class=page-item><a href=/2025/02/19/python/page/7/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/2025/02/19/python/page/19/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></nav></div></div><footer id=page-footer role=contentinfo><nav id=footer-navigation role=navigation class=ribbon><ul class=main-navigation><li><a href=/archive-by-date/>All posts: By Date</a></li><li><a href=/archive-by-tag/>All posts: By Tag</a></li><li><a href=/atom.xml>RSS: All <sup><svg width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li><li><a href=/programming/atom.xml>RSS: programming<sup><svg width="8" height="8" viewBox="0 0 24 24"><path fill="#fff" d="M6.503 20.752C6.503 22.546 5.047 24 3.252 24c-1.796.0-3.252-1.454-3.252-3.248s1.456-3.248 3.252-3.248c1.795.001 3.251 1.454 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242.0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></sup></a></li></ul></nav><div id=page-footer-content data-pagefind-ignore=all><div class=legal><p>All posts unless otherwise mentioned are licensed under
<a rel=license href=//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US><img alt="Creative Commons License" style=border-width:0 src=//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png></a></p><p>Any source code unless otherwise mentioned is licensed under the <a href=//directory.fsf.org/wiki/License:BSD_3Clause>3 clause BSD license</a></p></div></div></footer></div></body></html>