<!DOCTYPE html>
<html>
<head>
    <title>
    AoC 2018 Day 5: Alchemical reduction â€“ jverkamp.com
</title>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

    <link rel="alternate" type="application/atom+xml" title="jverkamp.com (Atom 2.0)" href="//blog.jverkamp.com/feed/">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/nanogallery/4.4.2/css/themes/light/nanogallery_light.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.css" integrity="sha384-exe4Ak6B0EoJI0ogGxjJ8rn+RN3ftPnEQrGwX59KTCl5ybGzvHGKjhPKk/KC3abb" crossorigin="anonymous">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bigfoot/2.1.4/bigfoot-default.min.css">

<link href="https://fonts.googleapis.com/css?family=Spectral+SC|Lato|Share+Tech+Mono" rel="stylesheet">

<link rel="stylesheet" href="/custom.css" defer />


    
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
</head>
<body>
    <div id="wrapper">
        <header id="page-header" role="banner">
    <h1><a href="/">JP's Blog</a></h1>

    <ul id="page-header-links">
        <li>
            <a href="https://twitter.com/jpverkamp">Twitter</a> *
            <a href="https://github.com/jpverkamp">GitHub</a> *
            <a href="https://www.flickr.com/photos/jpverkamp">Flickr</a>
        </li>
        <li>
            <form action="//www.google.com/search" method="get" onsubmit="(function(obj){obj.q.value='site:blog.jverkamp.com '+obj.qfront.value;})(this)" class="navbar-form navbar-right" role="search" _lpchecked="1">
                <div class="form-group">
                    <input name="q" type="hidden">
                    <input name="qfront" type="text" class="form-control" placeholder="Search">
                    <button type="submit" class="btn btn-default" value="Search">Search</button>
                </div>
            </form>
        </li>

    </ul>

    <nav id="header-navigation" role="navigation" class="ribbon">
        <ul class="main-navigation">
        
            
        
            
            <li><a href="https://blog.jverkamp.com/photography/">Photography</a></li>
            
        
            
            <li><a href="https://blog.jverkamp.com/programming/">Programming</a></li>
            
        
            
            <li><a href="https://blog.jverkamp.com/research/">Research</a></li>
            
        
            
            <li><a href="https://blog.jverkamp.com/reviews/">Reviews</a></li>
            
        
            
            <li><a href="https://blog.jverkamp.com/writing/">Writing</a></li>
            
        
            <li class="subscription" data-subscription="rss"><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
        </ul>
    </nav>
</header>


        <div id="page-content-wrapper">
            <div id="page-content">
            
<article>
	<header>
		<h1 class="entry-title">AoC 2018 Day 5: Alchemical reduction</h1>

        <div class="entry-meta">
            
            <span class="entry-date">2018-12-05</span>
            
            
        </div>

        <div class="entry-tags">
    
    

    <ul class="taxonomy-keys">
    
        
        

        
        

        
    
        
        

        
        

        
        <li>
            <a class="taxonomy-key" href="/programming/languages/">Languages</a>
            <ul class="taxonomy-values">
            
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    

                    
                    

                    <li>
                        <a href="https://blog.jverkamp.com/2018/12/04/aoc-2018-day-4-sleeping-on-the-job/" class="previous-link"></a>
                        <a class="taxonomy-value" href="/programming/languages/racket">Racket</a>
                        <a href="https://blog.jverkamp.com/2018/12/06/aoc-2018-day-6-infinite-area-simulator/" class="next-link"></a>
                    </li>
                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
            
            </ul>
        </li>
        
    
        
        

        
        

        
        <li>
            <a class="taxonomy-key" href="/programming/sources/">Sources</a>
            <ul class="taxonomy-values">
            
            
                

                
                

                
            
                

                
                

                
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    

                    
                    

                    <li>
                        <a href="https://blog.jverkamp.com/2018/12/04/aoc-2018-day-4-sleeping-on-the-job/" class="previous-link"></a>
                        <a class="taxonomy-value" href="/programming/sources/advent-of-code">Advent of Code</a>
                        <a href="https://blog.jverkamp.com/2018/12/06/aoc-2018-day-6-infinite-area-simulator/" class="next-link"></a>
                    </li>
                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
            
            </ul>
        </li>
        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
        <li>
            <a class="taxonomy-key" href="/series/">Series</a>
            <ul class="taxonomy-values">
            
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
                    
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    

                    
                    

                    <li>
                        <a href="https://blog.jverkamp.com/2018/12/04/aoc-2018-day-4-sleeping-on-the-job/" class="previous-link"></a>
                        <a class="taxonomy-value" href="/series/advent-of-code-2018">Advent of Code 2018</a>
                        <a href="https://blog.jverkamp.com/2018/12/06/aoc-2018-day-6-infinite-area-simulator/" class="next-link"></a>
                    </li>
                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
                

                
                

                
            
            
            </ul>
        </li>
        
    
        
        

        
        

        
    
        
        

        
        

        
    
        
        

        
        

        
    

    
        
        <li><a class="taxonomy-key" href="/programming">programming</a>
            <ul>
                <li>
                
                <a href="https://blog.jverkamp.com/2018/12/04/aoc-2018-day-4-sleeping-on-the-job/" class="previous-link">Prev</a>
                

                
                <a href="https://blog.jverkamp.com/2018/12/06/aoc-2018-day-6-infinite-area-simulator/" class="next-link">Next</a>
                
            </ul>
        </li>
        

        
        <li><a class="taxonomy-key" href="/">All Posts</a>
            <ul>
                <li>
                
                <a href="https://blog.jverkamp.com/2018/12/05/into-the-drowning-deep/" class="previous-link">Prev</a>
                

                
                <a href="https://blog.jverkamp.com/2018/12/06/aoc-2018-day-6-infinite-area-simulator/" class="next-link">Next</a>
                
            </ul>
        </li>
        
    
    </ul>
</div>

    </header>

	<div class="entry-content">
		<h3 id="source-alchemical-reduction-https-adventofcode-com-2018-day-5">Source: <a href="https://adventofcode.com/2018/day/5">Alchemical Reduction</a></h3>

<blockquote>
<p><strong>Part 1:</strong> Given a string, reduce it by removing pairs of letters that are the same letter but different cases. Repeat until you have a minimal string.</p>
</blockquote>

<p></p>

<p>This is the sort of problem Racket excels at: it&rsquo;s basically a list processing problem. First, we want to define a helper function to test for reactions:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-racket" data-lang="racket"><span style="color:#75715e">; Two units react if they are the same type (letter) and opposite polarity (case)</span>
(<span style="color:#66d9ef">define</span> (react? a b)
  (<span style="color:#66d9ef">and</span> (not (eq? a b))
       (eq? (char-downcase a)
            (char-downcase b))))</code></pre></div>
<p>After that, the core recursive function that will take a a list of characters and react through it once. This isn&rsquo;t quite enough to solve the problem (since after removing characters you might expose a new pair), but will do most of it:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-racket" data-lang="racket"><span style="color:#75715e">; Collapse all unit pairs that can one time</span>
(<span style="color:#66d9ef">define</span> (collapse-once ls)
  (<span style="color:#66d9ef">match</span> ls
    <span style="color:#75715e">; If The first two units react, remove them</span>
    [(list-rest a b rest)
     <span style="color:#66d9ef">#:when</span> (react? a b)
     (collapse-once rest)]
    <span style="color:#75715e">; Otherwise, if we have at least one item, process the rest</span>
    [(list-rest a rest)
     (list* a (collapse-once rest))]
    <span style="color:#75715e">; Base case: nothing left</span>
    [<span style="color:#66d9ef">else</span>
     ls]))</code></pre></div>
<p>I really like <code><a href="http://docs.racket-lang.org/search/index.html?q=match">match</a></code>
. It&rsquo;s really powerful for things like this, especially with the addition of the <code>#:when</code> clause (which I actually just learned/re-learned about today). I&rsquo;ll be using more of that!</p>

<p>Now, we just need a function that will collapse until it cannot any more:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-racket" data-lang="racket">Collapse until there<span style="color:#f92672">&#39;</span><span style="color:#e6db74">s</span> nothing more to <span style="color:#66d9ef">do</span>
(<span style="color:#66d9ef">define</span> (collapse ls)
 (<span style="color:#66d9ef">let</span> ([ls^ (collapse-once ls)])
   (<span style="color:#66d9ef">if</span> (equal? ls ls^)
       ls
       (collapse ls^))))

(<span style="color:#66d9ef">define</span> input-polymer (string-&gt;list (read-line)))
(<span style="color:#66d9ef">define</span> output-polymer (collapse input-polymer))
(printf <span style="color:#e6db74">&#34;[part 1] output length: ~a</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span> (length output-polymer))</code></pre></div>
<blockquote>
<p><strong>Part 2:</strong> If you&rsquo;re allowed to remove one letter (both cases), what is the letter you can remove to get the smallest collapsed output (and that output&rsquo;s length).</p>
</blockquote>

<p>Let&rsquo;s just brute force it. Write a helper that can remove both cases of a letter from the string and try every letter of the alphabet:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-racket" data-lang="racket"><span style="color:#75715e">; Remove all instances of a unit (either polarity)</span>
(<span style="color:#66d9ef">define</span> (remove/ignore-case ls c)
  (filter (<span style="color:#66d9ef">Î»</span> (a) (not (eq? (char-downcase a) (char-downcase c)))) ls))

<span style="color:#75715e">; Try removing each letter in turn, recording each new best</span>
(<span style="color:#66d9ef">define-values</span> (best-to-remove best-length)
  (<span style="color:#66d9ef">for*/fold</span> ([best-to-remove <span style="color:#66d9ef">#f</span>]
              [best-length <span style="color:#ae81ff">+inf.0</span>])
             ([to-remove (in-string <span style="color:#e6db74">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span>)]
              [length (in-value (length (collapse (remove/ignore-case input-polymer to-remove))))]
              <span style="color:#66d9ef">#:when</span> (&lt; length best-length))
    (values to-remove length)))

(printf <span style="color:#e6db74">&#34;[part 2] removing ~a gives a length of: ~a</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span> best-to-remove best-length)</code></pre></div>
<p>It&rsquo;s a bit slow (a couple seconds per collapse, but it has to do 27 of them for the two parts), but it&rsquo;s certainly workable:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cat input.txt | time racket alchemical-collapser.rkt

<span style="color:#f92672">[</span>part <span style="color:#ae81ff">1</span><span style="color:#f92672">]</span> output length: <span style="color:#ae81ff">9078</span>
<span style="color:#f92672">[</span>part <span style="color:#ae81ff">2</span><span style="color:#f92672">]</span> removing u gives a length of: <span style="color:#ae81ff">5698</span>
       <span style="color:#ae81ff">36</span>.88 real        <span style="color:#ae81ff">32</span>.77 user         <span style="color:#ae81ff">1</span>.07 sys</code></pre></div>
<p>Well within a minute (my baseline for &lsquo;efficient enough&rsquo; for these sort of problems).</p>

<p>I do wonder though if there&rsquo;s a faster way to solve this part? I bet there is. Probably something to do with <a href="https://en.wikipedia.org/wiki/graph%20theory">graph theory</a>. It&rsquo;s always graph theory.</p>

<p>A problem for another day.</p>

<blockquote>
<p><strong>Update 2018-12-10:</strong> Got a command (below): Can you use a stack to solve this problem?</p>
</blockquote>

<p>Why yes. Yes you can! Let&rsquo;s do it.</p>

<p>All we actually have to change is the <code>collapse</code> function. What we&rsquo;re going to do is move elements from an <code>input</code> list to an <code>output</code> list. Whenever the top element of each list/stack reacts, remove them both. This will allow reactions to cascade natively:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-racket" data-lang="racket"><span style="color:#75715e">; Collapse an alchemical polymer removing matching units of opposite polarity</span>
(<span style="color:#66d9ef">define</span> (collapse polymer)
  (<span style="color:#66d9ef">let</span> loop ([input polymer]
             [output <span style="color:#f92672">&#39;</span>()])
    (<span style="color:#66d9ef">cond</span>
      <span style="color:#75715e">; End condition, output the stack</span>
      [(null? input) (reverse output)]
      <span style="color:#75715e">; Initial state, nothing on the output stack to compare</span>
      [(null? output)
       (loop (rest input) (list (first input)))]
      <span style="color:#75715e">; Top of stack and next of input match, remove both</span>
      <span style="color:#75715e">; This will allow chain reactions since it exposes a new top of stack to react</span>
      [(react? (first input) (first output))
       (loop (rest input) (rest output))]
      <span style="color:#75715e">; Don&#39;t react, move to output</span>
      [<span style="color:#66d9ef">else</span>
       (loop (rest input) (list* (first input) output))])))</code></pre></div>
<p>And that&rsquo;s it; the rest of the code remains the same. We don&rsquo;t even need a wrapper function to collapse multiple time, this just does it.</p>

<p>And the crazy thing is just how much faster it is:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cat input.txt | time racket alchemical-collapser.rkt

<span style="color:#f92672">[</span>part <span style="color:#ae81ff">1</span><span style="color:#f92672">]</span> output length: <span style="color:#ae81ff">9078</span>
<span style="color:#f92672">[</span>part <span style="color:#ae81ff">2</span><span style="color:#f92672">]</span> removing u gives a length of: <span style="color:#ae81ff">5698</span>
       <span style="color:#ae81ff">33</span>.44 real        <span style="color:#ae81ff">32</span>.64 user         <span style="color:#ae81ff">0</span>.68 sys

$ cat input.txt | time racket alchemical-stacker.rkt

<span style="color:#f92672">[</span>part <span style="color:#ae81ff">1</span><span style="color:#f92672">]</span> output length: <span style="color:#ae81ff">9078</span>
<span style="color:#f92672">[</span>part <span style="color:#ae81ff">2</span><span style="color:#f92672">]</span> removing u gives a length of: <span style="color:#ae81ff">5698</span>
        <span style="color:#ae81ff">0</span>.54 real         <span style="color:#ae81ff">0</span>.45 user         <span style="color:#ae81ff">0</span>.08 sys</code></pre></div>
<p>Now that&rsquo;s a speedup&hellip; Most of which comes from not having to process the entire list over and over again, instead just doing it all at once. It really does show just how much difference you can get by coming at a problem from an algorithmically different direction.</p>

<p>Thanks!</p>
	</div>

    
<div class="entry-comments">
    <div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_shortname = "jverkamp";
            var disqus_title = "AoC 2018 Day 5: Alchemical reduction";
            var disqus_url = "https:\/\/blog.jverkamp.com\/2018\/12\/05\/aoc-2018-day-5-alchemical-reduction\/";

             
            (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>


</article>

            </div>
        </div>

        <footer id="page-footer" role="contentinfo">
    <nav id="footer-navigation" role="navigation" class="ribbon">
        <ul class="main-navigation">
            <li><a href="/archive-by-date/">All posts: By Date</a></li>
            <li><a href="/archive-by-tag/">All posts: By Tag</a></li>

            <li>
                <a href="/atom.xml">
                    RSS: All <sup>

<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24">
    <path fill="white" d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z" />
</svg>
</sup>
                </a>
            </li>

            
            <li>
                <a href="/programming/atom.xml">
                    RSS: programming<sup>

<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24">
    <path fill="white" d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z" />
</svg>
</sup>
                </a>
            </li>
            
        </ul>
    </nav>

    <div id="page-footer-content">
        <div class="legal">
            <p>
                All posts unless otherwise mentioned are licensed under
                <a rel="license" href="//creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US">
                    <img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nc-sa/3.0/80x15.png">
                </a>
            </p>

            <p>
                Any source code unless otherwise mentioned is licensed under the <a href="//directory.fsf.org/wiki/License:BSD_3Clause">3 clause BSD license</a>
            </p>
        </div>
    </div>
</footer>

    </div>

    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/nanogallery/4.4.2/jquery.nanogallery.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.js" integrity="sha384-OMvkZ24ANLwviZR2lVq8ujbE/bUO8IR1FdBrKLQBI14Gq5Xp/lksIccGkmKL8m+h" crossorigin="anonymous"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/bigfoot/2.1.4/bigfoot.min.js"></script>

<script type="text/javascript" src="/custom.js" defer></script>

</body>
</html>
